(function () {
    'use strict';

    var kind = 'trackerConsent';

    var formDataToJsonObject = function (formData) {
        var object = {};
        formData.forEach(function (value, key) {
            if (!Reflect.has(object, key)) {
                object[key] = value;
                return;
            }
            if (!Array.isArray(object[key])) {
                object[key] = [object[key]];
            }
            object[key].push(value);
        });
        return object;
    };
    var getStaticData = function (jsonStr) {
        try {
            return JSON.parse(jsonStr);
        }
        catch (e) {
            return null;
        }
    };
    var getJsonUsingFormId = function (formId) {
        try {
            var form = document.getElementById(formId);
            if (!form) {
                return null;
            }
            var formData = new FormData(form);
            return formDataToJsonObject(formData);
        }
        catch (e) {
            return null;
        }
    };
    var getJsonUsingInputIds = function (inputIds) {
        try {
            var inputIdsArray = inputIds.split(',');
            var object_1 = {};
            inputIdsArray.forEach(function (id) {
                var input = document.getElementById(id);
                if (input) {
                    object_1[id] = input.value;
                }
            });
            return object_1;
        }
        catch (e) {
            return null;
        }
    };
    var msftCallbackFunction = function (event) {
        event.preventDefault();
        var formData = new FormData(event.target);
        var object = formDataToJsonObject(formData);
        window.MSFTPrivacy[kind].trigger('QuestionsFormSubmitWithoutMetaData', {
            data: object,
        });
    };

    var ConsentModelType;
    (function (ConsentModelType) {
        ConsentModelType["Explicit"] = "Explicit";
        ConsentModelType["Implicit"] = "Implicit";
    })(ConsentModelType || (ConsentModelType = {}));
    var PublicEvents;
    (function (PublicEvents) {
        PublicEvents["ConsentChanged"] = "ConsentChanged";
        PublicEvents["ShowConsentNotice"] = "ShowConsentNotice";
        PublicEvents["ShowFirstPage"] = "ShowFirstPage";
        PublicEvents["CloseConsentNotice"] = "CloseConsentNotice";
        PublicEvents["AcceptAll"] = "AcceptAll";
        PublicEvents["RejectAll"] = "RejectAll";
        PublicEvents["ShowTemplate"] = "ShowTemplate";
        PublicEvents["CloseTemplate"] = "CloseTemplate";
        PublicEvents["UpdateConsent"] = "UpdateConsent";
        PublicEvents["AnchorTagClicked"] = "AnchorTagClicked";
        PublicEvents["FetchConfig"] = "FetchConfig";
        PublicEvents["QuestionsFormSubmitWithoutMetaData"] = "QuestionsFormSubmitWithoutMetaData";
        PublicEvents["QuestionsFormSubmit"] = "QuestionsFormSubmit";
        PublicEvents["ShowPreferences"] = "ShowPreferences";
        PublicEvents["ConsentPreference"] = "MSFTConsentPreference";
        PublicEvents["DataPropsUpdated"] = "DataPropsUpdated";
        PublicEvents["Done"] = "Done";
    })(PublicEvents || (PublicEvents = {}));
    var Events;
    (function (Events) {
        Events["Init"] = "Init";
        Events["CoreConsentModelSelected"] = "CoreConsentModelSelected";
        Events["ConfigReady"] = "ConfigReady";
    })(Events || (Events = {}));
    var Attributes;
    (function (Attributes) {
        // Web consent events
        Attributes["ConsentNotice"] = "msft-consent-notice";
        Attributes["AcceptAll"] = "msft-consent-accept-all";
        Attributes["OpenPreference"] = "msft-consent-open-preferences";
        Attributes["ClosePreference"] = "msft-consent-close-preferences";
        Attributes["DeclineAll"] = "msft-consent-decline-all";
        Attributes["SavePreferences"] = "msft-consent-save-preferences";
        Attributes["TrackerCategory"] = "msft-consent-tracker-category";
        // DSR events
        Attributes["QuestionnaireForm"] = "msft-questionnaire-form";
        Attributes["QuestionnaireFormSubmit"] = "msft-questionnaire-form-submit";
        // Generic events
        Attributes["Redirect"] = "msft-redirect";
        Attributes["OpenPage"] = "msft-open-page";
        Attributes["ClosePage"] = "msft-close-page";
        Attributes["TriggerEvent"] = "msft-trigger";
        Attributes["ToggleId"] = "msft-toggle-id";
        Attributes["ToggleOn"] = "msft-toggle-on";
        Attributes["ToggleOff"] = "msft-toggle-off";
        Attributes["FormPayloadData"] = "msft-payload-data";
        Attributes["FormId"] = "msft-payload-form-id";
        Attributes["FormInputIDs"] = "msft-payload-input-ids";
    })(Attributes || (Attributes = {}));
    var SDKMode;
    (function (SDKMode) {
        SDKMode["Default"] = "Default";
        SDKMode["HeadLess"] = "HeadLess";
    })(SDKMode || (SDKMode = {}));
    var StyleType;
    (function (StyleType) {
        StyleType["Url"] = "Url";
        StyleType["Text"] = "Text";
    })(StyleType || (StyleType = {}));
    var Preference;
    (function (Preference) {
        Preference["OFF"] = "0";
        Preference["ON"] = "1";
    })(Preference || (Preference = {}));
    var Cookie;
    (function (Cookie) {
        Cookie["Consent"] = "msft-consent";
        Cookie["ConsentMetadata"] = "msft-consent-metadata";
    })(Cookie || (Cookie = {}));
    var RegisteredDivType;
    (function (RegisteredDivType) {
        RegisteredDivType["Script"] = "script";
        RegisteredDivType["IFrame"] = "iframe";
    })(RegisteredDivType || (RegisteredDivType = {}));
    var NoticeType;
    (function (NoticeType) {
        NoticeType["TrackerCategory"] = "trackerCategory";
        NoticeType["Questions"] = "Questions";
    })(NoticeType || (NoticeType = {}));
    var ErrorStrings;
    (function (ErrorStrings) {
        ErrorStrings["TemplateError"] = "<b>There is something wrong with template. Please check logs.</b>";
    })(ErrorStrings || (ErrorStrings = {}));
    var IntervalUnits;
    (function (IntervalUnits) {
        IntervalUnits["day"] = "day";
        IntervalUnits["week"] = "week";
        IntervalUnits["month"] = "month";
        IntervalUnits["year"] = "year";
    })(IntervalUnits || (IntervalUnits = {}));
    var QuestionType;
    (function (QuestionType) {
        QuestionType["Text"] = "Text";
        QuestionType["Email"] = "Email";
        QuestionType["Radio"] = "Radio";
        QuestionType["MultiSelect"] = "MultiSelect";
        QuestionType["Select"] = "Select";
        QuestionType["Date"] = "Date";
        QuestionType["PhoneNumber"] = "PhoneNumber";
        QuestionType["CreditCard"] = "CreditCard";
        QuestionType["Number"] = "Number";
        QuestionType["MultiLineText"] = "multiLineText";
    })(QuestionType || (QuestionType = {}));
    var QuestionValidation;
    (function (QuestionValidation) {
        QuestionValidation["Required"] = "Required";
    })(QuestionValidation || (QuestionValidation = {}));
    var QuestionField;
    (function (QuestionField) {
        QuestionField["Question"] = "question";
        QuestionField["Placeholder"] = "placeholder";
        QuestionField["Options"] = "options";
    })(QuestionField || (QuestionField = {}));
    var ModelKind;
    (function (ModelKind) {
        ModelKind["WebConsent"] = "MICROSOFT.WebConsent";
        ModelKind["DSRSubmission"] = "MICROSOFT.DSRSubmission";
    })(ModelKind || (ModelKind = {}));
    var PackageKind;
    (function (PackageKind) {
        PackageKind["WebConsentPackage"] = "WebConsentPackage";
        PackageKind["FIDESPackage"] = "FIDESPackage";
        PackageKind["DSRSubmissionPackage"] = "DSRSubmissionPackage";
    })(PackageKind || (PackageKind = {}));
    var Template;
    (function (Template) {
        Template["Preferences"] = "Preferences";
    })(Template || (Template = {}));

    var handlers = [
        {
            //handler for accept all button
            selector: "[".concat(Attributes.AcceptAll, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('AcceptAll');
                    window.MSFTPrivacy[kind].trigger('CloseConsentNotice');
                });
            },
        },
        //handler for open preferences button
        {
            selector: "[".concat(Attributes.OpenPreference, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('ShowTemplate', {
                        templateId: 'Preferences',
                    });
                    window.MSFTPrivacy[kind].trigger('CloseConsentNotice');
                });
            },
        },
        //handler for decline all button
        {
            selector: "[".concat(Attributes.DeclineAll, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('RejectAll');
                    window.MSFTPrivacy[kind].trigger('CloseConsentNotice');
                });
            },
        },
        //handler for save preferences button
        {
            selector: "[".concat(Attributes.SavePreferences, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    var trackerCategoriesSelectors = document.querySelectorAll("[".concat(Attributes.TrackerCategory, "]"));
                    var currentPreferences = { preferences: {} };
                    trackerCategoriesSelectors.forEach(function (category) {
                        currentPreferences.preferences[category.getElementsByTagName('input')[0].id] = category.getElementsByTagName('input')[0].checked ? '1' : '0';
                    });
                    window.MSFTPrivacy[kind].trigger('UpdateConsent', {
                        consent: currentPreferences,
                    });
                    window.MSFTPrivacy[kind].trigger('CloseTemplate', {
                        templateId: 'Preferences',
                    });
                    window.MSFTPrivacy[kind].trigger('CloseConsentNotice');
                });
            },
        },
        //handler for close preferences button
        {
            selector: "[".concat(Attributes.ClosePreference, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('CloseTemplate', {
                        templateId: 'Preferences',
                    });
                    window.MSFTPrivacy[kind].trigger('ShowConsentNotice');
                });
            },
        },
        //handler for form submit
        {
            selector: "[".concat(Attributes.QuestionnaireForm, "]"),
            handler: function (elm) {
                elm.addEventListener('submit', msftCallbackFunction);
            },
        },
        //handler for open page
        {
            selector: "[".concat(Attributes.OpenPage, "]"),
            handler: function (elm) {
                var templateId = elm.getAttribute(Attributes.OpenPage);
                if (templateId === null)
                    return;
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('ShowTemplate', {
                        templateId: templateId,
                    });
                });
            },
        },
        //handler for close page
        {
            selector: "[".concat(Attributes.ClosePage, "]"),
            handler: function (elm) {
                var templateIds = elm.getAttribute(Attributes.ClosePage);
                if (templateIds === null)
                    return;
                elm.addEventListener('click', function () {
                    templateIds.split(',').forEach(function (templateId) {
                        window.MSFTPrivacy[kind].trigger('CloseTemplate', {
                            templateId: templateId,
                        });
                    });
                });
            },
        },
        //handler for trigger event
        {
            selector: "[".concat(Attributes.TriggerEvent, "]"),
            handler: function (elm) {
                var eventName = elm.getAttribute(Attributes.TriggerEvent);
                if (eventName === null)
                    return;
                elm.addEventListener('click', function () {
                    if (eventName === 'toggle-driven') {
                        var toggleId = elm.getAttribute(Attributes.ToggleId);
                        if (toggleId === null)
                            return;
                        var input = document.getElementById(toggleId);
                        if (input === null || input === void 0 ? void 0 : input.checked) {
                            eventName = input.getAttribute(Attributes.ToggleOn);
                        }
                        else {
                            eventName = input.getAttribute(Attributes.ToggleOff);
                        }
                    }
                    var staticData = elm.getAttribute(Attributes.FormPayloadData);
                    var formId = elm.getAttribute(Attributes.FormId);
                    var inputIds = elm.getAttribute(Attributes.FormInputIDs);
                    var payload = null;
                    if (staticData !== null) {
                        payload = getStaticData(staticData);
                    }
                    else if (formId !== null) {
                        payload = getJsonUsingFormId(formId);
                    }
                    else if (inputIds !== null) {
                        payload = getJsonUsingInputIds(inputIds);
                    }
                    eventName !== null &&
                        window.MSFTPrivacy[kind].trigger(eventName, payload);
                });
            },
        },
        {
            selector: "[".concat(Attributes.Redirect, "]"),
            handler: function (elm) {
                var redirectUrl = elm.getAttribute(Attributes.Redirect);
                if (redirectUrl) {
                    elm.addEventListener('click', function () { return (window.location.href = redirectUrl); });
                }
            },
        },
    ];
    window['disableQuestionFormSubmit'] = function () {
        document
            .querySelectorAll("[".concat(Attributes.QuestionnaireFormSubmit, "]"))
            .forEach(function (elm) {
            elm.setAttribute('disabled', '');
        });
    };
    window['enableQuestionFormSubmit'] = function () {
        document
            .querySelectorAll("[".concat(Attributes.QuestionnaireFormSubmit, "]"))
            .forEach(function (elm) {
            elm.removeAttribute('disabled');
        });
    };
    var registerHandlers = function () {
        var _a, _b, _c;
        var executionContexts = ((_b = (_a = window.msftData) === null || _a === void 0 ? void 0 : _a.executionContexts) === null || _b === void 0 ? void 0 : _b.length)
            ? window.msftData.executionContexts
            : [];
        // register all handlers
        handlers.forEach(function (_a) {
            var selector = _a.selector, handler = _a.handler;
            document.querySelectorAll(selector).forEach(function (elm) {
                if (executionContexts.length > 0) {
                    var attributes_1 = elm.getAttributeNames();
                    if (executionContexts.some(function (ctx) { return attributes_1.includes("".concat(ctx, "-disabled")); })) {
                        return;
                    }
                }
                handler(elm);
            });
        });
        //remove all hidden elements
        executionContexts.forEach(function (ctx) {
            document.querySelectorAll("[".concat(ctx, "-hidden]")).forEach(function (elm) {
                elm.remove();
            });
        });
        var isGPCEnabled = ((_c = window.msftData) === null || _c === void 0 ? void 0 : _c.isGPCEnabled) || false;
        if (isGPCEnabled) {
            var inputs = document.querySelectorAll('input');
            inputs.forEach(function (input) {
                input.setAttribute('disabled', '');
            });
            var buttons = document.querySelectorAll('button');
            buttons.forEach(function (button) {
                button.setAttribute('disabled', '');
                button.classList.add('msft-disabled');
            });
            var closeButtons = document.querySelectorAll("[".concat(Attributes.ClosePage, "]"));
            closeButtons.forEach(function (button) {
                button.removeAttribute('disabled');
                button.classList.remove('msft-disabled');
            });
        }
    };
    if (document.readyState !== 'loading') {
        registerHandlers();
    }
    else {
        document.addEventListener('DOMContentLoaded', function () {
            registerHandlers();
        });
    }

    var _a;
    var addProxyMethods = function () {
        Promise.resolve().then(function () { return anchorClickHandler; });
        Promise.resolve().then(function () { return proxy; }).then(function (_a) {
            var _b;
            var callMethod = _a.callMethod, sendMessage = _a.sendMessage;
            window.MSFTPrivacy = (_b = {}, _b[kind] = {}, _b);
            var methodsWithReturnType = ['getConsent', 'getTrackerCategories'];
            var methodsWithoutReturnType = ['trigger', 'showChangeSettingsModal'];
            methodsWithoutReturnType.forEach(function (methodName) {
                window.MSFTPrivacy[kind][methodName] = function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    sendMessage(methodName, args);
                };
            });
            methodsWithReturnType.forEach(function (methodName) {
                window.MSFTPrivacy[kind][methodName] = function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    return callMethod(methodName, args);
                };
            });
        });
    };
    if (!((_a = window.msftData) === null || _a === void 0 ? void 0 : _a.renderTemplateWithoutIframe)) {
        addProxyMethods();
    }

    var onclickHandler = function (e) {
        if (e.target &&
            e.target.nodeName.toLowerCase() === 'a') {
            var attributes = {};
            var attributeNames = e.target.getAttributeNames();
            e.preventDefault();
            e.stopPropagation();
            for (var i = 0; i < attributeNames.length; i++) {
                var attrName = attributeNames[i];
                attributes[attrName] =
                    e.target.getAttribute(attrName) || '';
            }
            window.MSFTPrivacy[kind].trigger(PublicEvents.AnchorTagClicked, {
                attributes: attributes,
            });
        }
    };
    // Options for the observer (which mutations to observe)
    var config = { childList: true, subtree: true };
    // Callback function to execute when mutations are observed
    var callback = function (mutationList) {
        mutationList.forEach(function (mutationRecord) {
            mutationRecord.addedNodes.forEach(function (addedNode) {
                if (addedNode.nodeName.toLowerCase() === 'a') {
                    addedNode.addEventListener('click', { handleEvent: onclickHandler });
                }
            });
        });
    };
    // Create an observer instance linked to the callback function
    var observer = new MutationObserver(callback);
    // Start observing the target node for configured mutations
    observer.observe(document.documentElement, config);

    var anchorClickHandler = /*#__PURE__*/Object.freeze({
        __proto__: null
    });

    var AsyncUtils = /** @class */ (function () {
        function AsyncUtils() {
        }
        AsyncUtils.deferred = function () {
            var defer = {};
            defer.promise = new Promise(function (res, rej) {
                defer.resolve = res;
                defer.reject = rej;
            });
            return defer;
        };
        return AsyncUtils;
    }());
    var AsyncUtils$1 = AsyncUtils;

    var promiseMap = {};
    var sendMessage = function (method, args, responseId) {
        var _a;
        if (parent) {
            if (args.length > 0 &&
                (args[0] === PublicEvents.ShowTemplate ||
                    args[0] === PublicEvents.CloseTemplate ||
                    args[0] === PublicEvents.CloseConsentNotice ||
                    !((_a = window.msftData) === null || _a === void 0 ? void 0 : _a.isGPCEnabled)))
                parent.postMessage({ method: method, params: Object.values(args), responseId: responseId }, msftData.origin);
        }
    };
    var callMethod = function (method, args) {
        var responseId = "".concat(method, "-").concat(new Date().getTime());
        var deferred = AsyncUtils$1.deferred();
        promiseMap[responseId] = deferred;
        sendMessage(method, args, responseId);
        return deferred.promise;
    };
    window.onmessage = function (e) {
        var _a;
        if (e.origin === msftData.origin && ((_a = e === null || e === void 0 ? void 0 : e.data) === null || _a === void 0 ? void 0 : _a.responseId)) {
            e.data.error
                ? promiseMap[e.data.responseId].reject(e.data.error)
                : promiseMap[e.data.responseId].resolve(e.data.response);
        }
    };

    var proxy = /*#__PURE__*/Object.freeze({
        __proto__: null,
        sendMessage: sendMessage,
        callMethod: callMethod
    });

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJveHkubWluLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL2NvbW1vbi9zZGsudHMiLCIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL3Byb3h5L2hlbHBlcnMudHMiLCIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL2NvcmUvY29uc3RhbnRzL2VudW1zLnRzIiwiLi4vLi4vLi4vLi4vLi4vU0RLL3NyYy9wcm94eS9hdHRyaWJ1dGVIYW5kbGVycy50cyIsIi4uLy4uLy4uLy4uLy4uL1NESy9zcmMvcHJveHkvaW5kZXgudHMiLCIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL3Byb3h5L2FuY2hvckNsaWNrSGFuZGxlci50cyIsIi4uLy4uLy4uLy4uLy4uL1NESy9zcmMvY29yZS91dGlscy9Bc3luY1V0aWxzLnRzIiwiLi4vLi4vLi4vLi4vLi4vU0RLL3NyYy9wcm94eS9wcm94eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qga2luZCA9ICdfX1BBQ0tBR0VfS0lORF9fJztcclxuIiwiaW1wb3J0IHsga2luZCB9IGZyb20gJ2NvbW1vbi9zZGsnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1EYXRhVG9Kc29uT2JqZWN0ID0gKGZvcm1EYXRhOiBGb3JtRGF0YSkgPT4ge1xyXG4gIGNvbnN0IG9iamVjdDogYW55ID0ge307XHJcbiAgZm9ybURhdGEuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgaWYgKCFSZWZsZWN0LmhhcyhvYmplY3QsIGtleSkpIHtcclxuICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdFtrZXldKSkge1xyXG4gICAgICBvYmplY3Rba2V5XSA9IFtvYmplY3Rba2V5XV07XHJcbiAgICB9XHJcbiAgICBvYmplY3Rba2V5XS5wdXNoKHZhbHVlKTtcclxuICB9KTtcclxuICByZXR1cm4gb2JqZWN0O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY0RhdGEgPSAoanNvblN0cjogc3RyaW5nKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHIpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRKc29uVXNpbmdGb3JtSWQgPSAoZm9ybUlkOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZvcm1JZCk7XHJcbiAgICBpZiAoIWZvcm0pIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtIGFzIEhUTUxGb3JtRWxlbWVudCk7XHJcbiAgICByZXR1cm4gZm9ybURhdGFUb0pzb25PYmplY3QoZm9ybURhdGEpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRKc29uVXNpbmdJbnB1dElkcyA9IChpbnB1dElkczogc3RyaW5nKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGlucHV0SWRzQXJyYXkgPSBpbnB1dElkcy5zcGxpdCgnLCcpO1xyXG4gICAgY29uc3Qgb2JqZWN0OiBhbnkgPSB7fTtcclxuICAgIGlucHV0SWRzQXJyYXkuZm9yRWFjaChpZCA9PiB7XHJcbiAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICBpZiAoaW5wdXQpIHtcclxuICAgICAgICBvYmplY3RbaWRdID0gKGlucHV0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBvYmplY3Q7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG1zZnRDYWxsYmFja0Z1bmN0aW9uID0gKGV2ZW50OiBhbnkpID0+IHtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGV2ZW50LnRhcmdldCk7XHJcbiAgY29uc3Qgb2JqZWN0OiBhbnkgPSBmb3JtRGF0YVRvSnNvbk9iamVjdChmb3JtRGF0YSk7XHJcbiAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ1F1ZXN0aW9uc0Zvcm1TdWJtaXRXaXRob3V0TWV0YURhdGEnLCB7XHJcbiAgICBkYXRhOiBvYmplY3QsXHJcbiAgfSk7XHJcbn07XHJcbiIsImV4cG9ydCBlbnVtIENvbnNlbnRNb2RlbFR5cGUge1xyXG4gIEV4cGxpY2l0ID0gJ0V4cGxpY2l0JyxcclxuICBJbXBsaWNpdCA9ICdJbXBsaWNpdCcsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFB1YmxpY0V2ZW50cyB7XHJcbiAgQ29uc2VudENoYW5nZWQgPSAnQ29uc2VudENoYW5nZWQnLFxyXG4gIFNob3dDb25zZW50Tm90aWNlID0gJ1Nob3dDb25zZW50Tm90aWNlJyxcclxuICBTaG93Rmlyc3RQYWdlID0gJ1Nob3dGaXJzdFBhZ2UnLFxyXG4gIENsb3NlQ29uc2VudE5vdGljZSA9ICdDbG9zZUNvbnNlbnROb3RpY2UnLFxyXG4gIEFjY2VwdEFsbCA9ICdBY2NlcHRBbGwnLFxyXG4gIFJlamVjdEFsbCA9ICdSZWplY3RBbGwnLFxyXG4gIFNob3dUZW1wbGF0ZSA9ICdTaG93VGVtcGxhdGUnLFxyXG4gIENsb3NlVGVtcGxhdGUgPSAnQ2xvc2VUZW1wbGF0ZScsXHJcbiAgVXBkYXRlQ29uc2VudCA9ICdVcGRhdGVDb25zZW50JyxcclxuICBBbmNob3JUYWdDbGlja2VkID0gJ0FuY2hvclRhZ0NsaWNrZWQnLFxyXG4gIEZldGNoQ29uZmlnID0gJ0ZldGNoQ29uZmlnJyxcclxuICBRdWVzdGlvbnNGb3JtU3VibWl0V2l0aG91dE1ldGFEYXRhID0gJ1F1ZXN0aW9uc0Zvcm1TdWJtaXRXaXRob3V0TWV0YURhdGEnLFxyXG4gIFF1ZXN0aW9uc0Zvcm1TdWJtaXQgPSAnUXVlc3Rpb25zRm9ybVN1Ym1pdCcsXHJcbiAgU2hvd1ByZWZlcmVuY2VzID0gJ1Nob3dQcmVmZXJlbmNlcycsXHJcbiAgQ29uc2VudFByZWZlcmVuY2UgPSAnTVNGVENvbnNlbnRQcmVmZXJlbmNlJyxcclxuICBEYXRhUHJvcHNVcGRhdGVkID0gJ0RhdGFQcm9wc1VwZGF0ZWQnLFxyXG4gIERvbmUgPSAnRG9uZScsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEV2ZW50cyB7XHJcbiAgSW5pdCA9ICdJbml0JyxcclxuICBDb3JlQ29uc2VudE1vZGVsU2VsZWN0ZWQgPSAnQ29yZUNvbnNlbnRNb2RlbFNlbGVjdGVkJyxcclxuICBDb25maWdSZWFkeSA9ICdDb25maWdSZWFkeScsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEF0dHJpYnV0ZXMge1xyXG4gIC8vIFdlYiBjb25zZW50IGV2ZW50c1xyXG4gIENvbnNlbnROb3RpY2UgPSAnbXNmdC1jb25zZW50LW5vdGljZScsXHJcbiAgQWNjZXB0QWxsID0gJ21zZnQtY29uc2VudC1hY2NlcHQtYWxsJyxcclxuICBPcGVuUHJlZmVyZW5jZSA9ICdtc2Z0LWNvbnNlbnQtb3Blbi1wcmVmZXJlbmNlcycsXHJcbiAgQ2xvc2VQcmVmZXJlbmNlID0gJ21zZnQtY29uc2VudC1jbG9zZS1wcmVmZXJlbmNlcycsXHJcbiAgRGVjbGluZUFsbCA9ICdtc2Z0LWNvbnNlbnQtZGVjbGluZS1hbGwnLFxyXG4gIFNhdmVQcmVmZXJlbmNlcyA9ICdtc2Z0LWNvbnNlbnQtc2F2ZS1wcmVmZXJlbmNlcycsXHJcbiAgVHJhY2tlckNhdGVnb3J5ID0gJ21zZnQtY29uc2VudC10cmFja2VyLWNhdGVnb3J5JyxcclxuXHJcbiAgLy8gRFNSIGV2ZW50c1xyXG4gIFF1ZXN0aW9ubmFpcmVGb3JtID0gJ21zZnQtcXVlc3Rpb25uYWlyZS1mb3JtJyxcclxuICBRdWVzdGlvbm5haXJlRm9ybVN1Ym1pdCA9ICdtc2Z0LXF1ZXN0aW9ubmFpcmUtZm9ybS1zdWJtaXQnLFxyXG5cclxuICAvLyBHZW5lcmljIGV2ZW50c1xyXG4gIFJlZGlyZWN0ID0gJ21zZnQtcmVkaXJlY3QnLFxyXG4gIE9wZW5QYWdlID0gJ21zZnQtb3Blbi1wYWdlJyxcclxuICBDbG9zZVBhZ2UgPSAnbXNmdC1jbG9zZS1wYWdlJyxcclxuICBUcmlnZ2VyRXZlbnQgPSAnbXNmdC10cmlnZ2VyJyxcclxuICBUb2dnbGVJZCA9ICdtc2Z0LXRvZ2dsZS1pZCcsXHJcbiAgVG9nZ2xlT24gPSAnbXNmdC10b2dnbGUtb24nLFxyXG4gIFRvZ2dsZU9mZiA9ICdtc2Z0LXRvZ2dsZS1vZmYnLFxyXG4gIEZvcm1QYXlsb2FkRGF0YSA9ICdtc2Z0LXBheWxvYWQtZGF0YScsXHJcbiAgRm9ybUlkID0gJ21zZnQtcGF5bG9hZC1mb3JtLWlkJyxcclxuICBGb3JtSW5wdXRJRHMgPSAnbXNmdC1wYXlsb2FkLWlucHV0LWlkcycsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFNES01vZGUge1xyXG4gIERlZmF1bHQgPSAnRGVmYXVsdCcsXHJcbiAgSGVhZExlc3MgPSAnSGVhZExlc3MnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBTdHlsZVR5cGUge1xyXG4gIFVybCA9ICdVcmwnLFxyXG4gIFRleHQgPSAnVGV4dCcsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFByZWZlcmVuY2Uge1xyXG4gIE9GRiA9ICcwJyxcclxuICBPTiA9ICcxJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gQ29va2llIHtcclxuICBDb25zZW50ID0gJ21zZnQtY29uc2VudCcsXHJcbiAgQ29uc2VudE1ldGFkYXRhID0gJ21zZnQtY29uc2VudC1tZXRhZGF0YScsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFJlZ2lzdGVyZWREaXZUeXBlIHtcclxuICBTY3JpcHQgPSAnc2NyaXB0JyxcclxuICBJRnJhbWUgPSAnaWZyYW1lJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gTm90aWNlVHlwZSB7XHJcbiAgVHJhY2tlckNhdGVnb3J5ID0gJ3RyYWNrZXJDYXRlZ29yeScsXHJcbiAgUXVlc3Rpb25zID0gJ1F1ZXN0aW9ucycsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEVycm9yU3RyaW5ncyB7XHJcbiAgVGVtcGxhdGVFcnJvciA9ICc8Yj5UaGVyZSBpcyBzb21ldGhpbmcgd3Jvbmcgd2l0aCB0ZW1wbGF0ZS4gUGxlYXNlIGNoZWNrIGxvZ3MuPC9iPicsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEludGVydmFsVW5pdHMge1xyXG4gIGRheSA9ICdkYXknLFxyXG4gIHdlZWsgPSAnd2VlaycsXHJcbiAgbW9udGggPSAnbW9udGgnLFxyXG4gIHllYXIgPSAneWVhcicsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFF1ZXN0aW9uVHlwZSB7XHJcbiAgVGV4dCA9ICdUZXh0JyxcclxuICBFbWFpbCA9ICdFbWFpbCcsXHJcbiAgUmFkaW8gPSAnUmFkaW8nLFxyXG4gIE11bHRpU2VsZWN0ID0gJ011bHRpU2VsZWN0JyxcclxuICBTZWxlY3QgPSAnU2VsZWN0JyxcclxuICBEYXRlID0gJ0RhdGUnLFxyXG4gIFBob25lTnVtYmVyID0gJ1Bob25lTnVtYmVyJyxcclxuICBDcmVkaXRDYXJkID0gJ0NyZWRpdENhcmQnLFxyXG4gIE51bWJlciA9ICdOdW1iZXInLFxyXG4gIE11bHRpTGluZVRleHQgPSAnbXVsdGlMaW5lVGV4dCcsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFF1ZXN0aW9uVmFsaWRhdGlvbiB7XHJcbiAgUmVxdWlyZWQgPSAnUmVxdWlyZWQnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBRdWVzdGlvbkZpZWxkIHtcclxuICBRdWVzdGlvbiA9ICdxdWVzdGlvbicsXHJcbiAgUGxhY2Vob2xkZXIgPSAncGxhY2Vob2xkZXInLFxyXG4gIE9wdGlvbnMgPSAnb3B0aW9ucycsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIE1vZGVsS2luZCB7XHJcbiAgV2ViQ29uc2VudCA9ICdNSUNST1NPRlQuV2ViQ29uc2VudCcsXHJcbiAgRFNSU3VibWlzc2lvbiA9ICdNSUNST1NPRlQuRFNSU3VibWlzc2lvbicsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFBhY2thZ2VLaW5kIHtcclxuICBXZWJDb25zZW50UGFja2FnZSA9ICdXZWJDb25zZW50UGFja2FnZScsXHJcbiAgRklERVNQYWNrYWdlID0gJ0ZJREVTUGFja2FnZScsXHJcbiAgRFNSU3VibWlzc2lvblBhY2thZ2UgPSAnRFNSU3VibWlzc2lvblBhY2thZ2UnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBUZW1wbGF0ZSB7XHJcbiAgUHJlZmVyZW5jZXMgPSAnUHJlZmVyZW5jZXMnLFxyXG59XHJcbiIsImltcG9ydCB7IGtpbmQgfSBmcm9tICdjb21tb24vc2RrJztcclxuaW1wb3J0IHtcclxuICBnZXRKc29uVXNpbmdGb3JtSWQsXHJcbiAgZ2V0SnNvblVzaW5nSW5wdXRJZHMsXHJcbiAgZ2V0U3RhdGljRGF0YSxcclxuICBtc2Z0Q2FsbGJhY2tGdW5jdGlvbixcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5pbXBvcnQgeyBBdHRyaWJ1dGVzIH0gZnJvbSAnY29yZS9jb25zdGFudHMvZW51bXMnO1xyXG5cclxuY29uc3QgaGFuZGxlcnMgPSBbXHJcbiAge1xyXG4gICAgLy9oYW5kbGVyIGZvciBhY2NlcHQgYWxsIGJ1dHRvblxyXG4gICAgc2VsZWN0b3I6IGBbJHtBdHRyaWJ1dGVzLkFjY2VwdEFsbH1dYCxcclxuICAgIGhhbmRsZXI6IChlbG06IEVsZW1lbnQpID0+IHtcclxuICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXS50cmlnZ2VyKCdBY2NlcHRBbGwnKTtcclxuICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignQ2xvc2VDb25zZW50Tm90aWNlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIC8vaGFuZGxlciBmb3Igb3BlbiBwcmVmZXJlbmNlcyBidXR0b25cclxuICB7XHJcbiAgICBzZWxlY3RvcjogYFske0F0dHJpYnV0ZXMuT3BlblByZWZlcmVuY2V9XWAsXHJcbiAgICBoYW5kbGVyOiAoZWxtOiBFbGVtZW50KSA9PiB7XHJcbiAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignU2hvd1RlbXBsYXRlJywge1xyXG4gICAgICAgICAgdGVtcGxhdGVJZDogJ1ByZWZlcmVuY2VzJyxcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignQ2xvc2VDb25zZW50Tm90aWNlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIC8vaGFuZGxlciBmb3IgZGVjbGluZSBhbGwgYnV0dG9uXHJcbiAge1xyXG4gICAgc2VsZWN0b3I6IGBbJHtBdHRyaWJ1dGVzLkRlY2xpbmVBbGx9XWAsXHJcbiAgICBoYW5kbGVyOiAoZWxtOiBFbGVtZW50KSA9PiB7XHJcbiAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignUmVqZWN0QWxsJyk7XHJcbiAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ0Nsb3NlQ29uc2VudE5vdGljZScpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICAvL2hhbmRsZXIgZm9yIHNhdmUgcHJlZmVyZW5jZXMgYnV0dG9uXHJcbiAge1xyXG4gICAgc2VsZWN0b3I6IGBbJHtBdHRyaWJ1dGVzLlNhdmVQcmVmZXJlbmNlc31dYCxcclxuICAgIGhhbmRsZXI6IChlbG06IEVsZW1lbnQpID0+IHtcclxuICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYWNrZXJDYXRlZ29yaWVzU2VsZWN0b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAgIGBbJHtBdHRyaWJ1dGVzLlRyYWNrZXJDYXRlZ29yeX1dYCxcclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcmVmZXJlbmNlczogYW55ID0geyBwcmVmZXJlbmNlczoge30gfTtcclxuICAgICAgICB0cmFja2VyQ2F0ZWdvcmllc1NlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChjYXRlZ29yeSkge1xyXG4gICAgICAgICAgY3VycmVudFByZWZlcmVuY2VzLnByZWZlcmVuY2VzW1xyXG4gICAgICAgICAgICBjYXRlZ29yeS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXS5pZFxyXG4gICAgICAgICAgXSA9IGNhdGVnb3J5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpWzBdLmNoZWNrZWQgPyAnMScgOiAnMCc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ1VwZGF0ZUNvbnNlbnQnLCB7XHJcbiAgICAgICAgICBjb25zZW50OiBjdXJyZW50UHJlZmVyZW5jZXMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ0Nsb3NlVGVtcGxhdGUnLCB7XHJcbiAgICAgICAgICB0ZW1wbGF0ZUlkOiAnUHJlZmVyZW5jZXMnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXS50cmlnZ2VyKCdDbG9zZUNvbnNlbnROb3RpY2UnKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgLy9oYW5kbGVyIGZvciBjbG9zZSBwcmVmZXJlbmNlcyBidXR0b25cclxuICB7XHJcbiAgICBzZWxlY3RvcjogYFske0F0dHJpYnV0ZXMuQ2xvc2VQcmVmZXJlbmNlfV1gLFxyXG4gICAgaGFuZGxlcjogKGVsbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ0Nsb3NlVGVtcGxhdGUnLCB7XHJcbiAgICAgICAgICB0ZW1wbGF0ZUlkOiAnUHJlZmVyZW5jZXMnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXS50cmlnZ2VyKCdTaG93Q29uc2VudE5vdGljZScpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICAvL2hhbmRsZXIgZm9yIGZvcm0gc3VibWl0XHJcbiAge1xyXG4gICAgc2VsZWN0b3I6IGBbJHtBdHRyaWJ1dGVzLlF1ZXN0aW9ubmFpcmVGb3JtfV1gLFxyXG4gICAgaGFuZGxlcjogKGVsbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgbXNmdENhbGxiYWNrRnVuY3Rpb24pO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIC8vaGFuZGxlciBmb3Igb3BlbiBwYWdlXHJcbiAge1xyXG4gICAgc2VsZWN0b3I6IGBbJHtBdHRyaWJ1dGVzLk9wZW5QYWdlfV1gLFxyXG4gICAgaGFuZGxlcjogKGVsbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICBjb25zdCB0ZW1wbGF0ZUlkID0gZWxtLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGVzLk9wZW5QYWdlKTtcclxuICAgICAgaWYgKHRlbXBsYXRlSWQgPT09IG51bGwpIHJldHVybjtcclxuICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXS50cmlnZ2VyKCdTaG93VGVtcGxhdGUnLCB7XHJcbiAgICAgICAgICB0ZW1wbGF0ZUlkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICAvL2hhbmRsZXIgZm9yIGNsb3NlIHBhZ2VcclxuICB7XHJcbiAgICBzZWxlY3RvcjogYFske0F0dHJpYnV0ZXMuQ2xvc2VQYWdlfV1gLFxyXG4gICAgaGFuZGxlcjogKGVsbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICBjb25zdCB0ZW1wbGF0ZUlkcyA9IGVsbS5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5DbG9zZVBhZ2UpO1xyXG4gICAgICBpZiAodGVtcGxhdGVJZHMgPT09IG51bGwpIHJldHVybjtcclxuICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHRlbXBsYXRlSWRzLnNwbGl0KCcsJykuZm9yRWFjaCh0ZW1wbGF0ZUlkID0+IHtcclxuICAgICAgICAgIHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXS50cmlnZ2VyKCdDbG9zZVRlbXBsYXRlJywge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZUlkLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIC8vaGFuZGxlciBmb3IgdHJpZ2dlciBldmVudFxyXG4gIHtcclxuICAgIHNlbGVjdG9yOiBgWyR7QXR0cmlidXRlcy5UcmlnZ2VyRXZlbnR9XWAsXHJcbiAgICBoYW5kbGVyOiAoZWxtOiBFbGVtZW50KSA9PiB7XHJcbiAgICAgIGxldCBldmVudE5hbWUgPSBlbG0uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMuVHJpZ2dlckV2ZW50KTtcclxuICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gJ3RvZ2dsZS1kcml2ZW4nKSB7XHJcbiAgICAgICAgICBjb25zdCB0b2dnbGVJZCA9IGVsbS5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5Ub2dnbGVJZCk7XHJcbiAgICAgICAgICBpZiAodG9nZ2xlSWQgPT09IG51bGwpIHJldHVybjtcclxuICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodG9nZ2xlSWQpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICBpZiAoaW5wdXQ/LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgZXZlbnROYW1lID0gaW5wdXQuZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMuVG9nZ2xlT24pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnROYW1lID0gaW5wdXQuZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMuVG9nZ2xlT2ZmKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc3RhdGljRGF0YSA9IGVsbS5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5Gb3JtUGF5bG9hZERhdGEpO1xyXG4gICAgICAgIGNvbnN0IGZvcm1JZCA9IGVsbS5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5Gb3JtSWQpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0SWRzID0gZWxtLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGVzLkZvcm1JbnB1dElEcyk7XHJcbiAgICAgICAgbGV0IHBheWxvYWQ6IGFueSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHN0YXRpY0RhdGEgIT09IG51bGwpIHtcclxuICAgICAgICAgIHBheWxvYWQgPSBnZXRTdGF0aWNEYXRhKHN0YXRpY0RhdGEpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybUlkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBwYXlsb2FkID0gZ2V0SnNvblVzaW5nRm9ybUlkKGZvcm1JZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dElkcyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgcGF5bG9hZCA9IGdldEpzb25Vc2luZ0lucHV0SWRzKGlucHV0SWRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXZlbnROYW1lICE9PSBudWxsICYmXHJcbiAgICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcihldmVudE5hbWUsIHBheWxvYWQpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc2VsZWN0b3I6IGBbJHtBdHRyaWJ1dGVzLlJlZGlyZWN0fV1gLFxyXG4gICAgaGFuZGxlcjogKGVsbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICBjb25zdCByZWRpcmVjdFVybCA9IGVsbS5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5SZWRpcmVjdCk7XHJcbiAgICAgIGlmIChyZWRpcmVjdFVybCkge1xyXG4gICAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgJ2NsaWNrJyxcclxuICAgICAgICAgICgpID0+ICh3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlZGlyZWN0VXJsKSxcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0sXHJcbl07XHJcblxyXG4od2luZG93IGFzIGFueSlbJ2Rpc2FibGVRdWVzdGlvbkZvcm1TdWJtaXQnXSA9ICgpID0+IHtcclxuICBkb2N1bWVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoYFske0F0dHJpYnV0ZXMuUXVlc3Rpb25uYWlyZUZvcm1TdWJtaXR9XWApXHJcbiAgICAuZm9yRWFjaChlbG0gPT4ge1xyXG4gICAgICBlbG0uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcnKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuKHdpbmRvdyBhcyBhbnkpWydlbmFibGVRdWVzdGlvbkZvcm1TdWJtaXQnXSA9ICgpID0+IHtcclxuICBkb2N1bWVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoYFske0F0dHJpYnV0ZXMuUXVlc3Rpb25uYWlyZUZvcm1TdWJtaXR9XWApXHJcbiAgICAuZm9yRWFjaChlbG0gPT4ge1xyXG4gICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5jb25zdCByZWdpc3RlckhhbmRsZXJzID0gKCkgPT4ge1xyXG4gIGNvbnN0IGV4ZWN1dGlvbkNvbnRleHRzID0gKHdpbmRvdyBhcyBhbnkpLm1zZnREYXRhPy5leGVjdXRpb25Db250ZXh0cz8ubGVuZ3RoXHJcbiAgICA/ICgod2luZG93IGFzIGFueSkubXNmdERhdGEuZXhlY3V0aW9uQ29udGV4dHMgYXMgc3RyaW5nW10pXHJcbiAgICA6IFtdO1xyXG4gIC8vIHJlZ2lzdGVyIGFsbCBoYW5kbGVyc1xyXG4gIGhhbmRsZXJzLmZvckVhY2goKHsgc2VsZWN0b3IsIGhhbmRsZXIgfSkgPT4ge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaChlbG0gPT4ge1xyXG4gICAgICBpZiAoZXhlY3V0aW9uQ29udGV4dHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBlbG0uZ2V0QXR0cmlidXRlTmFtZXMoKTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBleGVjdXRpb25Db250ZXh0cy5zb21lKGN0eCA9PiBhdHRyaWJ1dGVzLmluY2x1ZGVzKGAke2N0eH0tZGlzYWJsZWRgKSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaGFuZGxlcihlbG0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vcmVtb3ZlIGFsbCBoaWRkZW4gZWxlbWVudHNcclxuICBleGVjdXRpb25Db250ZXh0cy5mb3JFYWNoKGN0eCA9PiB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtjdHh9LWhpZGRlbl1gKS5mb3JFYWNoKGVsbSA9PiB7XHJcbiAgICAgIGVsbS5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBpc0dQQ0VuYWJsZWQgPSAod2luZG93IGFzIGFueSkubXNmdERhdGE/LmlzR1BDRW5hYmxlZCB8fCBmYWxzZTtcclxuICBpZiAoaXNHUENFbmFibGVkKSB7XHJcbiAgICBjb25zdCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpO1xyXG4gICAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJyk7XHJcbiAgICBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XHJcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtc2Z0LWRpc2FibGVkJyk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske0F0dHJpYnV0ZXMuQ2xvc2VQYWdlfV1gKTtcclxuICAgIGNsb3NlQnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtc2Z0LWRpc2FibGVkJyk7XHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5pZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2xvYWRpbmcnKSB7XHJcbiAgcmVnaXN0ZXJIYW5kbGVycygpO1xyXG59IGVsc2Uge1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICByZWdpc3RlckhhbmRsZXJzKCk7XHJcbiAgfSk7XHJcbn1cclxuIiwiaW1wb3J0ICcuL2F0dHJpYnV0ZUhhbmRsZXJzJztcclxuaW1wb3J0IHsga2luZCB9IGZyb20gJ2NvbW1vbi9zZGsnO1xyXG5cclxuY29uc3QgYWRkUHJveHlNZXRob2RzID0gKCkgPT4ge1xyXG4gIGltcG9ydCgnLi9hbmNob3JDbGlja0hhbmRsZXInKTtcclxuXHJcbiAgaW1wb3J0KCcuL3Byb3h5JykudGhlbigoeyBjYWxsTWV0aG9kLCBzZW5kTWVzc2FnZSB9KSA9PiB7XHJcbiAgICB3aW5kb3cuTVNGVFByaXZhY3kgPSB7IFtraW5kXToge30gfSBhcyBhbnk7XHJcblxyXG4gICAgY29uc3QgbWV0aG9kc1dpdGhSZXR1cm5UeXBlID0gWydnZXRDb25zZW50JywgJ2dldFRyYWNrZXJDYXRlZ29yaWVzJ107XHJcbiAgICBjb25zdCBtZXRob2RzV2l0aG91dFJldHVyblR5cGUgPSBbJ3RyaWdnZXInLCAnc2hvd0NoYW5nZVNldHRpbmdzTW9kYWwnXTtcclxuXHJcbiAgICBtZXRob2RzV2l0aG91dFJldHVyblR5cGUuZm9yRWFjaChtZXRob2ROYW1lID0+IHtcclxuICAgICAgKHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXSBhcyBhbnkpW21ldGhvZE5hbWVdID0gKFxyXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXHJcbiAgICAgICk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHNlbmRNZXNzYWdlKG1ldGhvZE5hbWUsIGFyZ3MpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgbWV0aG9kc1dpdGhSZXR1cm5UeXBlLmZvckVhY2gobWV0aG9kTmFtZSA9PiB7XHJcbiAgICAgICh3aW5kb3cuTVNGVFByaXZhY3lba2luZF0gYXMgYW55KVttZXRob2ROYW1lXSA9IChcclxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxyXG4gICAgICApOiBQcm9taXNlPGFueT4gPT4ge1xyXG4gICAgICAgIHJldHVybiBjYWxsTWV0aG9kKG1ldGhvZE5hbWUsIGFyZ3MpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5pZiAoISh3aW5kb3cgYXMgYW55KS5tc2Z0RGF0YT8ucmVuZGVyVGVtcGxhdGVXaXRob3V0SWZyYW1lKSB7XHJcbiAgYWRkUHJveHlNZXRob2RzKCk7XHJcbn1cclxuIiwiaW1wb3J0IHsgUHVibGljRXZlbnRzIH0gZnJvbSAnY29yZS9jb25zdGFudHMvZW51bXMnO1xyXG5pbXBvcnQgeyBraW5kIH0gZnJvbSAnY29tbW9uL3Nkayc7XHJcblxyXG5jb25zdCBvbmNsaWNrSGFuZGxlciA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgaWYgKFxyXG4gICAgZS50YXJnZXQgJiZcclxuICAgIChlLnRhcmdldCBhcyBIVE1MQW5jaG9yRWxlbWVudCkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2EnXHJcbiAgKSB7XHJcbiAgICBjb25zdCBhdHRyaWJ1dGVzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XHJcbiAgICBjb25zdCBhdHRyaWJ1dGVOYW1lcyA9IChlLnRhcmdldCBhcyBIVE1MQW5jaG9yRWxlbWVudCkuZ2V0QXR0cmlidXRlTmFtZXMoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGF0dHJOYW1lID0gYXR0cmlidXRlTmFtZXNbaV07XHJcbiAgICAgIGF0dHJpYnV0ZXNbYXR0ck5hbWVdID1cclxuICAgICAgICAoZS50YXJnZXQgYXMgSFRNTEFuY2hvckVsZW1lbnQpLmdldEF0dHJpYnV0ZShhdHRyTmFtZSkgfHwgJyc7XHJcbiAgICB9XHJcbiAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcihQdWJsaWNFdmVudHMuQW5jaG9yVGFnQ2xpY2tlZCwge1xyXG4gICAgICBhdHRyaWJ1dGVzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gT3B0aW9ucyBmb3IgdGhlIG9ic2VydmVyICh3aGljaCBtdXRhdGlvbnMgdG8gb2JzZXJ2ZSlcclxuY29uc3QgY29uZmlnID0geyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfTtcclxuXHJcbi8vIENhbGxiYWNrIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgd2hlbiBtdXRhdGlvbnMgYXJlIG9ic2VydmVkXHJcbmNvbnN0IGNhbGxiYWNrOiBNdXRhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24gKG11dGF0aW9uTGlzdCkge1xyXG4gIG11dGF0aW9uTGlzdC5mb3JFYWNoKG11dGF0aW9uUmVjb3JkID0+IHtcclxuICAgIG11dGF0aW9uUmVjb3JkLmFkZGVkTm9kZXMuZm9yRWFjaChhZGRlZE5vZGUgPT4ge1xyXG4gICAgICBpZiAoYWRkZWROb2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhJykge1xyXG4gICAgICAgIGFkZGVkTm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHsgaGFuZGxlRXZlbnQ6IG9uY2xpY2tIYW5kbGVyIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbi8vIENyZWF0ZSBhbiBvYnNlcnZlciBpbnN0YW5jZSBsaW5rZWQgdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbmNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spO1xyXG5cclxuLy8gU3RhcnQgb2JzZXJ2aW5nIHRoZSB0YXJnZXQgbm9kZSBmb3IgY29uZmlndXJlZCBtdXRhdGlvbnNcclxub2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGNvbmZpZyk7XHJcbiIsImV4cG9ydCBpbnRlcmZhY2UgSURlZmVycmVkPFQ+IHtcclxuICBwcm9taXNlOiBQcm9taXNlPFQ+O1xyXG4gIHJlc29sdmU6ICh2YWx1ZTogVCB8IFByb21pc2VMaWtlPFQ+KSA9PiB2b2lkO1xyXG4gIHJlamVjdDogKHJlYXNvbj86IGFueSkgPT4gdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXN5bmNVdGlscyB7XHJcbiAgcHVibGljIHN0YXRpYyBkZWZlcnJlZDxUPigpOiBJRGVmZXJyZWQ8VD4ge1xyXG4gICAgY29uc3QgZGVmZXIgPSB7fSBhcyBJRGVmZXJyZWQ8VD47XHJcbiAgICBkZWZlci5wcm9taXNlID0gbmV3IFByb21pc2U8VD4oKHJlcywgcmVqKSA9PiB7XHJcbiAgICAgIGRlZmVyLnJlc29sdmUgPSByZXM7XHJcbiAgICAgIGRlZmVyLnJlamVjdCA9IHJlajtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBkZWZlcjtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUHVibGljRXZlbnRzIH0gZnJvbSAnY29yZS9jb25zdGFudHMvZW51bXMnO1xyXG5pbXBvcnQgQXN5bmNVdGlscywgeyBJRGVmZXJyZWQgfSBmcm9tICdjb3JlL3V0aWxzL0FzeW5jVXRpbHMnO1xyXG5cclxuY29uc3QgcHJvbWlzZU1hcDogeyBba2V5OiBzdHJpbmddOiBJRGVmZXJyZWQ8YW55PiB9ID0ge307XHJcblxyXG5leHBvcnQgY29uc3Qgc2VuZE1lc3NhZ2UgPSAoXHJcbiAgbWV0aG9kOiBzdHJpbmcsXHJcbiAgYXJnczogYW55W10sXHJcbiAgcmVzcG9uc2VJZD86IHN0cmluZyxcclxuKSA9PiB7XHJcbiAgaWYgKHBhcmVudCkge1xyXG4gICAgaWYgKFxyXG4gICAgICBhcmdzLmxlbmd0aCA+IDAgJiZcclxuICAgICAgKGFyZ3NbMF0gPT09IFB1YmxpY0V2ZW50cy5TaG93VGVtcGxhdGUgfHxcclxuICAgICAgICBhcmdzWzBdID09PSBQdWJsaWNFdmVudHMuQ2xvc2VUZW1wbGF0ZSB8fFxyXG4gICAgICAgIGFyZ3NbMF0gPT09IFB1YmxpY0V2ZW50cy5DbG9zZUNvbnNlbnROb3RpY2UgfHxcclxuICAgICAgICAhKHdpbmRvdyBhcyBhbnkpLm1zZnREYXRhPy5pc0dQQ0VuYWJsZWQpXHJcbiAgICApXHJcbiAgICAgIHBhcmVudC5wb3N0TWVzc2FnZShcclxuICAgICAgICB7IG1ldGhvZDogbWV0aG9kLCBwYXJhbXM6IE9iamVjdC52YWx1ZXMoYXJncyksIHJlc3BvbnNlSWQgfSxcclxuICAgICAgICBtc2Z0RGF0YS5vcmlnaW4sXHJcbiAgICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhbGxNZXRob2QgPSAobWV0aG9kOiBzdHJpbmcsIGFyZ3M6IGFueVtdKTogUHJvbWlzZTxhbnk+ID0+IHtcclxuICBjb25zdCByZXNwb25zZUlkID0gYCR7bWV0aG9kfS0ke25ldyBEYXRlKCkuZ2V0VGltZSgpfWA7XHJcbiAgY29uc3QgZGVmZXJyZWQgPSBBc3luY1V0aWxzLmRlZmVycmVkPGFueT4oKTtcclxuICBwcm9taXNlTWFwW3Jlc3BvbnNlSWRdID0gZGVmZXJyZWQ7XHJcbiAgc2VuZE1lc3NhZ2UobWV0aG9kLCBhcmdzLCByZXNwb25zZUlkKTtcclxuICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxufTtcclxuXHJcbndpbmRvdy5vbm1lc3NhZ2UgPSBlID0+IHtcclxuICBpZiAoZS5vcmlnaW4gPT09IG1zZnREYXRhLm9yaWdpbiAmJiBlPy5kYXRhPy5yZXNwb25zZUlkKSB7XHJcbiAgICBlLmRhdGEuZXJyb3JcclxuICAgICAgPyBwcm9taXNlTWFwW2UuZGF0YS5yZXNwb25zZUlkXS5yZWplY3QoZS5kYXRhLmVycm9yKVxyXG4gICAgICA6IHByb21pc2VNYXBbZS5kYXRhLnJlc3BvbnNlSWRdLnJlc29sdmUoZS5kYXRhLnJlc3BvbnNlKTtcclxuICB9XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJBc3luY1V0aWxzIl0sIm1hcHBpbmdzIjoiOzs7SUFBTyxJQUFNLElBQUksR0FBRyxrQkFBa0I7O0lDRS9CLElBQU0sb0JBQW9CLEdBQUcsVUFBQyxRQUFrQjtRQUNyRCxJQUFNLE1BQU0sR0FBUSxFQUFFLENBQUM7UUFDdkIsUUFBUSxDQUFDLE9BQU8sQ0FBQyxV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
