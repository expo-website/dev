/* eslint-disable */

!function(){"use strict";var x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,c,s,a){return new(s=s||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,o)}i((a=a.apply(e,c||[])).next())})}function a(r,o){var i,c,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,c&&(s=2&t[0]?c.return:t[0]?c.throw||((s=c.return)&&s.call(c),0):c.next)&&!(s=s.call(c,t[1])).done)return s;switch(c=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,c=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=o.call(r,a)}catch(e){t=[6,e],c=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}}function L(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),c=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)c.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function d(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}$.isObject=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},$.mergeDeep=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!n.length)return e;var o=n.shift();if(this.isObject(e)&&this.isObject(o))for(var i in o)this.isObject(o[i])?(e[i]||Object.assign(e,((t={})[i]={},t)),this.mergeDeep(e[i],o[i])):Object.assign(e,((t={})[i]=o[i],t));return this.mergeDeep.apply(this,d([e],l(n),!1))};var t,N,V,i,B=$;function $(){}(e=t=t||{}).PRESENTATION="presentation",e.PREVIEW="preview",e.CONFIG="config",e.HANDLEBAR="handlebar",e.PROXY="proxy",e.DSR="dsr",(e=N=N||{}).PRESENTATION="$jsRootPath/msft-privacy/packages/$packageId/js/presentation.min.js",e.PREVIEW="$jsRootPath/msft-privacy/packages/$packageId/js/preview.min.js",e.HANDLEBAR="$jsRootPath/msft-privacy/packages/$packageId/js/vendor/handlebars.min.js",e.PROXY="$jsRootPath/msft-privacy/packages/$packageId/js/proxy.min.js",e.DSR="$jsRootPath/msft-privacy/packages/$packageId/js/dsr.min.js",(e=V=V||{}).PRESENTATION="msft-presentation.js",e.HANDLEBAR="msft-handlebars.js",e.PROXY="msft-proxy.js",e.DSR="dsr.js",(e=i=i||{}).PATH="path",e.VARIABLE="variable";var H,U,G,W,Y,z,X,c,Q,q,J,Z,ee,te,ne,re,oe,ie,ce,e=function(e){this.state=e||{config:{},debug:{logs:[],events:[]},custom:{},userValues:{}}},n=(K(r,H=e),Object.defineProperty(r.prototype,"debugInfo",{get:function(){return this.state.debug},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.state.config},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"userConsent",{get:function(){return this.state.custom.userConsent},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isHeadless",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isPreviewMode",{get:function(){var e;return(null==(e=this.state.config.initConfig)?void 0:e.preview)||!1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isActionDisabled",{get:function(){var e;return(null==(e=this.state.config.initConfig)?void 0:e.disableActions)||!1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isLivePreviewMode",{get:function(){var e;try{return"ConsentLivePreview"===(null==(e=window.parent)?void 0:e.name)}catch(e){return!1}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"presentationVariable",{get:function(){return V.PRESENTATION},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"handlebarVariable",{get:function(){return V.HANDLEBAR},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"proxyVariable",{get:function(){return V.PROXY},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dsrVariable",{get:function(){return V.DSR},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataProps",{get:function(){return this.state.custom.dynamicValues||{}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isGPCEnabled",{get:function(){var e=null==(e=window.navigator.globalPrivacyControl)?void 0:e.toString();return!!e&&("true"===e||"1"===e)},enumerable:!1,configurable:!0}),r);function r(e){return H.call(this,e)||this}(o=U=U||{}).Explicit="Explicit",o.Implicit="Implicit",(o=G=G||{}).ConsentChanged="ConsentChanged",o.ShowConsentNotice="ShowConsentNotice",o.ShowFirstPage="ShowFirstPage",o.CloseConsentNotice="CloseConsentNotice",o.AcceptAll="AcceptAll",o.RejectAll="RejectAll",o.ShowTemplate="ShowTemplate",o.CloseTemplate="CloseTemplate",o.UpdateConsent="UpdateConsent",o.AnchorTagClicked="AnchorTagClicked",o.FetchConfig="FetchConfig",o.QuestionsFormSubmitWithoutMetaData="QuestionsFormSubmitWithoutMetaData",o.QuestionsFormSubmit="QuestionsFormSubmit",o.ShowPreferences="ShowPreferences",o.ConsentPreference="MSFTConsentPreference",o.DataPropsUpdated="DataPropsUpdated",o.Done="Done",(o=W=W||{}).Init="Init",o.CoreConsentModelSelected="CoreConsentModelSelected",o.ConfigReady="ConfigReady",(o=Y=Y||{}).ConsentNotice="msft-consent-notice",o.AcceptAll="msft-consent-accept-all",o.OpenPreference="msft-consent-open-preferences",o.ClosePreference="msft-consent-close-preferences",o.DeclineAll="msft-consent-decline-all",o.SavePreferences="msft-consent-save-preferences",o.TrackerCategory="msft-consent-tracker-category",o.QuestionnaireForm="msft-questionnaire-form",o.QuestionnaireFormSubmit="msft-questionnaire-form-submit",o.Redirect="msft-redirect",o.OpenPage="msft-open-page",o.ClosePage="msft-close-page",o.TriggerEvent="msft-trigger",o.ToggleId="msft-toggle-id",o.ToggleOn="msft-toggle-on",o.ToggleOff="msft-toggle-off",o.FormPayloadData="msft-payload-data",o.FormId="msft-payload-form-id",o.FormInputIDs="msft-payload-input-ids",(o=z=z||{}).Default="Default",o.HeadLess="HeadLess",(o=X=X||{}).Url="Url",o.Text="Text",(o=c=c||{}).OFF="0",o.ON="1",(o=Q=Q||{}).Consent="msft-consent",o.ConsentMetadata="msft-consent-metadata",(o=q=q||{}).Script="script",o.IFrame="iframe",(o=J=J||{}).TrackerCategory="trackerCategory",o.Questions="Questions",(Z=Z||{}).TemplateError="<b>There is something wrong with template. Please check logs.</b>",(o=ee=ee||{}).day="day",o.week="week",o.month="month",o.year="year",(o=te=te||{}).Text="Text",o.Email="Email",o.Radio="Radio",o.MultiSelect="MultiSelect",o.Select="Select",o.Date="Date",o.PhoneNumber="PhoneNumber",o.CreditCard="CreditCard",o.Number="Number",o.MultiLineText="multiLineText",(ne=ne||{}).Required="Required",(o=re=re||{}).Question="question",o.Placeholder="placeholder",o.Options="options",(o=oe=oe||{}).WebConsent="MICROSOFT.WebConsent",o.DSRSubmission="MICROSOFT.DSRSubmission",(o=ie=ie||{}).WebConsentPackage="WebConsentPackage",o.FIDESPackage="FIDESPackage",o.DSRSubmissionPackage="DSRSubmissionPackage",(ce=ce||{}).Preferences="Preferences";var se,o=Object.freeze({__proto__:null,get ConsentModelType(){return U},get PublicEvents(){return G},get Events(){return W},get Attributes(){return Y},get SDKMode(){return z},get StyleType(){return X},get Preference(){return c},get Cookie(){return Q},get RegisteredDivType(){return q},get NoticeType(){return J},get ErrorStrings(){return Z},get IntervalUnits(){return ee},get QuestionType(){return te},get QuestionValidation(){return ne},get QuestionField(){return re},get ModelKind(){return oe},get PackageKind(){return ie},get Template(){return ce}}),ae=(K(ue,se=e),ue.prototype.saveDebugInfo=function(e){var t=e.event,e=e.log;t&&this.state.debug.events.push(t),e&&this.state.debug.logs.push(e)},ue.prototype.setUserConsent=function(e){this.state.custom.userConsent=e},ue.prototype.setInitConfig=function(e){null!=(this.state.config.initConfig=e)&&e.dataProps&&this.setDataProps(e.dataProps)},ue.prototype.setDataProps=function(e){this.state.custom.dynamicValues=p(p({},this.state.custom.dynamicValues||{}),e),_e.trigger(G.DataPropsUpdated,this.state.custom.dynamicValues)},ue.prototype.addCustomUserValue=function(e,t){this.state.userValues[e]=t},ue.prototype.getCustomUserValue=function(e){return this.state.userValues[e]},ue);function ue(e){return se.call(this,e)||this}var le,e=(new e).state,u={getters:new n(e),reducers:new ae(e),addReducers:function(e){this.reducers=B.mergeDeep(this.reducers,e)},addGetters:function(e){Object.defineProperties(this.getters,Object.getOwnPropertyDescriptors(e.prototype))}},de=((n=le=le||{})[n.INFO=0]="INFO",n[n.WARN=1]="WARN",n[n.ERROR=2]="ERROR",fe.log=function(e,t){switch(e){case le.WARN:console.warn(t);break;case le.ERROR:console.error(t)}},fe);function fe(){}ge.info=function(e,t){ge.log(le.INFO,e,t)},ge.warn=function(e,t){ge.log(le.WARN,e,t)},ge.error=function(e,t){ge.log(le.ERROR,e,t)},ge.log=function(e,t,n){t=ge.formatLogMessage(e,t,n);u.reducers.saveDebugInfo({log:t}),de.log(e,t)},ge.formatLogMessage=function(e,t,n){n=n?"| ".concat(JSON.stringify(n)):"";return"[".concat(le[e],"] ").concat(t," ").concat(n)};var pe,f=ge;function ge(){}function ve(){this.strategy=pe.REPLAY_ALL}(ae=pe=pe||{})[ae.REPLAY_ALL=0]="REPLAY_ALL",ae[ae.REPLAY_LATEST=1]="REPLAY_LATEST",ae[ae.SKIP=2]="SKIP",ve.prototype.execute=function(t,e){e.forEach(function(e){e=e.payload;return t(e)})};e=new ve;function he(){this.strategy=pe.REPLAY_LATEST}he.prototype.execute=function(e,t){t.length&&e(t[t.length-1].payload)};n=new he;function me(){this.strategy=pe.SKIP}me.prototype.execute=function(){};var ae=new me,Se=((Ee={})[pe.REPLAY_ALL]=e,Ee[pe.REPLAY_LATEST]=n,Ee[pe.SKIP]=ae,Ee),ye=(be.record=function(e,t){this.eventsLogs[e]=this.eventsLogs[e]||[],this.eventsLogs[e].push({payload:t})},be.replay=function(e,t,n){void 0===n&&(n=this.DEFAULT_STRATEGY),Se[n].execute(t,this.eventsLogs[e]||[])},be.eventsLogs={},be.DEFAULT_STRATEGY=pe.REPLAY_LATEST,be);function be(){}function we(){this.events={},this.eventIdCounter=0}we.getDefaultEventDetails=function(){return{executionCount:0,callbacks:[]}},we.prototype.on=function(e,t,n){var n=void 0===n?{}:n,r=n.sync,r=void 0!==r&&r,n=n.replayStrategy,r=(f.info("Callback registered for event : ".concat(e)),this.eventIdCounter++,{id:this.eventIdCounter,fn:t,sync:r});return this.events[e]=this.events[e]||we.getDefaultEventDetails(),this.events[e].callbacks.push(r),ye.replay(e,t,n),this.eventIdCounter},we.prototype.trigger=function(r,o){var e=this,t=(void 0===o&&(o={}),(null==(t=this.events[r])?void 0:t.callbacks)||[]);f.info("Started executing '".concat(t.length,"' callbacks for event '").concat(r,"'"),o),u.reducers.saveDebugInfo({event:r}),t.forEach(function(n){return s(e,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),n.sync?[3,2]:[4,Promise.resolve()];case 1:e.sent(),e.label=2;case 2:return n.fn(o),[3,4];case 3:return t=e.sent(),f.error("Error in executing callback id : ".concat(n.id," for event '").concat(r),t),[3,4];case 4:return[2]}})})}),ye.record(r,o),f.info("Completed executing '".concat(t.length,"' callbacks for event '").concat(r,"'"),o),this.events[r]&&this.events[r].executionCount++},we.prototype.off=function(e,t){var n=null==(n=this.events[e])?void 0:n.callbacks.findIndex(function(e){return e.id===t||e.fn===t});"number"==typeof n&&~n?(f.info("Removing event listener '".concat(this.events[e].callbacks[n].id,"' of '").concat(e,"' event")),this.events[e].callbacks.splice(n,1)):f.error("Unable to remove event listener for event '".concat(e,"'. No matching event id or callback found."))},we.prototype.hasListener=function(e){return 0<(null==(e=this.events[e])?void 0:e.callbacks.length)};var _e=new we,Ce=(Te.initConsent=function(e){u.reducers.setInitConfig(e),_e.trigger(W.Init,e)},Te);function Te(){}Me.push=function(e){u.reducers.setDataProps(e)};e=Me;function Me(){}Pe.init=function(e){Ce.initConsent(e)},Pe.on=function(e,t,n){n=(void 0===n?{}:n).sync,n=void 0!==n&&n;if(!(e in W))return _e.on(e,t,{sync:n});f.error("Cannot subscribe to internal event '".concat(e,"'."))},Pe.trigger=function(e,t){e in W?f.error("Cannot trigger internal event '".concat(e,"'.")):_e.trigger(e,t)},Pe.off=function(e,t){e in W?f.error("Cannot detach listener for internal event '".concat(e,"'.")):_e.off(e,t)},Pe.addValue=function(e,t){u.reducers.addCustomUserValue(e,t)},Pe.getValue=function(e){return u.reducers.getCustomUserValue(e)},Pe.dataProps=e;n=Pe;function Pe(){}var g="trackerConsent",ae=(v.createIFrame=function(e,t,n,r){var o,i=null==(o=u.getters.config.initConfig)?void 0:o.renderTemplateWithoutIframe;document.body?v.appendElement(i?v.getDivElement(e,t,null==n):v.getIframeObject(e,t,null==n,r),n):window.addEventListener("DOMContentLoaded",function(){v.appendElement(i?v.getDivElement(e,t,null==n):v.getIframeObject(e,t,null==n,r),n)})},v.getGlobalStyle=function(){return".msft-disabled{opacity:0.5;}"},v.getIframeObject=function(e,t,n,r){e="<html><head><style>.msft-iframe-body{background-color: rgb(204 204 204 / 60%);} ".concat(this.getGlobalStyle(),'</style></head><body class="msft-iframe-body">').concat(e).concat(v.getAllStylesAsText(r),"</body></html>"),r=document.createElement("iframe");return r.setAttribute("style","height:100%;width:100%;border:0;position:".concat(n?"fixed":"relative",";top:0;left:0;z-index:5000;")),r.className="msft-model-container",r.setAttribute("sandbox","allow-scripts allow-forms"),r.id=t,r.srcdoc=e,r},v.getDivElement=function(e,n,t){for(var r=document.createElement("style"),o=(r.appendChild(document.createTextNode(".msft-iframe-body{background-color: rgb(204 204 204 / 60%);height:100%;width:100%}")),document.createElement("div")),e=(o.innerHTML=e,o.className="msft-iframe-body",document.createElement("div")),i=(e.setAttribute("style","height:100%;width:100%;border:0;position:".concat(t?"fixed":"relative",";top:0;left:0;z-index:5000;")),e.className="msft-model-container",e.id=n,e.appendChild(r),e.appendChild(o),e.getElementsByTagName("script")),c=[],s=0;s<i.length;s++){var a,u=document.createElement("script");i[s].src?u.src=i[s].src:(a=document.createTextNode(i[s].innerHTML),u.appendChild(a)),c.push(u)}return setTimeout(function(){c.forEach(function(e){var t;null!=(t=document.getElementById(n))&&t.appendChild(e)})}),e},v.appendElement=function(e,t){(t||document.body).appendChild(e)},v.appendStyles=function(e){var n="";return null!=e&&e.forEach(function(e){var t;e.type==X.Text?((t=document.createElement("style")).appendChild(document.createTextNode(e.value)),n+=t.outerHTML):e.type==X.Url&&((t=document.createElement("link")).rel="stylesheet",t.href=e.value,n+=t.outerHTML)}),n},v.getAllStylesAsText=function(e){var t="",n=d(d([],l(document.getElementsByTagName("style")),!1),l(document.getElementsByTagName("link")),!1);return t+=this.appendStyles(e),n.forEach(function(e){return t+=e.outerHTML}),t+=this.appendStyles(window.__MSFT_SDK[g].Store.getters.styles)},v);function v(){}De.addPublicApis=function(e){this.PublicApis=e},De.exposeApis=function(){var e=Object.getOwnPropertyNames(window.MSFTPrivacy[g]).filter(function(e){return"function"==typeof e}),t=Object.getOwnPropertyNames(this.PublicApis);e.forEach(function(e){t.includes(e)&&f.warn("Already existing Public Api with the same name '".concat(e,"'"))}),Object.defineProperties(window.MSFTPrivacy[g],Object.getOwnPropertyDescriptors(this.PublicApis))};var Ee=De;function De(){}var Oe={OFF:"0",ON:"1",COOKIE_NAME:"APCC",ConsentConfig:"MicrosoftConsentConfig",TrackerCategoryControl:"TrackerCategory",GeoLocations:"GeoLocations",CountriesOrRegions:"CountriesOrRegions"},e=Object.freeze({__proto__:null,Constants:Oe}),Fe=(Ae.topologicalSort=function(e){var n=this,r=this.getAdjacencyList(e),o={};return Object.keys(r).reduce(function(e,t){return e.concat(n.dfs(t,r,o))},[])},Ae.dfs=function(e,n,r,o){var t,i=this;if((o=void 0===o?{}:o)[e])throw new Error("Circular dependency found!");return r[e]?[]:(o[e]=!0,t=(null==(t=n[e])?void 0:t.reduce(function(e,t){return e.concat(i.dfs(t,n,r,o))},[]))||[],r[e]=!0,o[e]=!1,t.concat(e))},Ae.getAdjacencyList=function(e){var n={};return e.forEach(function(e){var e=l(e,2),t=e[0],e=e[1];n[t]=n[t]||[],(t=n[t]).push.apply(t,d([],l(e),!1))}),n},Ae);function Ae(){}var ke={Translation:function(e,t){var n;f.info("fetch translation callback invoked",{noticeName:e,translation:t}),window.__MSFT_SDK[g].Store.reducers.setTranslations(d(d([],l(window.__MSFT_SDK[g].Store.getters.translations||[]),!1),[((n={})[e]=t.translations,n)],!1))},Model:function(e){f.info("fetch model callback invoked",{val:e}),window.__MSFT_SDK[g].Store.reducers.setCurrentModel(e)},Template:function(e){f.info("fetch template callback invoked",{val:e}),window.__MSFT_SDK[g].Store.reducers.setTemplate(e)}},Ie=function(){var e;return{fields:{packageId:null==(e=window.__MSFT_SDK[g].config)?void 0:e.id,modelId:(null==(e=u.getters.selectedCoreModel)?void 0:e.id)||"",lcid:u.getters.lcid,sdkRootPath:(null==(e=u.getters.config.initConfig)?void 0:e.assetsPath)||(null==(e=u.getters.packageConfigurations)?void 0:e.assetsPath)||"",jsRootPath:(null==(e=u.getters.config.initConfig)?void 0:e.jsPath)||(null==(e=u.getters.config.initConfig)?void 0:e.assetsPath)||(null==(e=u.getters.packageConfigurations)?void 0:e.assetsPath)||"",modelVersion:""+(null==(e=u.getters.selectedCoreModel)?void 0:e.version),packageVersion:"latest"},modules:d([{module:t.CONFIG,source:{type:i.VARIABLE,value:"config.js"},dependency:[],callback:function(){window.__MSFT_SDK[g].EventBus.trigger(window.__MSFT_SDK[g].enums.Events.ConfigReady)},condition:function(){return!(u.getters.isPreviewMode||u.getters.isLivePreviewMode)},configs:d(d([],l((null==(e=u.getters.selectedCoreModel)?void 0:e.kind)===oe.WebConsent?window.__MSFT_SDK[g].Store.getters.bannerTrackerCategories.map(function(t){return{source:{type:i.PATH,value:"$sdkRootPath/msft-privacy/packages/$packageId/$packageVersion/models/$modelId/$modelVersion/translations/".concat(t.objectId,"/$lcid.json")},callback:function(e){return ke.Translation(t.objectId,e)}}}):[]),!1),[{source:{type:i.PATH,value:"$sdkRootPath/msft-privacy/packages/$packageId/$packageVersion/models/$modelId/$modelVersion/translations/model/$lcid.json"},callback:function(e){return ke.Translation("model",e)}},{source:{type:i.PATH,value:"$sdkRootPath/msft-privacy/packages/$packageId/$packageVersion/models/$modelId/$modelVersion/model.json"},callback:ke.Model},{source:{type:i.PATH,value:"$sdkRootPath/msft-privacy/packages/$packageId/$packageVersion/models/$modelId/$modelVersion/templates/".concat(null==(e=u.getters.selectedCoreModel)?void 0:e.layout.id,"/template.json")},callback:ke.Template}],!1)},{module:t.PRESENTATION,source:u.getters.isPreviewMode?{type:i.VARIABLE,value:u.getters.presentationVariable}:{type:i.PATH,value:N.PRESENTATION},condition:function(){return!u.getters.isHeadless},dependency:d([t.HANDLEBAR,t.CONFIG,t.PROXY],l((null==(e=u.getters.selectedCoreModel)?void 0:e.kind)===oe.DSRSubmission?[t.DSR]:[]),!1)},{module:t.HANDLEBAR,source:u.getters.isPreviewMode?{type:i.VARIABLE,value:u.getters.handlebarVariable}:{type:i.PATH,value:N.HANDLEBAR},condition:function(){return!u.getters.isHeadless},dependency:[]},{module:t.PREVIEW,source:{type:i.PATH,value:N.PREVIEW},condition:function(){return u.getters.isLivePreviewMode},dependency:[]},{module:t.PROXY,source:u.getters.isPreviewMode?{type:i.VARIABLE,value:u.getters.proxyVariable}:{type:i.PATH,value:N.PROXY},callback:function(e){window.__MSFT_SDK[g].Store.reducers.setProxyJS(e)},dependency:[]}],l((null==(e=u.getters.selectedCoreModel)?void 0:e.kind)===oe.DSRSubmission?[{module:t.DSR,source:u.getters.isPreviewMode?{type:i.VARIABLE,value:u.getters.dsrVariable}:{type:i.PATH,value:N.DSR},dependency:[]}]:[]),!1)}},je=(Re.deferred=function(){var n={};return n.promise=new Promise(function(e,t){n.resolve=e,n.reject=t}),n},Re);function Re(){}Ke.addScriptToDOM=function(e){var t=je.deferred(),n=document.createElement("script");return n.type="text/javascript",n.appendChild(document.createTextNode(e)),n.onload=function(){return t.resolve()},n.onerror=function(){return t.reject()},document.body?document.body.appendChild(n):window.addEventListener("DOMContentLoaded",function(){document.body.appendChild(n)}),t.promise};var xe=Ke;function Ke(){}Ne.fetch=function(o){return s(this,void 0,void 0,function(){var t,n,r;return a(this,function(e){return t=je.deferred(),n=t.promise,r=t.resolve,_e.trigger(G.FetchConfig,{path:o,callback:function(e){r(e.data)}}),[2,n]})})};var Le=Ne;function Ne(){}Be.fetch=function(t){return s(this,void 0,void 0,function(){return a(this,function(e){try{return[2,this.exponentialRetry(function(){return fetch(t).then(function(e){if(e.ok)return e;throw new Error(e.statusText)})})]}catch(e){f.error("Unable to fetch asset '".concat(t,"'"))}return[2]})})},Be.exponentialRetry=function(i,c){return void 0===c&&(c=0),s(this,void 0,void 0,function(){var t,n,r,o=this;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i()];case 1:return[2,e.sent()];case 2:if(t=e.sent(),(n=c+1)<this.MAX_RETRY_COUNT)return r=je.deferred(),setTimeout(function(){o.exponentialRetry(i,n).then(function(){return r.resolve()}).catch(function(){return r.reject()})},this.EXPONENTIAL_DELAY_FACTOR_IN_MS*n),[2,r.promise];throw t;case 3:return[2]}})})},Be.MAX_RETRY_COUNT=3,Be.EXPONENTIAL_DELAY_FACTOR_IN_MS=250;var Ve=Be;function Be(){}$e.fetchWrapper=function(n){var r;return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return null!=(r=window.__MSFT_SDK[g])&&r.EventBus.hasListener(G.FetchConfig)?[4,Le.fetch(n)]:[3,2];case 1:return[2,e.sent()];case 2:return[4,Ve.fetch(n)];case 3:return[4,null==(t=e.sent())?void 0:t.text()];case 4:return[2,null!=(r=e.sent())?r:""]}})})};var h=$e;function $e(e,t){this.source=e,this.value="",this.callback=t}K(Ge,He=h),Ge.prototype.fetch=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return(f.info("Fetching js module",this.source),this.source.type!==i.VARIABLE)?[3,1]:(this.value=window[this.source.value],[3,3]);case 1:return t=this,[4,Ge.fetchWrapper(this.source.value)];case 2:t.value=e.sent(),e.label=3;case 3:return[2]}})})},Ge.prototype.addToDOM=function(){return xe.addScriptToDOM(this.value)},Ge.prototype.execute=function(){return this.callback?(this.callback(this.value),Promise.resolve()):this.addToDOM()};var He,Ue=Ge;function Ge(e,t){return He.call(this,e,t)||this}K(ze,We=h),ze.prototype.fetch=function(){var o;return s(this,void 0,void 0,function(){var t,n,r;return a(this,function(e){switch(e.label){case 0:return(f.info("Fetching json module",this.source),this.source.type!==i.VARIABLE)?[3,1]:(this.value=window[this.source.value],[3,4]);case 1:return e.trys.push([1,3,,4]),t=this,r=(n=JSON).parse,[4,ze.fetchWrapper(this.source.value)];case 2:return t.value=r.apply(n,[e.sent()]),[3,4];case 3:return e.sent(),f.error("Error in fetching or parsing: ".concat(null==(o=this.source)?void 0:o.value)),[3,4];case 4:return[2]}})})},ze.prototype.execute=function(){return this.callback&&this.value?(this.callback(this.value),Promise.resolve()):Promise.reject(new Error("Callback not provided"))};var We,Ye=ze;function ze(e,t){return We.call(this,e,t)||this}Qe.resolveDependencies=function(){return s(this,void 0,void 0,function(){var t,n,r;return a(this,function(e){switch(e.label){case 0:return r=this.getModuleMapAndDependency(),t=r.moduleMap,r=r.moduleDependency,n=this.fetchAllAssets(t),r=Fe.topologicalSort(r),f.info("dependencies execution sequence",r),[4,Promise.all(n)];case 1:return e.sent(),r.forEach(function(e){t[e]&&t[e].forEach(function(e){return e.execute()})}),[2]}})})},Qe.fetchAllAssets=function(e){var t=[];return Object.values(e).forEach(function(e){e.forEach(function(e){t.push(e.fetch())})}),t},Qe.getModuleMapAndDependency=function(){var c=this,s={},a=[],e=Ie(),u=e.fields;return e.modules.forEach(function(e){var t=e.module,n=e.source,r=e.configs,o=e.condition,i=e.dependency,e=e.callback;o&&!o()||(s[t]=d([],l(c.getModuleTypeInstances({source:n,callback:e,fields:u})),!1),a.push([t,i||[]]),r&&(s["".concat(t,".configs")]=r.reduce(function(e,t){return e.concat(c.getModuleTypeInstances(p(p({},t),{fields:u})))},[]),a.push([t,["".concat(t,".configs")]])))}),{moduleMap:s,moduleDependency:a}},Qe.getModuleTypeInstances=function(e){var t=e.source,n=e.callback,e=e.fields;if(void 0===t)return[];var r=[],o=t.value.split(".").pop();return t.type===i.PATH?this.resolvePathFields({path:t.value,fields:e}).forEach(function(e){Qe.addModuleResolver({value:e,type:i.PATH},r,o,n)}):Qe.addModuleResolver(t,r,o,n),r},Qe.addModuleResolver=function(e,t,n,r){switch(n){case"js":t.push(new Ue(e,r));break;case"json":r?t.push(new Ye(e,r)):f.error("No callback provided for json asset with ".concat(e.type," '").concat(e.value,"'. Skipping it."));break;default:f.error("Cannot resolve dependency. Unknown extension identified for ".concat(e.type," '").concat(e.value,"'"))}},Qe.resolvePathFields=function(e){var t=e.path,o=e.fields,e=d([],l(t.matchAll(/\$(\w+)/g)),!1),i=[t];return e.forEach(function(n){var e=o[n[1]],e=Array.isArray(e)?e:[e],r=[];e.forEach(function(t){i.forEach(function(e){r.push(e.replace(n[0],t))})}),i=r}),i};var Xe=Qe;function Qe(){}function qe(e){return e&&e.Math==Math&&e}function m(e){try{return!!e()}catch(e){return!0}}function Je(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function Ze(e){return jt(It(e),8,-1)}function et(e){return null==e}function tt(e){if(Lt(e))throw Nt("Can't call method on "+e);return e}function nt(e){return Vt(Bt(e))}function rt(e,t){return arguments.length<2?(n=Gt[e],Wt(n)?n:void 0):Gt[e]&&Gt[e][t];var n}function ot(e){try{return Zt(e)}catch(e){return"Object"}}function it(e,t){return e=e[t],on(e)?void 0:rn(e)}function ct(t,n){try{dn(ln,t,{value:n,configurable:!0,writable:!0})}catch(e){ln[t]=n}return n}function st(e){return gn(pn(e))}function at(e){return"Symbol("+(void 0===e?"":e)+")_"+bn(++Sn+yn,36)}function ut(e){var t;return _n(Pn,e)&&(Tn||"string"==typeof Pn[e])||(t="Symbol."+e,Tn&&_n(En,e)?Pn[e]=En[e]:Pn[e]=(Mn&&Dn?Dn:On)(t)),Pn[e]}function lt(e){return e=Kn(e,"string"),Ln(e)?e:e+""}function dt(e){return Vn?Nn.createElement(e):{}}function ft(e){if(Qn(e))return e;throw Jn(qn(e)+" is not an object")}function pt(e){return fr[e]||(fr[e]=dr(e))}function gt(e,t,n,r){var o=(r=r||{}).enumerable,i=void 0!==r.name?r.name:t;if(Ar(n)&&Ir(n,i,r),r.global)o?e[t]=n:jr(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:kr.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e}function vt(e){return(e=+e)!=e||0==e?0:Kr(e)}function ht(e){return 0<e?$r(Br(e),9007199254740991):0}function mt(s){return function(e,t,n){var r,o=Ur(e),i=Wr(o),c=Gr(n,i);if(s&&t!=t){for(;c<i;)if((r=o[c++])!=r)return!0}else for(;c<i;c++)if((s||c in o)&&o[c]===t)return s||c||0;return!s&&-1}}function St(e,t){var n,r=zr(e),o=0,i=[];for(n in r)!Yr(Qr,n)&&Yr(r,n)&&qr(i,n);for(;t.length>o;)!Yr(r,n=t[o++])||~Xr(i,n)||qr(i,n);return i}function yt(e,t){return(e=po[fo(e)])==vo||e!=go&&(uo(t)?ao(t):!!t)}function bt(e,t){var n,r,o,i=e.target,c=e.global,s=e.stat,a=c?ho:s?ho[i]||bo(i,{}):(ho[i]||{}).prototype;if(a)for(n in t){if(r=t[n],o=e.dontCallGetSet?(o=mo(a,n))&&o.value:a[n],!_o(c?n:i+(s?".":"#")+n,e.forced)&&void 0!==o){if(typeof r==typeof o)continue;wo(r,o)}(e.sham||o&&o.sham)&&So(r,"sham",!0),yo(a,n,r,e)}}function wt(e){if("Symbol"===Do(e))throw TypeError("Cannot convert a Symbol value to a string");return Oo(e)}function _t(){var e=Fo(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}var Ct,Tt,Mt,Pt,h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=qe("object"==typeof globalThis&&globalThis)||qe("object"==typeof window&&window)||qe("object"==typeof self&&self)||qe("object"==typeof h&&h)||function(){return this}()||Function("return this")(),S={},y=!m(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Et=!m(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),Dt=Function.prototype.call,Ot=Et?Dt.bind(Dt):function(){return Dt.apply(Dt,arguments)},Ft={},b={}.propertyIsEnumerable,At=Object.getOwnPropertyDescriptor,w=At&&!b.call({1:2},1),w=(Ft.f=w?function(e){e=At(this,e);return!!e&&e.enumerable}:b,Et),b=Function.prototype,kt=b.call,b=w&&b.bind.bind(kt,kt),w=w?b:function(e){return function(){return kt.apply(e,arguments)}},b=w,It=b({}.toString),jt=b("".slice),b=m,Rt=Ze,xt=Object,Kt=w("".split),b=b(function(){return!xt("z").propertyIsEnumerable(0)})?function(e){return"String"==Rt(e)?Kt(e,""):xt(e)}:xt,Lt=et,Nt=TypeError,Vt=b,Bt=tt,b="object"==typeof document&&document.all,b={all:b,IS_HTMLDDA:void 0===b&&void 0!==b},$t=b.all,_=b.IS_HTMLDDA?function(e){return"function"==typeof e||e===$t}:function(e){return"function"==typeof e},Ht=_,Ut=b.all,b=b.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:Ht(e)||e===Ut}:function(e){return"object"==typeof e?null!==e:Ht(e)},Gt=h,Wt=_,Yt=w({}.isPrototypeOf),C=rt("navigator","userAgent")||"",T=h.process,M=h.Deno,T=T&&T.versions||M&&M.version,M=T&&T.v8,zt=(E=!(E=M?0<(P=M.split("."))[0]&&P[0]<4?1:+(P[0]+P[1]):E)&&C&&(!(P=C.match(/Edge\/(\d+)/))||74<=P[1])&&(P=C.match(/Chrome\/(\d+)/))?+P[1]:E,E),T=m,M=!!Object.getOwnPropertySymbols&&!T(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&zt&&zt<41}),C=M&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Xt=rt,Qt=_,qt=Yt,Jt=Object,P=C?function(e){return"symbol"==typeof e}:function(e){var t=Xt("Symbol");return Qt(t)&&qt(t.prototype,Jt(e))},Zt=String,en=_,tn=ot,nn=TypeError,rn=function(e){if(en(e))return e;throw nn(tn(e)+" is not a function")},on=et,cn=Ot,sn=_,an=b,un=TypeError,E={exports:{}},ln=h,dn=Object.defineProperty,T=ct,D="__core-js_shared__",T=h[D]||T(D,{}),fn=T,pn=((E.exports=function(e,t){return fn[e]||(fn[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"}),tt),gn=Object,vn=st,hn=w({}.hasOwnProperty),D=Object.hasOwn||function(e,t){return hn(vn(e),t)},mn=w,Sn=0,yn=Math.random(),bn=mn(1..toString),mn=h,wn=E.exports,_n=D,Cn=at,Tn=M,Mn=C,Pn=wn("wks"),En=mn.Symbol,Dn=En&&En.for,On=Mn?En:En&&En.withoutSetter||Cn,Fn=Ot,An=b,kn=P,In=it,jn=function(e,t){var n,r;if("string"===t&&sn(n=e.toString)&&!an(r=cn(n,e)))return r;if(sn(n=e.valueOf)&&!an(r=cn(n,e)))return r;if("string"!==t&&sn(n=e.toString)&&!an(r=cn(n,e)))return r;throw un("Can't convert object to primitive value")},Rn=TypeError,xn=ut("toPrimitive"),Kn=function(e,t){if(!An(e)||kn(e))return e;var n=In(e,xn);if(n){if(n=Fn(n,e,t=void 0===t?"default":t),!An(n)||kn(n))return n;throw Rn("Can't convert object to primitive value")}return jn(e,t=void 0===t?"number":t)},Ln=P,M=b,Nn=h.document,Vn=M(Nn)&&M(Nn.createElement),Bn=dt,C=!y&&!m(function(){return 7!=Object.defineProperty(Bn("div"),"a",{get:function(){return 7}}).a}),$n=Ot,Hn=Ft,Un=Je,Gn=nt,Wn=lt,Yn=D,zn=C,Xn=Object.getOwnPropertyDescriptor,wn=(S.f=y?Xn:function(e,t){if(e=Gn(e),t=Wn(t),zn)try{return Xn(e,t)}catch(e){}if(Yn(e,t))return Un(!$n(Hn.f,e,t),e[t])},{}),mn=y&&m(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Qn=b,qn=String,Jn=TypeError,Zn=C,er=ft,tr=lt,nr=TypeError,rr=Object.defineProperty,or=Object.getOwnPropertyDescriptor,ir="enumerable",cr="configurable",sr="writable",Cn=(wn.f=y?mn?function(e,t,n){var r;return er(e),t=tr(t),er(n),"function"==typeof e&&"prototype"===t&&"value"in n&&sr in n&&!n[sr]&&((r=or(e,t))&&r[sr]&&(e[t]=n.value,n={configurable:(cr in n?n:r)[cr],enumerable:(ir in n?n:r)[ir],writable:!1})),rr(e,t,n)}:rr:function(e,t,n){if(er(e),t=tr(t),er(n),Zn)try{return rr(e,t,n)}catch(e){}if("get"in n||"set"in n)throw nr("Accessors not supported");return"value"in n&&(e[t]=n.value),e},y),ar=wn,ur=Je,P=Cn?function(e,t,n){return ar.f(e,t,ur(1,n))}:function(e,t,n){return e[t]=n,e},M={exports:{}},Ft=y,C=D,Cn=Function.prototype,O=Ft&&Object.getOwnPropertyDescriptor,C=C(Cn,"name"),C={EXISTS:C,PROPER:C&&"something"===function(){}.name,CONFIGURABLE:C&&(!Ft||O(Cn,"name").configurable)},Ft=_,O=T,lr=w(Function.toString),Cn=(Ft(O.inspectSource)||(O.inspectSource=function(e){return lr(e)}),O.inspectSource),Ft=_,O=h.WeakMap,Ft=Ft(O)&&/native code/.test(String(O)),O=E.exports,dr=at,fr=O("keys"),O={},pr=b,gr=P,vr=D,F=pt,hr=O,mr="Object already initialized",Sr=h.TypeError,yr=h.WeakMap,br=Ft||T.state?((Mt=T.state||(T.state=new yr)).get=Mt.get,Mt.has=Mt.has,Mt.set=Mt.set,Ct=function(e,t){if(Mt.has(e))throw Sr(mr);return t.facade=e,Mt.set(e,t),t},Tt=function(e){return Mt.get(e)||{}},function(e){return Mt.has(e)}):(hr[Pt=F("state")]=!0,Ct=function(e,t){if(vr(e,Pt))throw Sr(mr);return t.facade=e,gr(e,Pt,t),t},Tt=function(e){return vr(e,Pt)?e[Pt]:{}},function(e){return vr(e,Pt)}),Ft={set:Ct,get:Tt,has:br,enforce:function(e){return br(e)?Tt(e):Ct(e,{})},getterFor:function(t){return function(e){if(pr(e)&&(e=Tt(e)).type===t)return e;throw Sr("Incompatible receiver, "+t+" required")}}},T=m,wr=_,_r=D,Cr=y,Tr=C.CONFIGURABLE,Mr=Cn,Pr=Ft.enforce,Er=Ft.get,Dr=Object.defineProperty,Or=Cr&&!T(function(){return 8!==Dr(function(){},"length",{value:8}).length}),Fr=String(String).split("String"),yr=M.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!_r(e,"name")||Tr&&e.name!==t)&&(Cr?Dr(e,"name",{value:t,configurable:!0}):e.name=t),Or&&n&&_r(n,"arity")&&e.length!==n.arity&&Dr(e,"length",{value:n.arity});try{n&&_r(n,"constructor")&&n.constructor?Cr&&Dr(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}n=Pr(e);return _r(n,"source")||(n.source=Fr.join("string"==typeof t?t:"")),e},Ar=(Function.prototype.toString=yr(function(){return wr(this)&&Er(this).source||Mr(this)},"toString"),_),kr=wn,Ir=M.exports,jr=ct,hr={},Rr=Math.ceil,xr=Math.floor,Kr=Math.trunc||function(e){e=+e;return(0<e?xr:Rr)(e)},Lr=vt,Nr=Math.max,Vr=Math.min,Br=vt,$r=Math.min,Hr=ht,Ur=nt,Gr=function(e,t){e=Lr(e);return e<0?Nr(e+t,0):Vr(e,t)},Wr=function(e){return Hr(e.length)},F={includes:mt(!0),indexOf:mt(!1)},C=w,Yr=D,zr=nt,Xr=F.indexOf,Qr=O,qr=C([].push),T=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Jr=St,Zr=T.concat("length","prototype"),yr=(hr.f=Object.getOwnPropertyNames||function(e){return Jr(e,Zr)},{}),M=(yr.f=Object.getOwnPropertySymbols,rt),eo=hr,to=yr,no=ft,ro=w([].concat),F=M("Reflect","ownKeys")||function(e){var t=eo.f(no(e)),n=to.f;return n?ro(t,n(e)):t},oo=D,io=F,co=S,so=wn,ao=m,uo=_,lo=/#|\.prototype\./,fo=yt.normalize=function(e){return String(e).replace(lo,".").toLowerCase()},po=yt.data={},go=yt.NATIVE="N",vo=yt.POLYFILL="P",ho=h,mo=S.f,So=P,yo=gt,bo=ct,wo=function(e,t,n){for(var r=io(t),o=so.f,i=co.f,c=0;c<r.length;c++){var s=r[c];oo(e,s)||n&&oo(n,s)||o(e,s,i(t,s))}},_o=yt,C={},hr=(C[ut("toStringTag")]="z","[object z]"===String(C)),yr=hr,Co=_,To=Ze,Mo=ut("toStringTag"),Po=Object,Eo="Arguments"==To(function(){return arguments}()),M=yr?To:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=Po(e),Mo))?t:Eo?To(e):"Object"==(t=To(e))&&Co(e.callee)?"Arguments":t},Do=M,Oo=String,Fo=ft,F=m,Ao=h.RegExp,S=F(function(){var e=Ao("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),C=S||F(function(){return!Ao("a","y").sticky}),yr={BROKEN_CARET:S||F(function(){var e=Ao("^r","gy");return e.lastIndex=2,null!=e.exec("str")}),MISSED_STICKY:C,UNSUPPORTED_Y:S},F={},ko=St,Io=T,C=Object.keys||function(e){return ko(e,Io)},jo=wn,Ro=ft,xo=nt,Ko=C;F.f=y&&!mn?Object.defineProperties:function(e,t){Ro(e);for(var n,r=xo(t),o=Ko(t),i=o.length,c=0;c<i;)jo.f(e,n=o[c++],r[n]);return e};function Lo(){}function No(e){e.write(oi("")),e.close();var t=e.parentWindow.Object;return e=null,t}function Vo(e){if("Function"===Mi(e))return Pi(e)}function Bo(o){return function(e,t){var n,e=xi(Ki(e)),t=Ri(t),r=e.length;return t<0||r<=t?o?"":void 0:(n=Ni(e,t))<55296||56319<n||t+1===r||(r=Ni(e,t+1))<56320||57343<r?o?Li(e,t):n:o?Vi(e,t,t+2):r-56320+(n-55296<<10)+65536}}function $o(e,t,n){return t+(n?Bi(e,t).length:1)}function Ho(i,c,s,a,u,e){var l=s+i.length,d=a.length,t=zi;return void 0!==u&&(u=$i(u),t=Yi),Gi(e,t,function(e,t){var n;switch(Ui(t,0)){case"$":return"$";case"&":return i;case"`":return Wi(c,0,s);case"'":return Wi(c,l);case"<":n=u[Wi(t,1,-1)];break;default:var r,o=+t;if(0==o)return e;if(d<o)return 0!==(r=Hi(o/10))&&r<=d?void 0===a[r-1]?Ui(t,1):a[r-1]+Ui(t,1):e;n=a[o-1]}return void 0===n?"":n})}function Uo(e,t){var n=e.exec;if(qi(n))return null!==(n=Xi(n,e,t))&&Qi(n),n;if("RegExp"===Ji(e))return Xi(Zi,e,t);throw ec("RegExp#exec called on incompatible receiver")}function Go(e){var t;return _c(e)&&(void 0!==(t=e[Tc])?!!t:"RegExp"==Cc(e))}function Wo(e){var t=e.flags;return void 0!==t||"flags"in Oc||Pc(e,"flags")||!Ec(Oc,e)?t:Mc(Dc,e)}function Yo(e,t,n){return n>e.length?-1:""===t?n:Bc(e,t,n)}function zo(e,t){return Gc(Uc[e].prototype[t])}var Xo,S=rt("document","documentElement"),Qo=ft,qo=F,Jo=T,C=O,Zo=S,ei=dt,ti="prototype",ni="script",ri=pt("IE_PROTO"),oi=function(e){return"<"+ni+">"+e+"</"+ni+">"},ii=function(){try{Xo=new ActiveXObject("htmlfile")}catch(e){}ii="undefined"==typeof document||document.domain&&Xo?No(Xo):(e=ei("iframe"),t="java"+ni+":",e.style.display="none",Zo.appendChild(e),e.src=String(t),(t=e.contentWindow.document).open(),t.write(oi("document.F=Object")),t.close(),t.F);for(var e,t,n=Jo.length;n--;)delete ii[ti][Jo[n]];return ii()},y=(C[ri]=!0,Object.create||function(e,t){var n;return null!==e?(Lo[ti]=Qo(e),n=new Lo,Lo[ti]=null,n[ri]=e):n=ii(),void 0===t?n:qo.f(n,t)}),mn=m,ci=h.RegExp,F=mn(function(){var e=ci(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}),T=m,si=h.RegExp,O=T(function(){var e=si("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}),ai=Ot,S=w,ui=wt,li=_t,C=yr,mn=E.exports,di=y,fi=Ft.get,T=F,yr=O,pi=mn("native-string-replace",String.prototype.replace),gi=RegExp.prototype.exec,vi=gi,hi=S("".charAt),mi=S("".indexOf),Si=S("".replace),yi=S("".slice),bi=(E=/b*/g,ai(gi,F=/a/,"a"),ai(gi,E,"a"),0!==F.lastIndex||0!==E.lastIndex),wi=C.BROKEN_CARET,_i=void 0!==/()??/.exec("")[1],O=vi=bi||_i||wi||T||yr?function(e){var t,n,r,o,i,c,s=this,a=fi(s),e=ui(e),u=a.raw;if(u)return u.lastIndex=s.lastIndex,d=ai(vi,u,e),s.lastIndex=u.lastIndex,d;var l=a.groups,u=wi&&s.sticky,d=ai(li,s),a=s.source,f=0,p=e;if(u&&(d=Si(d,"y",""),-1===mi(d,"g")&&(d+="g"),p=yi(e,s.lastIndex),0<s.lastIndex&&(!s.multiline||s.multiline&&"\n"!==hi(e,s.lastIndex-1))&&(a="(?: "+a+")",p=" "+p,f++),t=new RegExp("^(?:"+a+")",d)),_i&&(t=new RegExp("^"+a+"$(?!\\s)",d)),bi&&(n=s.lastIndex),r=ai(gi,u?t:s,p),u?r?(r.input=yi(r.input,f),r[0]=yi(r[0],f),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:bi&&r&&(s.lastIndex=s.global?r.index+r[0].length:n),_i&&r&&1<r.length&&ai(pi,r[0],t,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r&&l)for(r.groups=i=di(null),o=0;o<l.length;o++)i[(c=l[o])[0]]=r[c[1]];return r}:vi,mn=(bt({target:"RegExp",proto:!0,forced:/./.exec!==O},{exec:O}),Et),S=Function.prototype,Ci=S.apply,Ti=S.call,F="object"==typeof Reflect&&Reflect.apply||(mn?Ti.bind(Ci):function(){return Ti.apply(Ci,arguments)}),Mi=Ze,Pi=w,Ei=Vo,Di=gt,Oi=O,Fi=m,Ai=ut,ki=P,Ii=Ai("species"),ji=RegExp.prototype,E=w,Ri=vt,xi=wt,Ki=tt,Li=E("".charAt),Ni=E("".charCodeAt),Vi=E("".slice),Bi={codeAt:Bo(!1),charAt:Bo(!0)}.charAt,C=w,$i=st,Hi=Math.floor,Ui=C("".charAt),Gi=C("".replace),Wi=C("".slice),Yi=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,zi=/\$([$&'`]|\d{1,2})/g,Xi=Ot,Qi=ft,qi=_,Ji=Ze,Zi=O,ec=TypeError,tc=F,nc=Ot,T=w,yr=function(n,e,t,r){var c,o=Ai(n),s=!Fi(function(){var e={};return e[o]=function(){return 7},7!=""[n](e)}),i=s&&!Fi(function(){var e=!1,t=/a/;return"split"===n&&((t={constructor:{}}).constructor[Ii]=function(){return t},t.flags="",t[o]=/./[o]),t.exec=function(){return e=!0,null},t[o](""),!e});s&&i&&!t||(c=Ei(/./[o]),i=e(o,""[n],function(e,t,n,r,o){var e=Ei(e),i=t.exec;return i===Oi||i===ji.exec?s&&!o?{done:!0,value:c(t,n,r)}:{done:!0,value:e(n,t,r)}:{done:!1}}),Di(String.prototype,n,i[0]),Di(ji,o,i[1])),r&&ki(ji[o],"sham",!0)},Et=m,rc=ft,oc=_,ic=et,cc=vt,sc=ht,ac=wt,uc=tt,lc=$o,dc=it,fc=Ho,pc=Uo,gc=ut("replace"),vc=Math.max,hc=Math.min,mc=T([].concat),Sc=T([].push),yc=T("".indexOf),bc=T("".slice),S="$0"==="a".replace(/./,"$0"),wc=!!/./[gc]&&""===/./[gc]("a","$0"),_c=(yr("replace",function(e,y,b){var w=wc?"$":"$0";return[function(e,t){var n=uc(this),r=ic(e)?void 0:dc(e,gc);return r?nc(r,e,n,t):nc(y,ac(n),e,t)},function(e,t){var n=rc(this),r=ac(e);if("string"==typeof t&&-1===yc(t,w)&&-1===yc(t,"$<")){e=b(y,n,r,t);if(e.done)return e.value}for(var o,i=oc(t),c=(i||(t=ac(t)),n.global),s=(c&&(o=n.unicode,n.lastIndex=0),[]);null!==(f=pc(n,r))&&(Sc(s,f),c);)""===ac(f[0])&&(n.lastIndex=lc(r,sc(n.lastIndex),o));for(var a,u="",l=0,d=0;d<s.length;d++){for(var f,p=ac((f=s[d])[0]),g=vc(hc(cc(f.index),r.length),0),v=[],h=1;h<f.length;h++)Sc(v,void 0===(a=f[h])?a:String(a));var m=f.groups,S=i?(S=mc([p],v,g,r),void 0!==m&&Sc(S,m),ac(tc(t,void 0,S))):fc(p,r,g,v,m,t);l<=g&&(u+=bc(r,l,g)+S,l=g+p.length)}return u+bc(r,l)}]},!!Et(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!S||wc),b),Cc=Ze,Tc=ut("match"),Mc=Ot,Pc=D,Ec=Yt,Dc=_t,Oc=RegExp.prototype,mn=bt,Fc=Ot,P=w,Ac=tt,kc=_,Ic=et,jc=Go,Rc=wt,xc=it,Kc=Wo,Lc=Ho,Nc=ut("replace"),Vc=TypeError,Bc=P("".indexOf),$c=(P("".replace),P("".slice)),Hc=Math.max,Uc=(mn({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,o,i,c,s,a,u=Ac(this),l=0,d=0,f="";if(!Ic(e)){if(jc(e)&&(n=Rc(Ac(Kc(e))),!~Bc(n,"g")))throw Vc("`.replaceAll` does not allow non-global regexes");if(n=xc(e,Nc))return Fc(n,e,u,t)}for(r=Rc(u),o=Rc(e),(i=kc(t))||(t=Rc(t)),c=o.length,s=Hc(1,c),l=Yo(r,o,0);-1!==l;)a=i?Rc(t(o,l,r)):Lc(o,r,l,[],void 0,t),f+=$c(r,d,l)+a,d=l+c,l=Yo(r,o,l+s);return d<r.length&&(f+=$c(r,d)),f}}),h),Gc=w;zo("String","replaceAll");var Wc=M;hr||gt(Object.prototype,"toString",hr?{}.toString:function(){return"[object "+Wc(this)+"]"},{unsafe:!0});var Yc,E=!m(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),zc=D,Xc=_,Qc=st,C=E,qc=pt("IE_PROTO"),Jc=Object,Zc=Jc.prototype,O=m,F=_,T=b,yr=C?Jc.getPrototypeOf:function(e){e=Qc(e);if(zc(e,qc))return e[qc];var t=e.constructor;return Xc(t)&&e instanceof t?t.prototype:e instanceof Jc?Zc:null},Et=gt,es=ut("iterator"),S=!1;[].keys&&("next"in(Yt=[].keys())?(P=yr(yr(Yt)))!==Object.prototype&&(Yc=P):S=!0);function ts(){return this}function ns(){}function rs(e){if(!ps(e))return!1;try{return ms(ns,hs,e),!0}catch(e){return!1}}function os(e){if(!ps(e))return!1;switch(gs(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return bs||!!ys(Ss,vs(e))}catch(e){return!0}}F((Yc=!T(Yc)||O(function(){var e={};return Yc[es].call(e)!==e})?{}:Yc)[es])||Et(Yc,es,function(){return this});var mn={IteratorPrototype:Yc,BUGGY_SAFARI_ITERATORS:S},is=wn.f,cs=D,ss=ut("toStringTag"),as=mn.IteratorPrototype,us=y,ls=Je,ds=function(e,t,n){(e=e&&!n?e.prototype:e)&&!cs(e,ss)&&is(e,ss,{configurable:!0,value:t})},fs={},h=w,hr=m,ps=_,gs=M,vs=Cn,hs=[],ms=rt("Reflect","construct"),Ss=/^\s*(?:class|function)\b/,ys=h(Ss.exec),bs=!Ss.exec(ns);os.sham=!0;function ws(e){var t=js(this),e=Is(e),n=Ns(t,RegExp),r=Is(Ks(t)),n=new n(n===RegExp?t.source:t,r),o=!!~Ys(r,"g"),r=!!~Ys(r,"u");return n.lastIndex=ks(t.lastIndex),new Qs(n,e,o,r)}var _s=!ms||hr(function(){var e;return rs(rs.call)||!rs(Object)||!rs(function(){e=!0})||e})?os:rs,Cs=ot,Ts=TypeError,Ms=ft,Ps=function(e){if(_s(e))return e;throw Ts(Cs(e)+" is not a constructor")},Es=et,Ds=ut("species"),E=bt,Os=Ot,b=Vo,C=function(e,t,n,r){t+=" Iterator";return e.prototype=us(as,{next:ls(+!r,n)}),ds(e,t,!1),fs[t]=ts,e},Fs=function(e,t){return{value:e,done:t}},As=tt,ks=ht,Is=wt,js=ft,Rs=et,xs=Go,Ks=Wo,Ls=it,yr=gt,Yt=m,Ns=function(e,t){var e=Ms(e).constructor;return void 0===e||Es(e=Ms(e)[Ds])?t:Ps(e)},Vs=$o,Bs=Uo,P=Ft,$s=ut("matchAll"),F="RegExp String",Hs=F+" Iterator",Us=P.set,Gs=P.getterFor(Hs),T=RegExp.prototype,Ws=TypeError,Ys=b("".indexOf),zs=b("".matchAll),Xs=!!zs&&!Yt(function(){zs("a",/./)}),Qs=C(function(e,t,n,r){Us(this,{type:Hs,regexp:e,string:t,global:n,unicode:r,done:!1})},F,function(){var e=Gs(this);if(e.done)return Fs(void 0,!0);var t=e.regexp,n=e.string,r=Bs(t,n);return null===r?(e.done=!0,Fs(void 0,!0)):(e.global?""===Is(r[0])&&(t.lastIndex=Vs(n,ks(t.lastIndex),e.unicode)):e.done=!0,Fs(r,!1))});E({target:"String",proto:!0,forced:Xs},{matchAll:function(e){var t,n=As(this);if(Rs(e)){if(Xs)return zs(n,e)}else{if(xs(e)&&(t=Is(As(Ks(e))),!~Ys(t,"g")))throw Ws("`.matchAll` does not allow non-global regexes");if(Xs)return zs(n,e);if(t=Ls(e,$s))return Os(t,e,n)}return t=Is(n),new RegExp(e,"g")[$s](t)}}),$s in T||yr(T,$s,ws);zo("String","matchAll");var qs="trackerConsent",Js=(window.__MSFT_SDK=window.__MSFT_SDK||{},window.__MSFT_SDK[qs]={EventBus:_e,Logger:f,Store:u,Utils:{IFrameUtils:ae,ObjectUtils:B},enums:o,constants:e,Helpers:Ee,config:(null==(O=window.__MSFT_SDK[qs])?void 0:O.config)||null,appConfiguration:(null==(Et=window.__MSFT_SDK[qs])?void 0:Et.appConfiguration)||{},initConsent:Ce.initConsent,debug:function(){return{events:window.__MSFT_SDK[qs].Store.getters.debugInfo.events,logs:window.__MSFT_SDK[qs].Store.getters.debugInfo.logs,state:window.__MSFT_SDK[qs].Store.getters.state}}},window.MSFTPrivacy=window.MSFTPrivacy||{},window.MSFTPrivacy[qs]=n,_e.on(W.CoreConsentModelSelected,function(){Xe.resolveDependencies()}),Zs.ConvertToMilliseconds=function(e){switch(e.unit){case ee.day:return 864e5*e.value;case ee.week:return 864e5*e.value*7;case ee.month:return 864e5*e.value*30;case ee.year:return 864e5*e.value*365;default:return f.error("Invalid unit for interval : ".concat(e.unit)),e.value}},Zs);function Zs(){}A.encodeConsent=function(e,t){f.info("encoding consent",{consent:e,model:t});var n=e.preferences,t=Object.keys(n).map(function(e){return"".concat(e,"=").concat(n[e]===c.ON?c.ON:c.OFF)}).join("%");return f.info("encoded consent string: ".concat(t)),t},A.encodeConsentMetadata=function(e,t,n){f.info("encoding consent",{consent:e,model:t});var r=e.preferences,e="".concat(A.CONSENTVERSION,"=")+t.properties.consentVersion.toString()+"%",o=(e+="".concat(A.CONSENTID,"=")+t.properties.consentId+"%",!0),i=!0;return n.forEach(function(e){e.properties.isEssential||(r[e.name]===c.OFF?o=!1:i=!1)}),e=(e+="".concat(A.ACCEPTALL,"=")+(o?c.ON:c.OFF)+"%")+("".concat(A.DECLINEALL,"=")+(i?c.ON:c.OFF)+"%"),f.info("encoded consent metadata string: ".concat(e)),e},A.decodeConsentString=function(e){f.info("decoding consent string: ".concat(e));var n={};return null!=(e=null==e?void 0:e.split("%"))&&e.forEach(function(e){var t,e=e.split("=");2===e.length&&(t=e[0],e=e[1],t!==A.CONSENTVERSION&&t!==A.CONSENTID&&(n[t]=e))}),f.info("decoded consent",{preferences:n}),{preferences:n}},A.getVersionFromMetadataString=function(e){var t=e.match(/consentVersion=([\d.]+)%/);if(null==t)return-1;t=parseInt(t[1]);return isNaN(t)?-1:(f.info("getVersionString str: ".concat(e," found consentVersion: ").concat(t)),t)},A.getModelIdFromMetadataString=function(e){var t=e.match(/consentId=([^%]+)%/);if(null!=t)return f.info("getModelIdFromString str: ".concat(e," found version: ").concat(t[1])),t[1]},A.getAcceptAllFromMetadataString=function(e){var t=e.match(/acceptAll=([^%]+)%/);return null!=t&&(f.info("getAcceptAllFromString str: ".concat(e," found acceptAll: ").concat(t[1])),t[1]===c.ON)},A.getDeclineAllFromMetadataString=function(e){var t=e.match(/declineAll=([^%]+)%/);return null!=t&&(f.info("getDeclineAllFromString str: ".concat(e," found declineAll: ").concat(t[1])),t[1]===c.ON)},A.CONSENTVERSION="consentVersion",A.CONSENTID="consentId",A.ACCEPTALL="acceptAll",A.DECLINEALL="declineAll";var ea=A;function A(){}na.getUserCountryOrRegion=function(){return s(this,void 0,void 0,function(){var t,n;return a(this,function(e){switch(e.label){case 0:t=window.__MSFT_SDK[g].Store.getters.packageConfigurations.geoTrackingURL,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,fetch(t).then(function(e){return(null==(e=e.headers.get("country"))?void 0:e.toLowerCase())||null})];case 2:return[2,e.sent()];case 3:return n=e.sent(),console.error("Got exception while fetching geo location. Switching to alternate way.",n),[2,""];case 4:return[2]}})})};var ta=na;function na(){}var S=function(e){this.state=e||{config:{sdkConfig:window.__MSFT_SDK[g].config,appConfiguration:window.__MSFT_SDK[g].appConfiguration},custom:{lcid:"",proxyJS:"",languageBlockList:[],lcidList:[],templateData:{}}}},ra=(oa.get=function(){return document.cookie},oa.getItem=function(t){return f.info("get cookie key: ".concat(t)),document.cookie.split("; ").find(function(e){return e.startsWith("".concat(t,"="))})||""},oa.set=function(e){f.info("set cookie: ".concat(e)),document.cookie=e},oa.setItem=function(e,t,n){var r;f.info("set cookie key: ".concat(e," value: ").concat(t," ttl: ").concat(n)),n&&((r=new Date).setTime(r.getTime()+n),r=r.toUTCString()),document.cookie="".concat(e,"=").concat(t).concat(r?"; expires=".concat(r):"","; path=/")},oa);function oa(){}K(k,ia=S),Object.defineProperty(k.prototype,"currentModel",{get:function(){return this.state.config.currentModel},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"selectedCoreModel",{get:function(){return this.state.config.selectedCoreModel},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"applicableTrackerCategories",{get:function(){var r=null==(e=null==(e=this.sdkConfig)?void 0:e.properties)?void 0:e.trackerCategories,e=this.appConfiguration.trackerCategories;return e&&e.length?e.map(function(t){var e=r.find(function(e){return e.objectId===t.id});if(!e)return null;var n=p(p({},e.properties),{isEssential:Object.prototype.hasOwnProperty.call(t,"isEssential")?t.isEssential:null==(n=e.properties)?void 0:n.isEssential});return p(p({},e),{properties:n})}).filter(function(e){return null!==e}):r},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"bannerTrackerCategories",{get:function(){var n=this,e=(null==(e=(this.currentModel||this.selectedCoreModel).controls.find(function(e){return e.name===Oe.TrackerCategoryControl}))?void 0:e.instances)||[],r=[];return e.forEach(function(t){var e=null==(e=n.applicableTrackerCategories)?void 0:e.find(function(e){return e.objectId===t.objectId});e&&r.push(p(p({},t),e))}),r},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"models",{get:function(){return this.state.config.sdkConfig.models},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"template",{get:function(){return this.state.config.template},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"startingLayoutPage",{get:function(){var t=null==(e=null==(e=null==(e=window.__MSFT_SDK[g].Store.getters)?void 0:e.config)?void 0:e.initConfig)?void 0:e.startingLayoutPage,e=null==(e=null==(e=this.state.config.template)?void 0:e.pages)?void 0:e.some(function(e){return e.name===t});return t&&e?t:(null==(e=this.state.config.template)?void 0:e.initPage)||""},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"translations",{get:function(){return this.state.config.translations||[]},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"styles",{get:function(){return this.state.custom.styles||[]},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"timezone",{get:function(){return window.Intl.DateTimeFormat().resolvedOptions().timeZone},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"languages",{get:function(){var n=this,e=navigator.languages,r=[];return e.forEach(function(e){if(!n.state.custom.languageBlockList.includes(e))for(var t=0;t<n.state.custom.lcidList.length;t++)if(e.startsWith(n.state.custom.lcidList[t])){r.includes(n.state.custom.lcidList[t])||r.push(n.state.custom.lcidList[t]);break}}),r},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"encodedConsent",{get:function(){return ra.getItem(window.__MSFT_SDK[g].enums.Cookie.Consent)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"encodedConsentMetadata",{get:function(){return ra.getItem(window.__MSFT_SDK[g].enums.Cookie.ConsentMetadata)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"templateParentMap",{get:function(){var e;return(null==(e=this.state.config.template)?void 0:e.componentParentMap)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"extendedTrackers",{get:function(){return this.state.config.sdkConfig.extendedTrackers},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"defaultModel",{get:function(){var e;return null==(e=this.state.config.sdkConfig)?void 0:e.properties.defaultConsentModel},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"lcid",{get:function(){return this.state.custom.lcid},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"components",{get:function(){return this.state.config.components||{}},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"proxyJS",{get:function(){return this.state.custom.proxyJS},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"templateData",{get:function(){return this.state.custom.templateData},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"sdkConfig",{get:function(){return this.state.config.sdkConfig},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"shouldHonourGPC",{get:function(){var e;return null==(null==(e=null==(e=this.state.config.sdkConfig)?void 0:e.configurations)?void 0:e.shouldHonourGPC)||this.state.config.sdkConfig.configurations.shouldHonourGPC},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"packageConfigurations",{get:function(){var e;return(null==(e=this.state.config.sdkConfig)?void 0:e.configurations)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"appConfiguration",{get:function(){return!window.__MSFT_SDK[g].Store.getters.isLivePreviewMode&&this.state.config.appConfiguration||{}},enumerable:!1,configurable:!0});var ia,ca=k;function k(e){var t=ia.call(this,e)||this;return t.state.custom=p(p({},e.custom),{languageBlockList:["ca-Es-VALENCIA","kok"],lcidList:["af","am","ar","az","bg","bn","bs","ca","cs","cy","da","de","el","en-GB","en","es-MX","es","et","eu","fa","fil","fi","fr-CA","fr","ga","gd","gl","gu","he","hi","hr","hu","id","is","it","ja","ka","kk","km","kn","ko","lb","lo","lt","lv","mi","mk","ml","mr","ms","mt","nl","ne","nb","nn","or","pa","pl","pt-BR","pt","qu","ro","ru","sk","sl","sq","sr","sv","ta","te","th","tr","tt","ug","uk","ur","vi","zh-CN","zh-TW","zh"]}),t}K(I,sa=S),I.prototype.setCurrentModel=function(e){this.state.config.currentModel=e},I.prototype.setSelectedCoreModel=function(e){this.state.config.selectedCoreModel=e},I.prototype.setTemplate=function(e){this.state.config.template=e},I.prototype.setTranslations=function(e){this.state.config.translations=e},I.prototype.setStyles=function(e){this.state.custom.styles=e},I.prototype.setEncodedConsentString=function(e,t){ra.setItem(Q.Consent,e,t)},I.prototype.setEncodedConsentMetadataString=function(e,t){ra.setItem(Q.ConsentMetadata,e,t)},I.prototype.setLcid=function(e){this.state.custom.lcid=e},I.prototype.setComponents=function(e){this.state.config.components=e},I.prototype.setProxyJS=function(e){this.state.custom.proxyJS=e},I.prototype.setQuestions=function(e){this.state.config.questions=e},I.prototype.setTemplateData=function(e){this.state.custom.templateData=e},I.prototype.setSDKconfig=function(e){this.state.config.sdkConfig=e};var sa,wn=I;function I(e){return sa.call(this,e)||this}var D=(new S).state,aa={getters:new ca(D),reducers:new wn(D)};function j(){window.__MSFT_SDK[g].Store.addReducers(aa.reducers),window.__MSFT_SDK[g].Store.addGetters(ca),j.registerEvents()}j.registerEvents=function(){window.__MSFT_SDK[g].EventBus.on(window.__MSFT_SDK[g].enums.Events.Init,j.onInit)},j.matchLocation=function(e,t){if(!t||!Array.isArray(t))return!1;for(var n=0;n<t.length;n++){var r=t[n].toLowerCase();if("all"===r||r===e)return!0}return 0===t.length},j.selectConsentModel=function(c){return s(this,void 0,void 0,function(){var t,n,r,o,i;return a(this,function(e){switch(e.label){case 0:return(t=c.countryOrRegion,r=c.coreModels,n=c.LCID,r=r||window.__MSFT_SDK[g].Store.getters.models,f.info("selecting consent model",{models:r,countryCode:t,timezone:window.__MSFT_SDK[g].Store.getters.timezone}),Array.isArray(r)&&0!==r.length)?(o=null,c.preview?(i=r[0],[3,3]):[3,1]):(window.__MSFT_SDK[g].Logger.info("Models not found."),[2,!1]);case 1:return[4,j.selectModelByGeoLocation(r,null==t?void 0:t.toLowerCase())];case 2:i=e.sent(),e.label=3;case 3:return(o=i)?(window.__MSFT_SDK[g].Store.reducers.setSelectedCoreModel(o),j.selectLanguageCode(o.translations,o.properties.defaultLCID,n),window.__MSFT_SDK[g].EventBus.trigger(W.CoreConsentModelSelected),window.__MSFT_SDK[g].Logger.info("Consent model selected."),[2,!0]):(window.__MSFT_SDK[g].Logger.info("No applicable model found."),[2,!1])}})})},j.filterOutInvalidModelVersions=function(e){var t,n,r,o,i={},c={};try{for(var s=L(e),a=s.next();!a.done;a=s.next())i[(d=a.value).name]=Math.max(i[d.name]||0,d.version)}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}try{for(var u=L(e),l=u.next();!l.done;l=u.next()){var d=l.value,f=p(p({},d),{computedProperties:{isLatestVersion:i[d.name]===d.version,startDateInMs:d.properties.startDate?Date.parse(d.properties.startDate):0}});f.computedProperties.startDateInMs>Date.now()||(!c[d.name]||c[d.name].version<d.version)&&(c[d.name]=f)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return Object.values(c)},j.sortModelsMostToLeastPriority=function(e){return e.sort(function(e,t){return e.computedProperties.isLatestVersion===t.computedProperties.isLatestVersion?t.computedProperties.startDateInMs-e.computedProperties.startDateInMs:Number(t.computedProperties.isLatestVersion)-Number(e.computedProperties.isLatestVersion)})},j.selectModelByGeoLocation=function(i,c){return s(this,void 0,void 0,function(){var t,n,r,o;return a(this,function(e){switch(e.label){case 0:return(t=window.__MSFT_SDK[g].Store.getters.timezone,!window.__MSFT_SDK[g].Store.getters.isPreviewMode&&window.__MSFT_SDK[g].Store.getters.packageConfigurations.isGeoTrackingEnabled)?[4,ta.getUserCountryOrRegion()]:[3,2];case 1:return n=e.sent(),[3,3];case 2:n="",e.label=3;case 3:return o=n,r=c||o,o=j.sortModelsMostToLeastPriority(j.filterOutInvalidModelVersions(i)),[2,o.find(function(e){return Boolean(r?j.matchModelByCountryOrRegion(e,r):j.matchModelByTimezoneArea(e,t))})||o.find(function(e){return e.name===window.__MSFT_SDK[g].Store.getters.defaultModel})]}})})},j.matchModelByTimezoneArea=function(e,t){return j.matchLocation(t,(null==(t=e.attributes.find(function(e){return e.key===Oe.GeoLocations}))?void 0:t.value)||[])},j.matchModelByCountryOrRegion=function(e,t){return j.matchLocation(t,(null==(t=e.attributes.find(function(e){return e.key===Oe.CountriesOrRegions}))?void 0:t.value)||[])},j.selectLanguageCode=function(e,t,n){for(var r=t,o=n?[n]:window.__MSFT_SDK[g].Store.getters.languages,i=0;i<o.length;i++)if(e.includes(o[i])){r=o[i];break}f.info("selected language code",{lcid:r}),window.__MSFT_SDK[g].Store.reducers.setLcid(r)},j.onInit=function(t){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,j.fetchCoreConfig(t)];case 1:return e.sent(),[4,j.selectConsentModel(t)];case 2:return e.sent()?(j.updateConfigIfPresent(t),[2]):[2]}})})},j.updateConfigIfPresent=function(e){var t=e.translations,n=e.templates,e=e.models;e&&(e=e.find(function(e){return e.id===(null==(e=window.__MSFT_SDK[g].Store.getters.selectedCoreModel)?void 0:e.id)}))&&window.__MSFT_SDK[g].Store.reducers.setCurrentModel(e),t&&window.__MSFT_SDK[g].Store.reducers.setTranslations(t[window.__MSFT_SDK[g].Store.getters.lcid]),n&&(e=n.find(function(e){return e.id===(null==(e=window.__MSFT_SDK[g].Store.getters.selectedCoreModel)?void 0:e.layout.id)})||n[0],window.__MSFT_SDK[g].Store.reducers.setTemplate(e),window.__MSFT_SDK[g].EventBus.trigger(window.__MSFT_SDK[g].enums.Events.ConfigReady))},j.fetchCoreConfig=function(o){return s(this,void 0,void 0,function(){var t,n,r;return a(this,function(e){switch(e.label){case 0:return(r=window.__MSFT_SDK[g].Store.getters.sdkConfig,o.preview)?[2]:null!=r&&null!=r.models?[3,2]:(r=je.deferred(),t=r.promise,n=r.resolve,[4,Le.fetch("/msft-privacy/packages/".concat(window.__MSFT_SDK[g].config.id,"/latest/core-config.js"))]);case 1:return r=e.sent(),xe.addScriptToDOM(r),setTimeout(function(){var e;window.__MSFT_SDK[g].Store.reducers.setSDKconfig(null==(e=window.__MSFT_SDK[g])?void 0:e.config),n()}),[2,t];case 2:return[2]}})})},j();la.getTrackerCategories=function(){if(void 0!==window.__MSFT_SDK[g].Store.getters.currentModel)return window.__MSFT_SDK[g].Store.getters.bannerTrackerCategories;throw new Error("Consent Model not selected.")},la.getAppConfiguration=function(){return window.__MSFT_SDK[g].Store.getters.appConfiguration},la.getPackageConfiguration=function(){return window.__MSFT_SDK[g].Store.getters.sdkConfig},la.getDefaultConsent=function(t){var n={preferences:{}};return window.__MSFT_SDK[g].Store.getters.bannerTrackerCategories.forEach(function(e){n.preferences[e.name]=null!=(e=e.properties)&&e.isEssential||t===window.__MSFT_SDK[g].enums.ConsentModelType.Implicit?window.__MSFT_SDK[g].enums.Preference.ON:window.__MSFT_SDK[g].enums.Preference.OFF}),f.info("evaluating default consent",{consentModelType:t,consent:n}),n};var ua=la;function la(){}R.registerEvents=function(){window.__MSFT_SDK[g].EventBus.on(window.__MSFT_SDK[g].enums.Events.ConfigReady,R.showNoticeIfConsentInvalid),window.__MSFT_SDK[g].EventBus.on(window.__MSFT_SDK[g].enums.PublicEvents.AcceptAll,R.acceptAllCategories),window.__MSFT_SDK[g].EventBus.on(window.__MSFT_SDK[g].enums.PublicEvents.RejectAll,R.rejectAllNonEssentialCategories),window.__MSFT_SDK[g].EventBus.on(window.__MSFT_SDK[g].enums.PublicEvents.UpdateConsent,R.setConsent)},R.getConsent=function(){return window.__MSFT_SDK[g].Store.getters.userConsent||ua.getDefaultConsent(window.__MSFT_SDK[g].enums.ConsentModelType.Explicit)},R.getConsentFor=function(e){return R.getConsent().preferences[e]},R.setConsent=function(e){f.info("set consent",{payload:e});var t,n,e=e.consent,r=window.__MSFT_SDK[g].Store.getters.currentModel,o=window.__MSFT_SDK[g].Store.getters.selectedCoreModel;void 0===r||void 0===o?window.__MSFT_SDK[g].Logger.warn("Cannot set user consent before consent model is ready."):(n=ea.encodeConsent(e,o),o=ea.encodeConsentMetadata(e,o,window.__MSFT_SDK[g].Store.getters.bannerTrackerCategories),window.__MSFT_SDK[g].Store.reducers.setEncodedConsentString(n,Js.ConvertToMilliseconds(r.properties.expiry)),window.__MSFT_SDK[g].Store.reducers.setEncodedConsentMetadataString(o,Js.ConvertToMilliseconds(r.properties.expiry)),window.__MSFT_SDK[g].Store.reducers.setUserConsent(e),window.__MSFT_SDK[g].Logger.info("Consent updated."),window.__MSFT_SDK[g].EventBus.trigger(window.__MSFT_SDK[g].enums.PublicEvents.ConsentChanged),window.__MSFT_SDK[g].EventBus.trigger(window.__MSFT_SDK[g].enums.PublicEvents.Done),t=e.preferences,n=Object.keys(t).filter(function(e){return t[e]==c.ON}).join(","),window.dataLayer=window.dataLayer||[],o={event:window.__MSFT_SDK[g].enums.PublicEvents.ConsentPreference,categories:n},window.dataLayer.push(o))},R.isConsentValid=function(){if(null!=(e=window.__MSFT_SDK[g].Store.getters.config.initConfig)&&e.preview)return!1;var e=window.__MSFT_SDK[g].Store.getters.encodedConsent,t=window.__MSFT_SDK[g].Store.getters.encodedConsentMetadata;if(void 0===e||void 0===t)return!1;if(void 0===window.__MSFT_SDK[g].Store.getters.selectedCoreModel)return window.__MSFT_SDK[g].Logger.warn("Consent model not selected, can't validate consent."),!0;var e=window.__MSFT_SDK[g].Store.getters.selectedCoreModel.properties,n=e.consentVersion,e=e.consentId;return ea.getVersionFromMetadataString(t)===n&&ea.getModelIdFromMetadataString(t)===e},R.showNoticeIfConsentInvalid=function(){if((null==(e=window.__MSFT_SDK[g].Store.getters.selectedCoreModel)?void 0:e.kind)!==oe.DSRSubmission){var e=(null==(e=null==(e=window.__MSFT_SDK[g].Store.getters.selectedCoreModel)?void 0:e.properties)?void 0:e.consentType)||U.Explicit,t=R.isConsentValid(),n=(f.info("consent valid: ".concat(t)),ea.decodeConsentString(window.__MSFT_SDK[g].Store.getters.encodedConsent));if(!window.__MSFT_SDK[g].Store.getters.isGPCEnabled||!window.__MSFT_SDK[g].Store.getters.shouldHonourGPC)return t?(window.__MSFT_SDK[g].Store.reducers.setUserConsent(n),window.__MSFT_SDK[g].EventBus.trigger(window.__MSFT_SDK[g].enums.PublicEvents.ConsentChanged),void window.__MSFT_SDK[g].EventBus.trigger(window.__MSFT_SDK[g].enums.PublicEvents.Done)):void(e===U.Explicit?(window.__MSFT_SDK[g].Store.reducers.setUserConsent(R.getPrefrences({},e)),window.__MSFT_SDK[g].EventBus.trigger(window.__MSFT_SDK[g].enums.PublicEvents.ConsentChanged),window.__MSFT_SDK[g].EventBus.trigger(window.__MSFT_SDK[g].enums.PublicEvents.ShowFirstPage)):R.setConsent({consent:R.getPrefrences({},e)}));R.setConsentForGPC(t,e,n)}},R.setConsentForGPC=function(e,t,n){var r=ea.getDeclineAllFromMetadataString(window.__MSFT_SDK[g].Store.getters.encodedConsentMetadata);e&&r?(window.__MSFT_SDK[g].Store.reducers.setUserConsent(n),window.__MSFT_SDK[g].EventBus.trigger(window.__MSFT_SDK[g].enums.PublicEvents.ConsentChanged)):R.setConsent({consent:R.getPrefrences({},t)})},R.getPrefrences=function(n,r){var o={preferences:{}};return window.__MSFT_SDK[g].Store.getters.bannerTrackerCategories.forEach(function(e){var t;null!=(t=null==e?void 0:e.properties)&&t.isEssential?o.preferences[e.name]=window.__MSFT_SDK[g].enums.Preference.ON:o.preferences[e.name]=n[e.name]||R.getDefaultPreference(r)}),o},R.getDefaultPreference=function(e){return e===U.Explicit||window.__MSFT_SDK[g].Store.getters.isGPCEnabled?c.OFF:c.ON},R.acceptAllCategories=function(){var t={preferences:{}};window.__MSFT_SDK[g].Store.getters.bannerTrackerCategories.forEach(function(e){t.preferences[e.name]=window.__MSFT_SDK[g].enums.Preference.ON}),R.setConsent({consent:t}),window.__MSFT_SDK[g].EventBus.trigger(window.__MSFT_SDK[g].enums.PublicEvents.CloseConsentNotice)},R.rejectAllNonEssentialCategories=function(){var t={preferences:{}};window.__MSFT_SDK[g].Store.getters.bannerTrackerCategories.forEach(function(e){t.preferences[e.name]=null!=(e=e.properties)&&e.isEssential?window.__MSFT_SDK[g].enums.Preference.ON:window.__MSFT_SDK[g].enums.Preference.OFF}),R.setConsent({consent:t}),window.__MSFT_SDK[g].EventBus.trigger(window.__MSFT_SDK[g].enums.PublicEvents.CloseConsentNotice)};var da=R;function R(){R.registerEvents()}new da;fa.getConsent=function(){return da.getConsent()},fa.getTrackerCategories=function(){return ua.getTrackerCategories()},fa.getAppConfiguration=function(){return ua.getAppConfiguration()},fa.getPackageConfiguration=function(){return ua.getPackageConfiguration()},fa.getConsentModels=function(){return window.__MSFT_SDK[g].Store.getters.models.map(function(e){var t=e.name,n=e.version,r=e.id;return{id:r,name:t,friendlyName:e.friendlyName,version:n,selected:(null==(t=window.__MSFT_SDK[g].Store.getters.currentModel)?void 0:t.id)===r}})};mn=fa;function fa(){}pa.registerEventHandlers=function(){pa.eventsToBeSubscribed.forEach(function(t){window.__MSFT_SDK[g].EventBus.on(t,function(e){return pa.sendEventToHost(t,e)})})},pa.sendEventToHost=function(e,t){void 0===t&&(t={}),window.MSFTAndroidHost&&window.MSFTAndroidHost.onMessageReceived&&window.MSFTAndroidHost.onMessageReceived(e,JSON.stringify(t))},pa.eventsToBeSubscribed=[window.__MSFT_SDK[g].enums.PublicEvents.ConsentChanged,window.__MSFT_SDK[g].enums.PublicEvents.ShowFirstPage,window.__MSFT_SDK[g].enums.PublicEvents.Done];y=pa;function pa(){}window.__MSFT_SDK[g].Helpers.addPublicApis(mn),window.__MSFT_SDK[g].Helpers.exposeApis(),y.registerEventHandlers()}();
