(function () {
    'use strict';

    var kind = 'trackerConsent';

    var formDataToJsonObject = function (formData) {
        var object = {};
        formData.forEach(function (value, key) {
            if (!Reflect.has(object, key)) {
                object[key] = value;
                return;
            }
            if (!Array.isArray(object[key])) {
                object[key] = [object[key]];
            }
            object[key].push(value);
        });
        return object;
    };
    var getStaticData = function (jsonStr) {
        try {
            return JSON.parse(jsonStr);
        }
        catch (e) {
            return null;
        }
    };
    var getJsonUsingFormId = function (formId) {
        try {
            var form = document.getElementById(formId);
            if (!form) {
                return null;
            }
            var formData = new FormData(form);
            return formDataToJsonObject(formData);
        }
        catch (e) {
            return null;
        }
    };
    var getJsonUsingInputIds = function (inputIds) {
        try {
            var inputIdsArray = inputIds.split(',');
            var object_1 = {};
            inputIdsArray.forEach(function (id) {
                var input = document.getElementById(id);
                if (input) {
                    object_1[id] = input.value;
                }
            });
            return object_1;
        }
        catch (e) {
            return null;
        }
    };
    var msftCallbackFunction = function (event) {
        event.preventDefault();
        var formData = new FormData(event.target);
        var object = formDataToJsonObject(formData);
        window.MSFTPrivacy[kind].trigger('QuestionsFormSubmitWithoutMetaData', {
            data: object,
        });
    };

    var ConsentModelType;
    (function (ConsentModelType) {
        ConsentModelType["Explicit"] = "Explicit";
        ConsentModelType["Implicit"] = "Implicit";
    })(ConsentModelType || (ConsentModelType = {}));
    var PublicEvents;
    (function (PublicEvents) {
        PublicEvents["ConsentChanged"] = "ConsentChanged";
        PublicEvents["ShowConsentNotice"] = "ShowConsentNotice";
        PublicEvents["ShowFirstPage"] = "ShowFirstPage";
        PublicEvents["CloseConsentNotice"] = "CloseConsentNotice";
        PublicEvents["AcceptAll"] = "AcceptAll";
        PublicEvents["RejectAll"] = "RejectAll";
        PublicEvents["ShowTemplate"] = "ShowTemplate";
        PublicEvents["CloseTemplate"] = "CloseTemplate";
        PublicEvents["UpdateConsent"] = "UpdateConsent";
        PublicEvents["AnchorTagClicked"] = "AnchorTagClicked";
        PublicEvents["FetchConfig"] = "FetchConfig";
        PublicEvents["QuestionsFormSubmitWithoutMetaData"] = "QuestionsFormSubmitWithoutMetaData";
        PublicEvents["QuestionsFormSubmit"] = "QuestionsFormSubmit";
        PublicEvents["ShowPreferences"] = "ShowPreferences";
        PublicEvents["ConsentPreference"] = "MSFTConsentPreference";
        PublicEvents["DataPropsUpdated"] = "DataPropsUpdated";
        PublicEvents["Done"] = "Done";
    })(PublicEvents || (PublicEvents = {}));
    var Events;
    (function (Events) {
        Events["Init"] = "Init";
        Events["CoreConsentModelSelected"] = "CoreConsentModelSelected";
        Events["ConfigReady"] = "ConfigReady";
        Events["ConsentInvalid"] = "ConsentInvalid";
    })(Events || (Events = {}));
    var Attributes;
    (function (Attributes) {
        // Web consent events
        Attributes["ConsentNotice"] = "msft-consent-notice";
        Attributes["AcceptAll"] = "msft-consent-accept-all";
        Attributes["OpenPreference"] = "msft-consent-open-preferences";
        Attributes["ClosePreference"] = "msft-consent-close-preferences";
        Attributes["DeclineAll"] = "msft-consent-decline-all";
        Attributes["SavePreferences"] = "msft-consent-save-preferences";
        Attributes["TrackerCategory"] = "msft-consent-tracker-category";
        // DSR events
        Attributes["QuestionnaireForm"] = "msft-questionnaire-form";
        Attributes["QuestionnaireFormSubmit"] = "msft-questionnaire-form-submit";
        // Generic events
        Attributes["Redirect"] = "msft-redirect";
        Attributes["OpenPage"] = "msft-open-page";
        Attributes["ClosePage"] = "msft-close-page";
        Attributes["TriggerEvent"] = "msft-trigger";
        Attributes["ToggleId"] = "msft-toggle-id";
        Attributes["ToggleOn"] = "msft-toggle-on";
        Attributes["ToggleOff"] = "msft-toggle-off";
        Attributes["FormPayloadData"] = "msft-payload-data";
        Attributes["FormId"] = "msft-payload-form-id";
        Attributes["FormInputIDs"] = "msft-payload-input-ids";
    })(Attributes || (Attributes = {}));
    var SDKMode;
    (function (SDKMode) {
        SDKMode["Default"] = "Default";
        SDKMode["HeadLess"] = "HeadLess";
    })(SDKMode || (SDKMode = {}));
    var StyleType;
    (function (StyleType) {
        StyleType["Url"] = "Url";
        StyleType["Text"] = "Text";
    })(StyleType || (StyleType = {}));
    var Preference;
    (function (Preference) {
        Preference["OFF"] = "0";
        Preference["ON"] = "1";
    })(Preference || (Preference = {}));
    var Cookie;
    (function (Cookie) {
        Cookie["Consent"] = "msft-consent";
        Cookie["ConsentMetadata"] = "msft-consent-metadata";
    })(Cookie || (Cookie = {}));
    var RegisteredDivType;
    (function (RegisteredDivType) {
        RegisteredDivType["Script"] = "script";
        RegisteredDivType["IFrame"] = "iframe";
    })(RegisteredDivType || (RegisteredDivType = {}));
    var NoticeType;
    (function (NoticeType) {
        NoticeType["TrackerCategory"] = "trackerCategory";
        NoticeType["Questions"] = "Questions";
    })(NoticeType || (NoticeType = {}));
    var ControlType;
    (function (ControlType) {
        ControlType["Purpose"] = "Purpose";
    })(ControlType || (ControlType = {}));
    var ErrorStrings;
    (function (ErrorStrings) {
        ErrorStrings["TemplateError"] = "<b>There is something wrong with template. Please check logs.</b>";
    })(ErrorStrings || (ErrorStrings = {}));
    var IntervalUnits;
    (function (IntervalUnits) {
        IntervalUnits["day"] = "day";
        IntervalUnits["week"] = "week";
        IntervalUnits["month"] = "month";
        IntervalUnits["year"] = "year";
    })(IntervalUnits || (IntervalUnits = {}));
    var QuestionType;
    (function (QuestionType) {
        QuestionType["Text"] = "Text";
        QuestionType["Email"] = "Email";
        QuestionType["Radio"] = "Radio";
        QuestionType["MultiSelect"] = "MultiSelect";
        QuestionType["Select"] = "Select";
        QuestionType["Date"] = "Date";
        QuestionType["PhoneNumber"] = "PhoneNumber";
        QuestionType["CreditCard"] = "CreditCard";
        QuestionType["Number"] = "Number";
        QuestionType["MultiLineText"] = "multiLineText";
    })(QuestionType || (QuestionType = {}));
    var QuestionValidation;
    (function (QuestionValidation) {
        QuestionValidation["Required"] = "Required";
    })(QuestionValidation || (QuestionValidation = {}));
    var QuestionField;
    (function (QuestionField) {
        QuestionField["Question"] = "question";
        QuestionField["Placeholder"] = "placeholder";
        QuestionField["Options"] = "options";
    })(QuestionField || (QuestionField = {}));
    var ModelKind;
    (function (ModelKind) {
        ModelKind["WebConsent"] = "MICROSOFT.WebConsent";
        ModelKind["DSRSubmission"] = "MICROSOFT.DSRSubmission";
    })(ModelKind || (ModelKind = {}));
    var PackageKind;
    (function (PackageKind) {
        PackageKind["WebConsentPackage"] = "WebConsentPackage";
        PackageKind["FIDESPackage"] = "FIDESPackage";
        PackageKind["DSRSubmissionPackage"] = "DSRSubmissionPackage";
    })(PackageKind || (PackageKind = {}));
    var Template;
    (function (Template) {
        Template["Preferences"] = "Preferences";
    })(Template || (Template = {}));

    var handlers = [
        {
            //handler for accept all button
            selector: "[".concat(Attributes.AcceptAll, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('AcceptAll');
                    window.MSFTPrivacy[kind].trigger('CloseConsentNotice');
                });
            },
        },
        //handler for open preferences button
        {
            selector: "[".concat(Attributes.OpenPreference, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('ShowTemplate', {
                        templateId: 'Preferences',
                    });
                    window.MSFTPrivacy[kind].trigger('CloseConsentNotice');
                });
            },
        },
        //handler for decline all button
        {
            selector: "[".concat(Attributes.DeclineAll, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('RejectAll');
                    window.MSFTPrivacy[kind].trigger('CloseConsentNotice');
                });
            },
        },
        //handler for save preferences button
        {
            selector: "[".concat(Attributes.SavePreferences, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    var trackerCategoriesSelectors = document.querySelectorAll("[".concat(Attributes.TrackerCategory, "]"));
                    var currentPreferences = { preferences: {} };
                    trackerCategoriesSelectors.forEach(function (category) {
                        currentPreferences.preferences[category.getElementsByTagName('input')[0].id] = category.getElementsByTagName('input')[0].checked ? '1' : '0';
                    });
                    window.MSFTPrivacy[kind].trigger('UpdateConsent', {
                        consent: currentPreferences,
                    });
                    window.MSFTPrivacy[kind].trigger('CloseTemplate', {
                        templateId: 'Preferences',
                    });
                    window.MSFTPrivacy[kind].trigger('CloseConsentNotice');
                });
            },
        },
        //handler for close preferences button
        {
            selector: "[".concat(Attributes.ClosePreference, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('CloseTemplate', {
                        templateId: 'Preferences',
                    });
                    window.MSFTPrivacy[kind].trigger('ShowConsentNotice');
                });
            },
        },
        //handler for form submit
        {
            selector: "[".concat(Attributes.QuestionnaireForm, "]"),
            handler: function (elm) {
                elm.addEventListener('submit', msftCallbackFunction);
            },
        },
        //handler for open page
        {
            selector: "[".concat(Attributes.OpenPage, "]"),
            handler: function (elm) {
                var templateId = elm.getAttribute(Attributes.OpenPage);
                if (templateId === null)
                    return;
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('ShowTemplate', {
                        templateId: templateId,
                    });
                });
            },
        },
        //handler for close page
        {
            selector: "[".concat(Attributes.ClosePage, "]"),
            handler: function (elm) {
                var templateIds = elm.getAttribute(Attributes.ClosePage);
                if (templateIds === null)
                    return;
                elm.addEventListener('click', function () {
                    templateIds.split(',').forEach(function (templateId) {
                        window.MSFTPrivacy[kind].trigger('CloseTemplate', {
                            templateId: templateId,
                        });
                    });
                });
            },
        },
        //handler for trigger event
        {
            selector: "[".concat(Attributes.TriggerEvent, "]"),
            handler: function (elm) {
                var eventName = elm.getAttribute(Attributes.TriggerEvent);
                if (eventName === null)
                    return;
                elm.addEventListener('click', function () {
                    if (eventName === 'toggle-driven') {
                        var toggleId = elm.getAttribute(Attributes.ToggleId);
                        if (toggleId === null)
                            return;
                        var input = document.getElementById(toggleId);
                        if (input === null || input === void 0 ? void 0 : input.checked) {
                            eventName = input.getAttribute(Attributes.ToggleOn);
                        }
                        else {
                            eventName = input.getAttribute(Attributes.ToggleOff);
                        }
                    }
                    var staticData = elm.getAttribute(Attributes.FormPayloadData);
                    var formId = elm.getAttribute(Attributes.FormId);
                    var inputIds = elm.getAttribute(Attributes.FormInputIDs);
                    var payload = null;
                    if (staticData !== null) {
                        payload = getStaticData(staticData);
                    }
                    else if (formId !== null) {
                        payload = getJsonUsingFormId(formId);
                    }
                    else if (inputIds !== null) {
                        payload = getJsonUsingInputIds(inputIds);
                    }
                    eventName !== null &&
                        window.MSFTPrivacy[kind].trigger(eventName, payload);
                });
            },
        },
        {
            selector: "[".concat(Attributes.Redirect, "]"),
            handler: function (elm) {
                var redirectUrl = elm.getAttribute(Attributes.Redirect);
                if (redirectUrl) {
                    elm.addEventListener('click', function () { return (window.location.href = redirectUrl); });
                }
            },
        },
    ];
    window['disableQuestionFormSubmit'] = function () {
        document
            .querySelectorAll("[".concat(Attributes.QuestionnaireFormSubmit, "]"))
            .forEach(function (elm) {
            elm.setAttribute('disabled', '');
        });
    };
    window['enableQuestionFormSubmit'] = function () {
        document
            .querySelectorAll("[".concat(Attributes.QuestionnaireFormSubmit, "]"))
            .forEach(function (elm) {
            elm.removeAttribute('disabled');
        });
    };
    var registerHandlers = function () {
        var _a, _b, _c;
        var executionContexts = ((_b = (_a = window.msftData) === null || _a === void 0 ? void 0 : _a.executionContexts) === null || _b === void 0 ? void 0 : _b.length)
            ? window.msftData.executionContexts
            : [];
        // register all handlers
        handlers.forEach(function (_a) {
            var selector = _a.selector, handler = _a.handler;
            document.querySelectorAll(selector).forEach(function (elm) {
                if (executionContexts.length > 0) {
                    var attributes_1 = elm.getAttributeNames();
                    if (executionContexts.some(function (ctx) { return attributes_1.includes("".concat(ctx, "-disabled")); })) {
                        return;
                    }
                }
                handler(elm);
            });
        });
        //remove all hidden elements
        executionContexts.forEach(function (ctx) {
            document.querySelectorAll("[".concat(ctx, "-hidden]")).forEach(function (elm) {
                elm.remove();
            });
        });
        var isGPCEnabled = ((_c = window.msftData) === null || _c === void 0 ? void 0 : _c.isGPCEnabled) || false;
        if (isGPCEnabled) {
            var inputs = document.querySelectorAll('input');
            inputs.forEach(function (input) {
                input.setAttribute('disabled', '');
            });
            var buttons = document.querySelectorAll('button');
            buttons.forEach(function (button) {
                button.setAttribute('disabled', '');
                button.classList.add('msft-disabled');
            });
            var closeButtons = document.querySelectorAll("[".concat(Attributes.ClosePage, "]"));
            closeButtons.forEach(function (button) {
                button.removeAttribute('disabled');
                button.classList.remove('msft-disabled');
            });
        }
    };
    if (document.readyState !== 'loading') {
        registerHandlers();
    }
    else {
        document.addEventListener('DOMContentLoaded', function () {
            registerHandlers();
        });
    }

    var _a;
    var addProxyMethods = function () {
        Promise.resolve().then(function () { return anchorClickHandler; });
        Promise.resolve().then(function () { return proxy; }).then(function (_a) {
            var _b;
            var callMethod = _a.callMethod, sendMessage = _a.sendMessage;
            window.MSFTPrivacy = (_b = {}, _b[kind] = {}, _b);
            var methodsWithReturnType = ['getConsent', 'getTrackerCategories'];
            var methodsWithoutReturnType = ['trigger', 'showChangeSettingsModal'];
            methodsWithoutReturnType.forEach(function (methodName) {
                window.MSFTPrivacy[kind][methodName] = function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    sendMessage(methodName, args);
                };
            });
            methodsWithReturnType.forEach(function (methodName) {
                window.MSFTPrivacy[kind][methodName] = function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    return callMethod(methodName, args);
                };
            });
        });
    };
    if (!((_a = window.msftData) === null || _a === void 0 ? void 0 : _a.renderTemplateWithoutIframe)) {
        addProxyMethods();
    }

    var onclickHandler = function (e) {
        if (e.target &&
            e.target.nodeName.toLowerCase() === 'a') {
            var attributes = {};
            var attributeNames = e.target.getAttributeNames();
            e.preventDefault();
            e.stopPropagation();
            for (var i = 0; i < attributeNames.length; i++) {
                var attrName = attributeNames[i];
                attributes[attrName] =
                    e.target.getAttribute(attrName) || '';
            }
            window.MSFTPrivacy[kind].trigger(PublicEvents.AnchorTagClicked, {
                attributes: attributes,
            });
        }
    };
    // Options for the observer (which mutations to observe)
    var config = { childList: true, subtree: true };
    // Callback function to execute when mutations are observed
    var callback = function (mutationList) {
        mutationList.forEach(function (mutationRecord) {
            mutationRecord.addedNodes.forEach(function (addedNode) {
                if (addedNode.nodeName.toLowerCase() === 'a') {
                    addedNode.addEventListener('click', { handleEvent: onclickHandler });
                }
            });
        });
    };
    // Create an observer instance linked to the callback function
    var observer = new MutationObserver(callback);
    // Start observing the target node for configured mutations
    observer.observe(document.documentElement, config);

    var anchorClickHandler = /*#__PURE__*/Object.freeze({
        __proto__: null
    });

    var AsyncUtils = /** @class */ (function () {
        function AsyncUtils() {
        }
        AsyncUtils.deferred = function () {
            var defer = {};
            defer.promise = new Promise(function (res, rej) {
                defer.resolve = res;
                defer.reject = rej;
            });
            return defer;
        };
        return AsyncUtils;
    }());
    var AsyncUtils$1 = AsyncUtils;

    var promiseMap = {};
    var sendMessage = function (method, args, responseId) {
        var _a;
        if (parent) {
            if (args.length > 0 &&
                (args[0] === PublicEvents.ShowTemplate ||
                    args[0] === PublicEvents.CloseTemplate ||
                    args[0] === PublicEvents.CloseConsentNotice ||
                    !((_a = window.msftData) === null || _a === void 0 ? void 0 : _a.isGPCEnabled)))
                parent.postMessage({ method: method, params: Object.values(args), responseId: responseId }, msftData.origin);
        }
    };
    var callMethod = function (method, args) {
        var responseId = "".concat(method, "-").concat(new Date().getTime());
        var deferred = AsyncUtils$1.deferred();
        promiseMap[responseId] = deferred;
        sendMessage(method, args, responseId);
        return deferred.promise;
    };
    window.onmessage = function (e) {
        var _a;
        if (e.origin === msftData.origin && ((_a = e === null || e === void 0 ? void 0 : e.data) === null || _a === void 0 ? void 0 : _a.responseId)) {
            e.data.error
                ? promiseMap[e.data.responseId].reject(e.data.error)
                : promiseMap[e.data.responseId].resolve(e.data.response);
        }
    };

    var proxy = /*#__PURE__*/Object.freeze({
        __proto__: null,
        sendMessage: sendMessage,
        callMethod: callMethod
    });

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJveHkubWluLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL2NvbW1vbi9zZGsudHMiLCIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL3Byb3h5L2hlbHBlcnMudHMiLCIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL2NvcmUvY29uc3RhbnRzL2VudW1zLnRzIiwiLi4vLi4vLi4vLi4vLi4vU0RLL3NyYy9wcm94eS9hdHRyaWJ1dGVIYW5kbGVycy50cyIsIi4uLy4uLy4uLy4uLy4uL1NESy9zcmMvcHJveHkvaW5kZXgudHMiLCIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL3Byb3h5L2FuY2hvckNsaWNrSGFuZGxlci50cyIsIi4uLy4uLy4uLy4uLy4uL1NESy9zcmMvY29yZS91dGlscy9Bc3luY1V0aWxzLnRzIiwiLi4vLi4vLi4vLi4vLi4vU0RLL3NyYy9wcm94eS9wcm94eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qga2luZCA9ICdfX1BBQ0tBR0VfS0lORF9fJztcclxuXHJcbmV4cG9ydCBjb25zdCBhbGxvd2VkS2luZHMgPSBbJ3RyYWNrZXJDb25zZW50JywgJ2RzcicsICdnZW5lcmljQ29uc2VudCddO1xyXG4iLCJpbXBvcnQgeyBraW5kIH0gZnJvbSAnY29tbW9uL3Nkayc7XHJcblxyXG5leHBvcnQgY29uc3QgZm9ybURhdGFUb0pzb25PYmplY3QgPSAoZm9ybURhdGE6IEZvcm1EYXRhKSA9PiB7XHJcbiAgY29uc3Qgb2JqZWN0OiBhbnkgPSB7fTtcclxuICBmb3JtRGF0YS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICBpZiAoIVJlZmxlY3QuaGFzKG9iamVjdCwga2V5KSkge1xyXG4gICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0W2tleV0pKSB7XHJcbiAgICAgIG9iamVjdFtrZXldID0gW29iamVjdFtrZXldXTtcclxuICAgIH1cclxuICAgIG9iamVjdFtrZXldLnB1c2godmFsdWUpO1xyXG4gIH0pO1xyXG4gIHJldHVybiBvYmplY3Q7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0U3RhdGljRGF0YSA9IChqc29uU3RyOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cik7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEpzb25Vc2luZ0Zvcm1JZCA9IChmb3JtSWQ6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZm9ybUlkKTtcclxuICAgIGlmICghZm9ybSkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0gYXMgSFRNTEZvcm1FbGVtZW50KTtcclxuICAgIHJldHVybiBmb3JtRGF0YVRvSnNvbk9iamVjdChmb3JtRGF0YSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEpzb25Vc2luZ0lucHV0SWRzID0gKGlucHV0SWRzOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaW5wdXRJZHNBcnJheSA9IGlucHV0SWRzLnNwbGl0KCcsJyk7XHJcbiAgICBjb25zdCBvYmplY3Q6IGFueSA9IHt9O1xyXG4gICAgaW5wdXRJZHNBcnJheS5mb3JFYWNoKGlkID0+IHtcclxuICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgIGlmIChpbnB1dCkge1xyXG4gICAgICAgIG9iamVjdFtpZF0gPSAoaW5wdXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG9iamVjdDtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbXNmdENhbGxiYWNrRnVuY3Rpb24gPSAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZXZlbnQudGFyZ2V0KTtcclxuICBjb25zdCBvYmplY3Q6IGFueSA9IGZvcm1EYXRhVG9Kc29uT2JqZWN0KGZvcm1EYXRhKTtcclxuICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignUXVlc3Rpb25zRm9ybVN1Ym1pdFdpdGhvdXRNZXRhRGF0YScsIHtcclxuICAgIGRhdGE6IG9iamVjdCxcclxuICB9KTtcclxufTtcclxuIiwiZXhwb3J0IGVudW0gQ29uc2VudE1vZGVsVHlwZSB7XHJcbiAgRXhwbGljaXQgPSAnRXhwbGljaXQnLFxyXG4gIEltcGxpY2l0ID0gJ0ltcGxpY2l0JyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUHVibGljRXZlbnRzIHtcclxuICBDb25zZW50Q2hhbmdlZCA9ICdDb25zZW50Q2hhbmdlZCcsXHJcbiAgU2hvd0NvbnNlbnROb3RpY2UgPSAnU2hvd0NvbnNlbnROb3RpY2UnLFxyXG4gIFNob3dGaXJzdFBhZ2UgPSAnU2hvd0ZpcnN0UGFnZScsXHJcbiAgQ2xvc2VDb25zZW50Tm90aWNlID0gJ0Nsb3NlQ29uc2VudE5vdGljZScsXHJcbiAgQWNjZXB0QWxsID0gJ0FjY2VwdEFsbCcsXHJcbiAgUmVqZWN0QWxsID0gJ1JlamVjdEFsbCcsXHJcbiAgU2hvd1RlbXBsYXRlID0gJ1Nob3dUZW1wbGF0ZScsXHJcbiAgQ2xvc2VUZW1wbGF0ZSA9ICdDbG9zZVRlbXBsYXRlJyxcclxuICBVcGRhdGVDb25zZW50ID0gJ1VwZGF0ZUNvbnNlbnQnLFxyXG4gIEFuY2hvclRhZ0NsaWNrZWQgPSAnQW5jaG9yVGFnQ2xpY2tlZCcsXHJcbiAgRmV0Y2hDb25maWcgPSAnRmV0Y2hDb25maWcnLFxyXG4gIFF1ZXN0aW9uc0Zvcm1TdWJtaXRXaXRob3V0TWV0YURhdGEgPSAnUXVlc3Rpb25zRm9ybVN1Ym1pdFdpdGhvdXRNZXRhRGF0YScsXHJcbiAgUXVlc3Rpb25zRm9ybVN1Ym1pdCA9ICdRdWVzdGlvbnNGb3JtU3VibWl0JyxcclxuICBTaG93UHJlZmVyZW5jZXMgPSAnU2hvd1ByZWZlcmVuY2VzJyxcclxuICBDb25zZW50UHJlZmVyZW5jZSA9ICdNU0ZUQ29uc2VudFByZWZlcmVuY2UnLFxyXG4gIERhdGFQcm9wc1VwZGF0ZWQgPSAnRGF0YVByb3BzVXBkYXRlZCcsXHJcbiAgRG9uZSA9ICdEb25lJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gRXZlbnRzIHtcclxuICBJbml0ID0gJ0luaXQnLFxyXG4gIENvcmVDb25zZW50TW9kZWxTZWxlY3RlZCA9ICdDb3JlQ29uc2VudE1vZGVsU2VsZWN0ZWQnLFxyXG4gIENvbmZpZ1JlYWR5ID0gJ0NvbmZpZ1JlYWR5JyxcclxuICBDb25zZW50SW52YWxpZCA9ICdDb25zZW50SW52YWxpZCcsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEF0dHJpYnV0ZXMge1xyXG4gIC8vIFdlYiBjb25zZW50IGV2ZW50c1xyXG4gIENvbnNlbnROb3RpY2UgPSAnbXNmdC1jb25zZW50LW5vdGljZScsXHJcbiAgQWNjZXB0QWxsID0gJ21zZnQtY29uc2VudC1hY2NlcHQtYWxsJyxcclxuICBPcGVuUHJlZmVyZW5jZSA9ICdtc2Z0LWNvbnNlbnQtb3Blbi1wcmVmZXJlbmNlcycsXHJcbiAgQ2xvc2VQcmVmZXJlbmNlID0gJ21zZnQtY29uc2VudC1jbG9zZS1wcmVmZXJlbmNlcycsXHJcbiAgRGVjbGluZUFsbCA9ICdtc2Z0LWNvbnNlbnQtZGVjbGluZS1hbGwnLFxyXG4gIFNhdmVQcmVmZXJlbmNlcyA9ICdtc2Z0LWNvbnNlbnQtc2F2ZS1wcmVmZXJlbmNlcycsXHJcbiAgVHJhY2tlckNhdGVnb3J5ID0gJ21zZnQtY29uc2VudC10cmFja2VyLWNhdGVnb3J5JyxcclxuXHJcbiAgLy8gRFNSIGV2ZW50c1xyXG4gIFF1ZXN0aW9ubmFpcmVGb3JtID0gJ21zZnQtcXVlc3Rpb25uYWlyZS1mb3JtJyxcclxuICBRdWVzdGlvbm5haXJlRm9ybVN1Ym1pdCA9ICdtc2Z0LXF1ZXN0aW9ubmFpcmUtZm9ybS1zdWJtaXQnLFxyXG5cclxuICAvLyBHZW5lcmljIGV2ZW50c1xyXG4gIFJlZGlyZWN0ID0gJ21zZnQtcmVkaXJlY3QnLFxyXG4gIE9wZW5QYWdlID0gJ21zZnQtb3Blbi1wYWdlJyxcclxuICBDbG9zZVBhZ2UgPSAnbXNmdC1jbG9zZS1wYWdlJyxcclxuICBUcmlnZ2VyRXZlbnQgPSAnbXNmdC10cmlnZ2VyJyxcclxuICBUb2dnbGVJZCA9ICdtc2Z0LXRvZ2dsZS1pZCcsXHJcbiAgVG9nZ2xlT24gPSAnbXNmdC10b2dnbGUtb24nLFxyXG4gIFRvZ2dsZU9mZiA9ICdtc2Z0LXRvZ2dsZS1vZmYnLFxyXG4gIEZvcm1QYXlsb2FkRGF0YSA9ICdtc2Z0LXBheWxvYWQtZGF0YScsXHJcbiAgRm9ybUlkID0gJ21zZnQtcGF5bG9hZC1mb3JtLWlkJyxcclxuICBGb3JtSW5wdXRJRHMgPSAnbXNmdC1wYXlsb2FkLWlucHV0LWlkcycsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFNES01vZGUge1xyXG4gIERlZmF1bHQgPSAnRGVmYXVsdCcsXHJcbiAgSGVhZExlc3MgPSAnSGVhZExlc3MnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBTdHlsZVR5cGUge1xyXG4gIFVybCA9ICdVcmwnLFxyXG4gIFRleHQgPSAnVGV4dCcsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFByZWZlcmVuY2Uge1xyXG4gIE9GRiA9ICcwJyxcclxuICBPTiA9ICcxJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gQ29va2llIHtcclxuICBDb25zZW50ID0gJ21zZnQtY29uc2VudCcsXHJcbiAgQ29uc2VudE1ldGFkYXRhID0gJ21zZnQtY29uc2VudC1tZXRhZGF0YScsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFJlZ2lzdGVyZWREaXZUeXBlIHtcclxuICBTY3JpcHQgPSAnc2NyaXB0JyxcclxuICBJRnJhbWUgPSAnaWZyYW1lJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gTm90aWNlVHlwZSB7XHJcbiAgVHJhY2tlckNhdGVnb3J5ID0gJ3RyYWNrZXJDYXRlZ29yeScsXHJcbiAgUXVlc3Rpb25zID0gJ1F1ZXN0aW9ucycsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIENvbnRyb2xUeXBlIHtcclxuICBQdXJwb3NlID0gJ1B1cnBvc2UnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBFcnJvclN0cmluZ3Mge1xyXG4gIFRlbXBsYXRlRXJyb3IgPSAnPGI+VGhlcmUgaXMgc29tZXRoaW5nIHdyb25nIHdpdGggdGVtcGxhdGUuIFBsZWFzZSBjaGVjayBsb2dzLjwvYj4nLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBJbnRlcnZhbFVuaXRzIHtcclxuICBkYXkgPSAnZGF5JyxcclxuICB3ZWVrID0gJ3dlZWsnLFxyXG4gIG1vbnRoID0gJ21vbnRoJyxcclxuICB5ZWFyID0gJ3llYXInLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBRdWVzdGlvblR5cGUge1xyXG4gIFRleHQgPSAnVGV4dCcsXHJcbiAgRW1haWwgPSAnRW1haWwnLFxyXG4gIFJhZGlvID0gJ1JhZGlvJyxcclxuICBNdWx0aVNlbGVjdCA9ICdNdWx0aVNlbGVjdCcsXHJcbiAgU2VsZWN0ID0gJ1NlbGVjdCcsXHJcbiAgRGF0ZSA9ICdEYXRlJyxcclxuICBQaG9uZU51bWJlciA9ICdQaG9uZU51bWJlcicsXHJcbiAgQ3JlZGl0Q2FyZCA9ICdDcmVkaXRDYXJkJyxcclxuICBOdW1iZXIgPSAnTnVtYmVyJyxcclxuICBNdWx0aUxpbmVUZXh0ID0gJ211bHRpTGluZVRleHQnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBRdWVzdGlvblZhbGlkYXRpb24ge1xyXG4gIFJlcXVpcmVkID0gJ1JlcXVpcmVkJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUXVlc3Rpb25GaWVsZCB7XHJcbiAgUXVlc3Rpb24gPSAncXVlc3Rpb24nLFxyXG4gIFBsYWNlaG9sZGVyID0gJ3BsYWNlaG9sZGVyJyxcclxuICBPcHRpb25zID0gJ29wdGlvbnMnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBNb2RlbEtpbmQge1xyXG4gIFdlYkNvbnNlbnQgPSAnTUlDUk9TT0ZULldlYkNvbnNlbnQnLFxyXG4gIERTUlN1Ym1pc3Npb24gPSAnTUlDUk9TT0ZULkRTUlN1Ym1pc3Npb24nLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBQYWNrYWdlS2luZCB7XHJcbiAgV2ViQ29uc2VudFBhY2thZ2UgPSAnV2ViQ29uc2VudFBhY2thZ2UnLFxyXG4gIEZJREVTUGFja2FnZSA9ICdGSURFU1BhY2thZ2UnLFxyXG4gIERTUlN1Ym1pc3Npb25QYWNrYWdlID0gJ0RTUlN1Ym1pc3Npb25QYWNrYWdlJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gVGVtcGxhdGUge1xyXG4gIFByZWZlcmVuY2VzID0gJ1ByZWZlcmVuY2VzJyxcclxufVxyXG4iLCJpbXBvcnQgeyBraW5kIH0gZnJvbSAnY29tbW9uL3Nkayc7XHJcbmltcG9ydCB7XHJcbiAgZ2V0SnNvblVzaW5nRm9ybUlkLFxyXG4gIGdldEpzb25Vc2luZ0lucHV0SWRzLFxyXG4gIGdldFN0YXRpY0RhdGEsXHJcbiAgbXNmdENhbGxiYWNrRnVuY3Rpb24sXHJcbn0gZnJvbSAnLi9oZWxwZXJzJztcclxuaW1wb3J0IHsgQXR0cmlidXRlcyB9IGZyb20gJ2NvcmUvY29uc3RhbnRzL2VudW1zJztcclxuXHJcbmNvbnN0IGhhbmRsZXJzID0gW1xyXG4gIHtcclxuICAgIC8vaGFuZGxlciBmb3IgYWNjZXB0IGFsbCBidXR0b25cclxuICAgIHNlbGVjdG9yOiBgWyR7QXR0cmlidXRlcy5BY2NlcHRBbGx9XWAsXHJcbiAgICBoYW5kbGVyOiAoZWxtOiBFbGVtZW50KSA9PiB7XHJcbiAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignQWNjZXB0QWxsJyk7XHJcbiAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ0Nsb3NlQ29uc2VudE5vdGljZScpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICAvL2hhbmRsZXIgZm9yIG9wZW4gcHJlZmVyZW5jZXMgYnV0dG9uXHJcbiAge1xyXG4gICAgc2VsZWN0b3I6IGBbJHtBdHRyaWJ1dGVzLk9wZW5QcmVmZXJlbmNlfV1gLFxyXG4gICAgaGFuZGxlcjogKGVsbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ1Nob3dUZW1wbGF0ZScsIHtcclxuICAgICAgICAgIHRlbXBsYXRlSWQ6ICdQcmVmZXJlbmNlcycsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ0Nsb3NlQ29uc2VudE5vdGljZScpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICAvL2hhbmRsZXIgZm9yIGRlY2xpbmUgYWxsIGJ1dHRvblxyXG4gIHtcclxuICAgIHNlbGVjdG9yOiBgWyR7QXR0cmlidXRlcy5EZWNsaW5lQWxsfV1gLFxyXG4gICAgaGFuZGxlcjogKGVsbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ1JlamVjdEFsbCcpO1xyXG4gICAgICAgIHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXS50cmlnZ2VyKCdDbG9zZUNvbnNlbnROb3RpY2UnKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgLy9oYW5kbGVyIGZvciBzYXZlIHByZWZlcmVuY2VzIGJ1dHRvblxyXG4gIHtcclxuICAgIHNlbGVjdG9yOiBgWyR7QXR0cmlidXRlcy5TYXZlUHJlZmVyZW5jZXN9XWAsXHJcbiAgICBoYW5kbGVyOiAoZWxtOiBFbGVtZW50KSA9PiB7XHJcbiAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjb25zdCB0cmFja2VyQ2F0ZWdvcmllc1NlbGVjdG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgICAgICBgWyR7QXR0cmlidXRlcy5UcmFja2VyQ2F0ZWdvcnl9XWAsXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50UHJlZmVyZW5jZXM6IGFueSA9IHsgcHJlZmVyZW5jZXM6IHt9IH07XHJcbiAgICAgICAgdHJhY2tlckNhdGVnb3JpZXNTZWxlY3RvcnMuZm9yRWFjaChmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcclxuICAgICAgICAgIGN1cnJlbnRQcmVmZXJlbmNlcy5wcmVmZXJlbmNlc1tcclxuICAgICAgICAgICAgY2F0ZWdvcnkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JylbMF0uaWRcclxuICAgICAgICAgIF0gPSBjYXRlZ29yeS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXS5jaGVja2VkID8gJzEnIDogJzAnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXS50cmlnZ2VyKCdVcGRhdGVDb25zZW50Jywge1xyXG4gICAgICAgICAgY29uc2VudDogY3VycmVudFByZWZlcmVuY2VzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXS50cmlnZ2VyKCdDbG9zZVRlbXBsYXRlJywge1xyXG4gICAgICAgICAgdGVtcGxhdGVJZDogJ1ByZWZlcmVuY2VzJyxcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignQ2xvc2VDb25zZW50Tm90aWNlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIC8vaGFuZGxlciBmb3IgY2xvc2UgcHJlZmVyZW5jZXMgYnV0dG9uXHJcbiAge1xyXG4gICAgc2VsZWN0b3I6IGBbJHtBdHRyaWJ1dGVzLkNsb3NlUHJlZmVyZW5jZX1dYCxcclxuICAgIGhhbmRsZXI6IChlbG06IEVsZW1lbnQpID0+IHtcclxuICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXS50cmlnZ2VyKCdDbG9zZVRlbXBsYXRlJywge1xyXG4gICAgICAgICAgdGVtcGxhdGVJZDogJ1ByZWZlcmVuY2VzJyxcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignU2hvd0NvbnNlbnROb3RpY2UnKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgLy9oYW5kbGVyIGZvciBmb3JtIHN1Ym1pdFxyXG4gIHtcclxuICAgIHNlbGVjdG9yOiBgWyR7QXR0cmlidXRlcy5RdWVzdGlvbm5haXJlRm9ybX1dYCxcclxuICAgIGhhbmRsZXI6IChlbG06IEVsZW1lbnQpID0+IHtcclxuICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIG1zZnRDYWxsYmFja0Z1bmN0aW9uKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICAvL2hhbmRsZXIgZm9yIG9wZW4gcGFnZVxyXG4gIHtcclxuICAgIHNlbGVjdG9yOiBgWyR7QXR0cmlidXRlcy5PcGVuUGFnZX1dYCxcclxuICAgIGhhbmRsZXI6IChlbG06IEVsZW1lbnQpID0+IHtcclxuICAgICAgY29uc3QgdGVtcGxhdGVJZCA9IGVsbS5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5PcGVuUGFnZSk7XHJcbiAgICAgIGlmICh0ZW1wbGF0ZUlkID09PSBudWxsKSByZXR1cm47XHJcbiAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignU2hvd1RlbXBsYXRlJywge1xyXG4gICAgICAgICAgdGVtcGxhdGVJZCxcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgLy9oYW5kbGVyIGZvciBjbG9zZSBwYWdlXHJcbiAge1xyXG4gICAgc2VsZWN0b3I6IGBbJHtBdHRyaWJ1dGVzLkNsb3NlUGFnZX1dYCxcclxuICAgIGhhbmRsZXI6IChlbG06IEVsZW1lbnQpID0+IHtcclxuICAgICAgY29uc3QgdGVtcGxhdGVJZHMgPSBlbG0uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMuQ2xvc2VQYWdlKTtcclxuICAgICAgaWYgKHRlbXBsYXRlSWRzID09PSBudWxsKSByZXR1cm47XHJcbiAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB0ZW1wbGF0ZUlkcy5zcGxpdCgnLCcpLmZvckVhY2godGVtcGxhdGVJZCA9PiB7XHJcbiAgICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignQ2xvc2VUZW1wbGF0ZScsIHtcclxuICAgICAgICAgICAgdGVtcGxhdGVJZCxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICAvL2hhbmRsZXIgZm9yIHRyaWdnZXIgZXZlbnRcclxuICB7XHJcbiAgICBzZWxlY3RvcjogYFske0F0dHJpYnV0ZXMuVHJpZ2dlckV2ZW50fV1gLFxyXG4gICAgaGFuZGxlcjogKGVsbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICBsZXQgZXZlbnROYW1lID0gZWxtLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGVzLlRyaWdnZXJFdmVudCk7XHJcbiAgICAgIGlmIChldmVudE5hbWUgPT09IG51bGwpIHJldHVybjtcclxuICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudE5hbWUgPT09ICd0b2dnbGUtZHJpdmVuJykge1xyXG4gICAgICAgICAgY29uc3QgdG9nZ2xlSWQgPSBlbG0uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMuVG9nZ2xlSWQpO1xyXG4gICAgICAgICAgaWYgKHRvZ2dsZUlkID09PSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRvZ2dsZUlkKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgICAgaWYgKGlucHV0Py5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgIGV2ZW50TmFtZSA9IGlucHV0LmdldEF0dHJpYnV0ZShBdHRyaWJ1dGVzLlRvZ2dsZU9uKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50TmFtZSA9IGlucHV0LmdldEF0dHJpYnV0ZShBdHRyaWJ1dGVzLlRvZ2dsZU9mZik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN0YXRpY0RhdGEgPSBlbG0uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMuRm9ybVBheWxvYWREYXRhKTtcclxuICAgICAgICBjb25zdCBmb3JtSWQgPSBlbG0uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMuRm9ybUlkKTtcclxuICAgICAgICBjb25zdCBpbnB1dElkcyA9IGVsbS5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5Gb3JtSW5wdXRJRHMpO1xyXG4gICAgICAgIGxldCBwYXlsb2FkOiBhbnkgPSBudWxsO1xyXG4gICAgICAgIGlmIChzdGF0aWNEYXRhICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBwYXlsb2FkID0gZ2V0U3RhdGljRGF0YShzdGF0aWNEYXRhKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGZvcm1JZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgcGF5bG9hZCA9IGdldEpzb25Vc2luZ0Zvcm1JZChmb3JtSWQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXRJZHMgIT09IG51bGwpIHtcclxuICAgICAgICAgIHBheWxvYWQgPSBnZXRKc29uVXNpbmdJbnB1dElkcyhpbnB1dElkcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV2ZW50TmFtZSAhPT0gbnVsbCAmJlxyXG4gICAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoZXZlbnROYW1lLCBwYXlsb2FkKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIHNlbGVjdG9yOiBgWyR7QXR0cmlidXRlcy5SZWRpcmVjdH1dYCxcclxuICAgIGhhbmRsZXI6IChlbG06IEVsZW1lbnQpID0+IHtcclxuICAgICAgY29uc3QgcmVkaXJlY3RVcmwgPSBlbG0uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMuUmVkaXJlY3QpO1xyXG4gICAgICBpZiAocmVkaXJlY3RVcmwpIHtcclxuICAgICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICdjbGljaycsXHJcbiAgICAgICAgICAoKSA9PiAod2luZG93LmxvY2F0aW9uLmhyZWYgPSByZWRpcmVjdFVybCksXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9LFxyXG5dO1xyXG5cclxuKHdpbmRvdyBhcyBhbnkpWydkaXNhYmxlUXVlc3Rpb25Gb3JtU3VibWl0J10gPSAoKSA9PiB7XHJcbiAgZG9jdW1lbnRcclxuICAgIC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtBdHRyaWJ1dGVzLlF1ZXN0aW9ubmFpcmVGb3JtU3VibWl0fV1gKVxyXG4gICAgLmZvckVhY2goZWxtID0+IHtcclxuICAgICAgZWxtLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbih3aW5kb3cgYXMgYW55KVsnZW5hYmxlUXVlc3Rpb25Gb3JtU3VibWl0J10gPSAoKSA9PiB7XHJcbiAgZG9jdW1lbnRcclxuICAgIC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtBdHRyaWJ1dGVzLlF1ZXN0aW9ubmFpcmVGb3JtU3VibWl0fV1gKVxyXG4gICAgLmZvckVhY2goZWxtID0+IHtcclxuICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuY29uc3QgcmVnaXN0ZXJIYW5kbGVycyA9ICgpID0+IHtcclxuICBjb25zdCBleGVjdXRpb25Db250ZXh0cyA9ICh3aW5kb3cgYXMgYW55KS5tc2Z0RGF0YT8uZXhlY3V0aW9uQ29udGV4dHM/Lmxlbmd0aFxyXG4gICAgPyAoKHdpbmRvdyBhcyBhbnkpLm1zZnREYXRhLmV4ZWN1dGlvbkNvbnRleHRzIGFzIHN0cmluZ1tdKVxyXG4gICAgOiBbXTtcclxuICAvLyByZWdpc3RlciBhbGwgaGFuZGxlcnNcclxuICBoYW5kbGVycy5mb3JFYWNoKCh7IHNlbGVjdG9yLCBoYW5kbGVyIH0pID0+IHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLmZvckVhY2goZWxtID0+IHtcclxuICAgICAgaWYgKGV4ZWN1dGlvbkNvbnRleHRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gZWxtLmdldEF0dHJpYnV0ZU5hbWVzKCk7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgZXhlY3V0aW9uQ29udGV4dHMuc29tZShjdHggPT4gYXR0cmlidXRlcy5pbmNsdWRlcyhgJHtjdHh9LWRpc2FibGVkYCkpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGhhbmRsZXIoZWxtKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvL3JlbW92ZSBhbGwgaGlkZGVuIGVsZW1lbnRzXHJcbiAgZXhlY3V0aW9uQ29udGV4dHMuZm9yRWFjaChjdHggPT4ge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7Y3R4fS1oaWRkZW5dYCkuZm9yRWFjaChlbG0gPT4ge1xyXG4gICAgICBlbG0ucmVtb3ZlKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgaXNHUENFbmFibGVkID0gKHdpbmRvdyBhcyBhbnkpLm1zZnREYXRhPy5pc0dQQ0VuYWJsZWQgfHwgZmFsc2U7XHJcbiAgaWYgKGlzR1BDRW5hYmxlZCkge1xyXG4gICAgY29uc3QgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTtcclxuICAgIGlucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcnKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbicpO1xyXG4gICAgYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xyXG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnbXNmdC1kaXNhYmxlZCcpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBjbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtBdHRyaWJ1dGVzLkNsb3NlUGFnZX1dYCk7XHJcbiAgICBjbG9zZUJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbXNmdC1kaXNhYmxlZCcpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkaW5nJykge1xyXG4gIHJlZ2lzdGVySGFuZGxlcnMoKTtcclxufSBlbHNlIHtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgcmVnaXN0ZXJIYW5kbGVycygpO1xyXG4gIH0pO1xyXG59XHJcbiIsImltcG9ydCAnLi9hdHRyaWJ1dGVIYW5kbGVycyc7XHJcbmltcG9ydCB7IGtpbmQgfSBmcm9tICdjb21tb24vc2RrJztcclxuXHJcbmNvbnN0IGFkZFByb3h5TWV0aG9kcyA9ICgpID0+IHtcclxuICBpbXBvcnQoJy4vYW5jaG9yQ2xpY2tIYW5kbGVyJyk7XHJcblxyXG4gIGltcG9ydCgnLi9wcm94eScpLnRoZW4oKHsgY2FsbE1ldGhvZCwgc2VuZE1lc3NhZ2UgfSkgPT4ge1xyXG4gICAgd2luZG93Lk1TRlRQcml2YWN5ID0geyBba2luZF06IHt9IH0gYXMgYW55O1xyXG5cclxuICAgIGNvbnN0IG1ldGhvZHNXaXRoUmV0dXJuVHlwZSA9IFsnZ2V0Q29uc2VudCcsICdnZXRUcmFja2VyQ2F0ZWdvcmllcyddO1xyXG4gICAgY29uc3QgbWV0aG9kc1dpdGhvdXRSZXR1cm5UeXBlID0gWyd0cmlnZ2VyJywgJ3Nob3dDaGFuZ2VTZXR0aW5nc01vZGFsJ107XHJcblxyXG4gICAgbWV0aG9kc1dpdGhvdXRSZXR1cm5UeXBlLmZvckVhY2gobWV0aG9kTmFtZSA9PiB7XHJcbiAgICAgICh3aW5kb3cuTVNGVFByaXZhY3lba2luZF0gYXMgYW55KVttZXRob2ROYW1lXSA9IChcclxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxyXG4gICAgICApOiB2b2lkID0+IHtcclxuICAgICAgICBzZW5kTWVzc2FnZShtZXRob2ROYW1lLCBhcmdzKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIG1ldGhvZHNXaXRoUmV0dXJuVHlwZS5mb3JFYWNoKG1ldGhvZE5hbWUgPT4ge1xyXG4gICAgICAod2luZG93Lk1TRlRQcml2YWN5W2tpbmRdIGFzIGFueSlbbWV0aG9kTmFtZV0gPSAoXHJcbiAgICAgICAgLi4uYXJnczogYW55W11cclxuICAgICAgKTogUHJvbWlzZTxhbnk+ID0+IHtcclxuICAgICAgICByZXR1cm4gY2FsbE1ldGhvZChtZXRob2ROYW1lLCBhcmdzKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuaWYgKCEod2luZG93IGFzIGFueSkubXNmdERhdGE/LnJlbmRlclRlbXBsYXRlV2l0aG91dElmcmFtZSkge1xyXG4gIGFkZFByb3h5TWV0aG9kcygpO1xyXG59XHJcbiIsImltcG9ydCB7IFB1YmxpY0V2ZW50cyB9IGZyb20gJ2NvcmUvY29uc3RhbnRzL2VudW1zJztcclxuaW1wb3J0IHsga2luZCB9IGZyb20gJ2NvbW1vbi9zZGsnO1xyXG5cclxuY29uc3Qgb25jbGlja0hhbmRsZXIgPSAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gIGlmIChcclxuICAgIGUudGFyZ2V0ICYmXHJcbiAgICAoZS50YXJnZXQgYXMgSFRNTEFuY2hvckVsZW1lbnQpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhJ1xyXG4gICkge1xyXG4gICAgY29uc3QgYXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xyXG4gICAgY29uc3QgYXR0cmlidXRlTmFtZXMgPSAoZS50YXJnZXQgYXMgSFRNTEFuY2hvckVsZW1lbnQpLmdldEF0dHJpYnV0ZU5hbWVzKCk7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBhdHRyTmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2ldO1xyXG4gICAgICBhdHRyaWJ1dGVzW2F0dHJOYW1lXSA9XHJcbiAgICAgICAgKGUudGFyZ2V0IGFzIEhUTUxBbmNob3JFbGVtZW50KS5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpIHx8ICcnO1xyXG4gICAgfVxyXG4gICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoUHVibGljRXZlbnRzLkFuY2hvclRhZ0NsaWNrZWQsIHtcclxuICAgICAgYXR0cmlidXRlcyxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIE9wdGlvbnMgZm9yIHRoZSBvYnNlcnZlciAod2hpY2ggbXV0YXRpb25zIHRvIG9ic2VydmUpXHJcbmNvbnN0IGNvbmZpZyA9IHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH07XHJcblxyXG4vLyBDYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gbXV0YXRpb25zIGFyZSBvYnNlcnZlZFxyXG5jb25zdCBjYWxsYmFjazogTXV0YXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uIChtdXRhdGlvbkxpc3QpIHtcclxuICBtdXRhdGlvbkxpc3QuZm9yRWFjaChtdXRhdGlvblJlY29yZCA9PiB7XHJcbiAgICBtdXRhdGlvblJlY29yZC5hZGRlZE5vZGVzLmZvckVhY2goYWRkZWROb2RlID0+IHtcclxuICAgICAgaWYgKGFkZGVkTm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYScpIHtcclxuICAgICAgICBhZGRlZE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB7IGhhbmRsZUV2ZW50OiBvbmNsaWNrSGFuZGxlciB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyBDcmVhdGUgYW4gb2JzZXJ2ZXIgaW5zdGFuY2UgbGlua2VkIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvblxyXG5jb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcclxuXHJcbi8vIFN0YXJ0IG9ic2VydmluZyB0aGUgdGFyZ2V0IG5vZGUgZm9yIGNvbmZpZ3VyZWQgbXV0YXRpb25zXHJcbm9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBjb25maWcpO1xyXG4iLCJleHBvcnQgaW50ZXJmYWNlIElEZWZlcnJlZDxUPiB7XHJcbiAgcHJvbWlzZTogUHJvbWlzZTxUPjtcclxuICByZXNvbHZlOiAodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4gdm9pZDtcclxuICByZWplY3Q6IChyZWFzb24/OiBhbnkpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFzeW5jVXRpbHMge1xyXG4gIHB1YmxpYyBzdGF0aWMgZGVmZXJyZWQ8VD4oKTogSURlZmVycmVkPFQ+IHtcclxuICAgIGNvbnN0IGRlZmVyID0ge30gYXMgSURlZmVycmVkPFQ+O1xyXG4gICAgZGVmZXIucHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChyZXMsIHJlaikgPT4ge1xyXG4gICAgICBkZWZlci5yZXNvbHZlID0gcmVzO1xyXG4gICAgICBkZWZlci5yZWplY3QgPSByZWo7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZGVmZXI7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFB1YmxpY0V2ZW50cyB9IGZyb20gJ2NvcmUvY29uc3RhbnRzL2VudW1zJztcclxuaW1wb3J0IEFzeW5jVXRpbHMsIHsgSURlZmVycmVkIH0gZnJvbSAnY29yZS91dGlscy9Bc3luY1V0aWxzJztcclxuXHJcbmNvbnN0IHByb21pc2VNYXA6IHsgW2tleTogc3RyaW5nXTogSURlZmVycmVkPGFueT4gfSA9IHt9O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNlbmRNZXNzYWdlID0gKFxyXG4gIG1ldGhvZDogc3RyaW5nLFxyXG4gIGFyZ3M6IGFueVtdLFxyXG4gIHJlc3BvbnNlSWQ/OiBzdHJpbmcsXHJcbikgPT4ge1xyXG4gIGlmIChwYXJlbnQpIHtcclxuICAgIGlmIChcclxuICAgICAgYXJncy5sZW5ndGggPiAwICYmXHJcbiAgICAgIChhcmdzWzBdID09PSBQdWJsaWNFdmVudHMuU2hvd1RlbXBsYXRlIHx8XHJcbiAgICAgICAgYXJnc1swXSA9PT0gUHVibGljRXZlbnRzLkNsb3NlVGVtcGxhdGUgfHxcclxuICAgICAgICBhcmdzWzBdID09PSBQdWJsaWNFdmVudHMuQ2xvc2VDb25zZW50Tm90aWNlIHx8XHJcbiAgICAgICAgISh3aW5kb3cgYXMgYW55KS5tc2Z0RGF0YT8uaXNHUENFbmFibGVkKVxyXG4gICAgKVxyXG4gICAgICBwYXJlbnQucG9zdE1lc3NhZ2UoXHJcbiAgICAgICAgeyBtZXRob2Q6IG1ldGhvZCwgcGFyYW1zOiBPYmplY3QudmFsdWVzKGFyZ3MpLCByZXNwb25zZUlkIH0sXHJcbiAgICAgICAgbXNmdERhdGEub3JpZ2luLFxyXG4gICAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjYWxsTWV0aG9kID0gKG1ldGhvZDogc3RyaW5nLCBhcmdzOiBhbnlbXSk6IFByb21pc2U8YW55PiA9PiB7XHJcbiAgY29uc3QgcmVzcG9uc2VJZCA9IGAke21ldGhvZH0tJHtuZXcgRGF0ZSgpLmdldFRpbWUoKX1gO1xyXG4gIGNvbnN0IGRlZmVycmVkID0gQXN5bmNVdGlscy5kZWZlcnJlZDxhbnk+KCk7XHJcbiAgcHJvbWlzZU1hcFtyZXNwb25zZUlkXSA9IGRlZmVycmVkO1xyXG4gIHNlbmRNZXNzYWdlKG1ldGhvZCwgYXJncywgcmVzcG9uc2VJZCk7XHJcbiAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbn07XHJcblxyXG53aW5kb3cub25tZXNzYWdlID0gZSA9PiB7XHJcbiAgaWYgKGUub3JpZ2luID09PSBtc2Z0RGF0YS5vcmlnaW4gJiYgZT8uZGF0YT8ucmVzcG9uc2VJZCkge1xyXG4gICAgZS5kYXRhLmVycm9yXHJcbiAgICAgID8gcHJvbWlzZU1hcFtlLmRhdGEucmVzcG9uc2VJZF0ucmVqZWN0KGUuZGF0YS5lcnJvcilcclxuICAgICAgOiBwcm9taXNlTWFwW2UuZGF0YS5yZXNwb25zZUlkXS5yZXNvbHZlKGUuZGF0YS5yZXNw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
