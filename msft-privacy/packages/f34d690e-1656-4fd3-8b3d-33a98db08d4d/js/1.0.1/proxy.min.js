(function () {
    'use strict';

    var kind = 'trackerConsent';

    var formDataToJsonObject = function (formData) {
        var object = {};
        formData.forEach(function (value, key) {
            if (!Reflect.has(object, key)) {
                object[key] = value;
                return;
            }
            if (!Array.isArray(object[key])) {
                object[key] = [object[key]];
            }
            object[key].push(value);
        });
        return object;
    };
    var getStaticData = function (jsonStr) {
        try {
            return JSON.parse(jsonStr);
        }
        catch (e) {
            return null;
        }
    };
    var getJsonUsingFormId = function (formId) {
        try {
            var form = document.getElementById(formId);
            if (!form) {
                return null;
            }
            var formData = new FormData(form);
            return formDataToJsonObject(formData);
        }
        catch (e) {
            return null;
        }
    };
    var getJsonUsingInputIds = function (inputIds) {
        try {
            var inputIdsArray = inputIds.split(',');
            var object_1 = {};
            inputIdsArray.forEach(function (id) {
                var input = document.getElementById(id);
                if (input) {
                    object_1[id] = input.value;
                }
            });
            return object_1;
        }
        catch (e) {
            return null;
        }
    };
    var msftCallbackFunction = function (event) {
        event.preventDefault();
        var formData = new FormData(event.target);
        var object = formDataToJsonObject(formData);
        window.MSFTPrivacy[kind].trigger('QuestionsFormSubmitWithoutMetaData', {
            data: object,
        });
    };

    var ConsentModelType;
    (function (ConsentModelType) {
        ConsentModelType["Explicit"] = "Explicit";
        ConsentModelType["Implicit"] = "Implicit";
    })(ConsentModelType || (ConsentModelType = {}));
    var PublicEvents;
    (function (PublicEvents) {
        PublicEvents["ConsentChanged"] = "ConsentChanged";
        PublicEvents["ShowConsentNotice"] = "ShowConsentNotice";
        PublicEvents["ShowFirstPage"] = "ShowFirstPage";
        PublicEvents["CloseConsentNotice"] = "CloseConsentNotice";
        PublicEvents["AcceptAll"] = "AcceptAll";
        PublicEvents["RejectAll"] = "RejectAll";
        PublicEvents["ShowLayout"] = "ShowLayout";
        PublicEvents["CloseLayout"] = "CloseLayout";
        PublicEvents["UpdateConsent"] = "UpdateConsent";
        PublicEvents["AnchorTagClicked"] = "AnchorTagClicked";
        PublicEvents["FetchConfig"] = "FetchConfig";
        PublicEvents["QuestionsFormSubmitWithoutMetaData"] = "QuestionsFormSubmitWithoutMetaData";
        PublicEvents["QuestionsFormSubmit"] = "QuestionsFormSubmit";
        PublicEvents["ShowPreferences"] = "ShowPreferences";
        PublicEvents["ConsentPreference"] = "MSFTConsentPreference";
        PublicEvents["DataPropsUpdated"] = "DataPropsUpdated";
        PublicEvents["Done"] = "Done";
    })(PublicEvents || (PublicEvents = {}));
    var Events;
    (function (Events) {
        Events["Init"] = "Init";
        Events["CoreConsentModelSelected"] = "CoreConsentModelSelected";
        Events["ConfigReady"] = "ConfigReady";
        Events["ConsentInvalid"] = "ConsentInvalid";
    })(Events || (Events = {}));
    var Attributes;
    (function (Attributes) {
        // Web consent events
        Attributes["ConsentNotice"] = "msft-consent-notice";
        Attributes["AcceptAll"] = "msft-consent-accept-all";
        Attributes["OpenPreference"] = "msft-consent-open-preferences";
        Attributes["ClosePreference"] = "msft-consent-close-preferences";
        Attributes["DeclineAll"] = "msft-consent-decline-all";
        Attributes["SavePreferences"] = "msft-consent-save-preferences";
        Attributes["Purpose"] = "msft-consent-tracker-category";
        // DSR events
        Attributes["QuestionnaireForm"] = "msft-questionnaire-form";
        Attributes["QuestionnaireFormSubmit"] = "msft-questionnaire-form-submit";
        // Generic events
        Attributes["Redirect"] = "msft-redirect";
        Attributes["OpenPage"] = "msft-open-page";
        Attributes["ClosePage"] = "msft-close-page";
        Attributes["TriggerEvent"] = "msft-trigger";
        Attributes["ToggleId"] = "msft-toggle-id";
        Attributes["ToggleOn"] = "msft-toggle-on";
        Attributes["ToggleOff"] = "msft-toggle-off";
        Attributes["FormPayloadData"] = "msft-payload-data";
        Attributes["FormId"] = "msft-payload-form-id";
        Attributes["FormInputIDs"] = "msft-payload-input-ids";
    })(Attributes || (Attributes = {}));
    var SDKMode;
    (function (SDKMode) {
        SDKMode["Default"] = "Default";
        SDKMode["HeadLess"] = "HeadLess";
    })(SDKMode || (SDKMode = {}));
    var StyleType;
    (function (StyleType) {
        StyleType["Url"] = "Url";
        StyleType["Text"] = "Text";
    })(StyleType || (StyleType = {}));
    var Preference;
    (function (Preference) {
        Preference["OFF"] = "0";
        Preference["ON"] = "1";
    })(Preference || (Preference = {}));
    var Cookie;
    (function (Cookie) {
        Cookie["Consent"] = "msft-consent";
        Cookie["ConsentMetadata"] = "msft-consent-metadata";
    })(Cookie || (Cookie = {}));
    var RegisteredDivType;
    (function (RegisteredDivType) {
        RegisteredDivType["Script"] = "script";
        RegisteredDivType["IFrame"] = "iframe";
    })(RegisteredDivType || (RegisteredDivType = {}));
    var NoticeType;
    (function (NoticeType) {
        NoticeType["Control"] = "Control";
        NoticeType["Questions"] = "Questions";
    })(NoticeType || (NoticeType = {}));
    var ErrorStrings;
    (function (ErrorStrings) {
        ErrorStrings["LayoutError"] = "<b>There is something wrong with layout. Please check logs.</b>";
    })(ErrorStrings || (ErrorStrings = {}));
    var IntervalUnits;
    (function (IntervalUnits) {
        IntervalUnits["day"] = "day";
        IntervalUnits["week"] = "week";
        IntervalUnits["month"] = "month";
        IntervalUnits["year"] = "year";
    })(IntervalUnits || (IntervalUnits = {}));
    var QuestionType;
    (function (QuestionType) {
        QuestionType["Text"] = "Text";
        QuestionType["Email"] = "Email";
        QuestionType["Radio"] = "Radio";
        QuestionType["MultiSelect"] = "MultiSelect";
        QuestionType["Select"] = "Select";
        QuestionType["Date"] = "Date";
        QuestionType["PhoneNumber"] = "PhoneNumber";
        QuestionType["CreditCard"] = "CreditCard";
        QuestionType["Number"] = "Number";
        QuestionType["MultiLineText"] = "multiLineText";
    })(QuestionType || (QuestionType = {}));
    var QuestionValidation;
    (function (QuestionValidation) {
        QuestionValidation["Required"] = "Required";
    })(QuestionValidation || (QuestionValidation = {}));
    var QuestionField;
    (function (QuestionField) {
        QuestionField["Question"] = "question";
        QuestionField["Placeholder"] = "placeholder";
        QuestionField["Options"] = "options";
    })(QuestionField || (QuestionField = {}));
    var ModelKind;
    (function (ModelKind) {
        ModelKind["WebConsent"] = "MICROSOFT.WebConsent";
        ModelKind["DSRSubmission"] = "MICROSOFT.DSRSubmission";
    })(ModelKind || (ModelKind = {}));
    var PackageKind;
    (function (PackageKind) {
        PackageKind["WebConsentPackage"] = "WebConsentPackage";
        PackageKind["FIDESPackage"] = "FIDESPackage";
        PackageKind["DSRSubmissionPackage"] = "DSRSubmissionPackage";
    })(PackageKind || (PackageKind = {}));
    var Layout;
    (function (Layout) {
        Layout["Preferences"] = "Preferences";
    })(Layout || (Layout = {}));
    var AppConfigurationType;
    (function (AppConfigurationType) {
        AppConfigurationType["PurposeConfiguration"] = "purposeConfiguration";
    })(AppConfigurationType || (AppConfigurationType = {}));

    var handlers = [
        {
            //handler for accept all button
            selector: "[".concat(Attributes.AcceptAll, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('AcceptAll');
                    window.MSFTPrivacy[kind].trigger('CloseConsentNotice');
                });
            },
        },
        //handler for open preferences button
        {
            selector: "[".concat(Attributes.OpenPreference, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('ShowLayout', {
                        layoutId: 'Preferences',
                    });
                    window.MSFTPrivacy[kind].trigger('CloseConsentNotice');
                });
            },
        },
        //handler for decline all button
        {
            selector: "[".concat(Attributes.DeclineAll, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('RejectAll');
                    window.MSFTPrivacy[kind].trigger('CloseConsentNotice');
                });
            },
        },
        //handler for save preferences button
        {
            selector: "[".concat(Attributes.SavePreferences, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    var purposesSelectors = document.querySelectorAll("[".concat(Attributes.Purpose, "]"));
                    var currentPreferences = { preferences: {} };
                    purposesSelectors.forEach(function (purpose) {
                        currentPreferences.preferences[purpose.getElementsByTagName('input')[0].id] = purpose.getElementsByTagName('input')[0].checked ? '1' : '0';
                    });
                    window.MSFTPrivacy[kind].trigger('UpdateConsent', {
                        consent: currentPreferences,
                    });
                    window.MSFTPrivacy[kind].trigger('CloseLayout', {
                        layoutId: 'Preferences',
                    });
                    window.MSFTPrivacy[kind].trigger('CloseConsentNotice');
                });
            },
        },
        //handler for close preferences button
        {
            selector: "[".concat(Attributes.ClosePreference, "]"),
            handler: function (elm) {
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('CloseLayout', {
                        layoutId: 'Preferences',
                    });
                    window.MSFTPrivacy[kind].trigger('ShowConsentNotice');
                });
            },
        },
        //handler for form submit
        {
            selector: "[".concat(Attributes.QuestionnaireForm, "]"),
            handler: function (elm) {
                elm.addEventListener('submit', msftCallbackFunction);
            },
        },
        //handler for open page
        {
            selector: "[".concat(Attributes.OpenPage, "]"),
            handler: function (elm) {
                var layoutId = elm.getAttribute(Attributes.OpenPage);
                if (layoutId === null)
                    return;
                elm.addEventListener('click', function () {
                    window.MSFTPrivacy[kind].trigger('ShowLayout', {
                        layoutId: layoutId,
                    });
                });
            },
        },
        //handler for close page
        {
            selector: "[".concat(Attributes.ClosePage, "]"),
            handler: function (elm) {
                var layoutIds = elm.getAttribute(Attributes.ClosePage);
                if (layoutIds === null)
                    return;
                elm.addEventListener('click', function () {
                    layoutIds.split(',').forEach(function (layoutId) {
                        window.MSFTPrivacy[kind].trigger('CloseLayout', {
                            layoutId: layoutId,
                        });
                    });
                });
            },
        },
        //handler for trigger event
        {
            selector: "[".concat(Attributes.TriggerEvent, "]"),
            handler: function (elm) {
                var eventName = elm.getAttribute(Attributes.TriggerEvent);
                if (eventName === null)
                    return;
                elm.addEventListener('click', function () {
                    if (eventName === 'toggle-driven') {
                        var toggleId = elm.getAttribute(Attributes.ToggleId);
                        if (toggleId === null)
                            return;
                        var input = document.getElementById(toggleId);
                        if (input === null || input === void 0 ? void 0 : input.checked) {
                            eventName = input.getAttribute(Attributes.ToggleOn);
                        }
                        else {
                            eventName = input.getAttribute(Attributes.ToggleOff);
                        }
                    }
                    var staticData = elm.getAttribute(Attributes.FormPayloadData);
                    var formId = elm.getAttribute(Attributes.FormId);
                    var inputIds = elm.getAttribute(Attributes.FormInputIDs);
                    var payload = null;
                    if (staticData !== null) {
                        payload = getStaticData(staticData);
                    }
                    else if (formId !== null) {
                        payload = getJsonUsingFormId(formId);
                    }
                    else if (inputIds !== null) {
                        payload = getJsonUsingInputIds(inputIds);
                    }
                    eventName !== null &&
                        window.MSFTPrivacy[kind].trigger(eventName, payload);
                });
            },
        },
        {
            selector: "[".concat(Attributes.Redirect, "]"),
            handler: function (elm) {
                var redirectUrl = elm.getAttribute(Attributes.Redirect);
                if (redirectUrl) {
                    elm.addEventListener('click', function () { return (window.location.href = redirectUrl); });
                }
            },
        },
    ];
    window['disableQuestionFormSubmit'] = function () {
        document
            .querySelectorAll("[".concat(Attributes.QuestionnaireFormSubmit, "]"))
            .forEach(function (elm) {
            elm.setAttribute('disabled', '');
        });
    };
    window['enableQuestionFormSubmit'] = function () {
        document
            .querySelectorAll("[".concat(Attributes.QuestionnaireFormSubmit, "]"))
            .forEach(function (elm) {
            elm.removeAttribute('disabled');
        });
    };
    var registerHandlers = function () {
        var _a, _b, _c;
        var executionContexts = ((_b = (_a = window.msftData) === null || _a === void 0 ? void 0 : _a.executionContexts) === null || _b === void 0 ? void 0 : _b.length)
            ? window.msftData.executionContexts
            : [];
        // register all handlers
        handlers.forEach(function (_a) {
            var selector = _a.selector, handler = _a.handler;
            document.querySelectorAll(selector).forEach(function (elm) {
                if (executionContexts.length > 0) {
                    var attributes_1 = elm.getAttributeNames();
                    if (executionContexts.some(function (ctx) { return attributes_1.includes("".concat(ctx, "-disabled")); })) {
                        return;
                    }
                }
                handler(elm);
            });
        });
        //remove all hidden elements
        executionContexts.forEach(function (ctx) {
            document.querySelectorAll("[".concat(ctx, "-hidden]")).forEach(function (elm) {
                elm.remove();
            });
        });
        var isGPCEnabled = ((_c = window.msftData) === null || _c === void 0 ? void 0 : _c.isGPCEnabled) || false;
        if (isGPCEnabled) {
            var inputs = document.querySelectorAll('input');
            inputs.forEach(function (input) {
                input.setAttribute('disabled', '');
            });
            var buttons = document.querySelectorAll('button');
            buttons.forEach(function (button) {
                button.setAttribute('disabled', '');
                button.classList.add('msft-disabled');
            });
            var closeButtons = document.querySelectorAll("[".concat(Attributes.ClosePage, "]"));
            closeButtons.forEach(function (button) {
                button.removeAttribute('disabled');
                button.classList.remove('msft-disabled');
            });
        }
    };
    if (document.readyState !== 'loading') {
        registerHandlers();
    }
    else {
        document.addEventListener('DOMContentLoaded', function () {
            registerHandlers();
        });
    }

    var _a;
    var addProxyMethods = function () {
        Promise.resolve().then(function () { return anchorClickHandler; });
        Promise.resolve().then(function () { return proxy; }).then(function (_a) {
            var _b;
            var callMethod = _a.callMethod, sendMessage = _a.sendMessage;
            window.MSFTPrivacy = (_b = {}, _b[kind] = {}, _b);
            var methodsWithReturnType = ['getConsent', 'getPurposes'];
            var methodsWithoutReturnType = ['trigger', 'showChangeSettingsModal'];
            methodsWithoutReturnType.forEach(function (methodName) {
                window.MSFTPrivacy[kind][methodName] = function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    sendMessage(methodName, args);
                };
            });
            methodsWithReturnType.forEach(function (methodName) {
                window.MSFTPrivacy[kind][methodName] = function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    return callMethod(methodName, args);
                };
            });
        });
    };
    if (!((_a = window.msftData) === null || _a === void 0 ? void 0 : _a.renderLayoutWithoutIframe)) {
        addProxyMethods();
    }

    var onclickHandler = function (e) {
        if (e.target &&
            e.target.nodeName.toLowerCase() === 'a') {
            var attributes = {};
            var attributeNames = e.target.getAttributeNames();
            e.preventDefault();
            e.stopPropagation();
            for (var i = 0; i < attributeNames.length; i++) {
                var attrName = attributeNames[i];
                attributes[attrName] =
                    e.target.getAttribute(attrName) || '';
            }
            window.MSFTPrivacy[kind].trigger(PublicEvents.AnchorTagClicked, {
                attributes: attributes,
            });
        }
    };
    // Options for the observer (which mutations to observe)
    var config = { childList: true, subtree: true };
    // Callback function to execute when mutations are observed
    var callback = function (mutationList) {
        mutationList.forEach(function (mutationRecord) {
            mutationRecord.addedNodes.forEach(function (addedNode) {
                if (addedNode.nodeName.toLowerCase() === 'a') {
                    addedNode.addEventListener('click', { handleEvent: onclickHandler });
                }
            });
        });
    };
    // Create an observer instance linked to the callback function
    var observer = new MutationObserver(callback);
    // Start observing the target node for configured mutations
    observer.observe(document.documentElement, config);

    var anchorClickHandler = /*#__PURE__*/Object.freeze({
        __proto__: null
    });

    var AsyncUtils = /** @class */ (function () {
        function AsyncUtils() {
        }
        AsyncUtils.deferred = function () {
            var defer = {};
            defer.promise = new Promise(function (res, rej) {
                defer.resolve = res;
                defer.reject = rej;
            });
            return defer;
        };
        return AsyncUtils;
    }());
    var AsyncUtils$1 = AsyncUtils;

    var promiseMap = {};
    var sendMessage = function (method, args, responseId) {
        var _a;
        if (parent) {
            if (args.length > 0 &&
                (args[0] === PublicEvents.ShowLayout ||
                    args[0] === PublicEvents.CloseLayout ||
                    args[0] === PublicEvents.CloseConsentNotice ||
                    !((_a = window.msftData) === null || _a === void 0 ? void 0 : _a.isGPCEnabled)))
                parent.postMessage({ method: method, params: Object.values(args), responseId: responseId }, msftData.origin);
        }
    };
    var callMethod = function (method, args) {
        var responseId = "".concat(method, "-").concat(new Date().getTime());
        var deferred = AsyncUtils$1.deferred();
        promiseMap[responseId] = deferred;
        sendMessage(method, args, responseId);
        return deferred.promise;
    };
    window.onmessage = function (e) {
        var _a;
        if (e.origin === msftData.origin && ((_a = e === null || e === void 0 ? void 0 : e.data) === null || _a === void 0 ? void 0 : _a.responseId)) {
            e.data.error
                ? promiseMap[e.data.responseId].reject(e.data.error)
                : promiseMap[e.data.responseId].resolve(e.data.response);
        }
    };

    var proxy = /*#__PURE__*/Object.freeze({
        __proto__: null,
        sendMessage: sendMessage,
        callMethod: callMethod
    });

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJveHkubWluLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL2NvbW1vbi9zZGsudHMiLCIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL3Byb3h5L2hlbHBlcnMudHMiLCIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL2NvcmUvY29uc3RhbnRzL2VudW1zLnRzIiwiLi4vLi4vLi4vLi4vLi4vU0RLL3NyYy9wcm94eS9hdHRyaWJ1dGVIYW5kbGVycy50cyIsIi4uLy4uLy4uLy4uLy4uL1NESy9zcmMvcHJveHkvaW5kZXgudHMiLCIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL3Byb3h5L2FuY2hvckNsaWNrSGFuZGxlci50cyIsIi4uLy4uLy4uLy4uLy4uL1NESy9zcmMvY29yZS91dGlscy9Bc3luY1V0aWxzLnRzIiwiLi4vLi4vLi4vLi4vLi4vU0RLL3NyYy9wcm94eS9wcm94eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qga2luZCA9ICdfX1BBQ0tBR0VfS0lORF9fJztcclxuXHJcbmV4cG9ydCBjb25zdCBhbGxvd2VkS2luZHMgPSBbJ3RyYWNrZXJDb25zZW50JywgJ2RzcicsICdnZW5lcmljQ29uc2VudCddO1xyXG4iLCJpbXBvcnQgeyBraW5kIH0gZnJvbSAnY29tbW9uL3Nkayc7XHJcblxyXG5leHBvcnQgY29uc3QgZm9ybURhdGFUb0pzb25PYmplY3QgPSAoZm9ybURhdGE6IEZvcm1EYXRhKSA9PiB7XHJcbiAgY29uc3Qgb2JqZWN0OiBhbnkgPSB7fTtcclxuICBmb3JtRGF0YS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICBpZiAoIVJlZmxlY3QuaGFzKG9iamVjdCwga2V5KSkge1xyXG4gICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0W2tleV0pKSB7XHJcbiAgICAgIG9iamVjdFtrZXldID0gW29iamVjdFtrZXldXTtcclxuICAgIH1cclxuICAgIG9iamVjdFtrZXldLnB1c2godmFsdWUpO1xyXG4gIH0pO1xyXG4gIHJldHVybiBvYmplY3Q7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0U3RhdGljRGF0YSA9IChqc29uU3RyOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cik7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEpzb25Vc2luZ0Zvcm1JZCA9IChmb3JtSWQ6IHN0cmluZykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZm9ybUlkKTtcclxuICAgIGlmICghZm9ybSkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0gYXMgSFRNTEZvcm1FbGVtZW50KTtcclxuICAgIHJldHVybiBmb3JtRGF0YVRvSnNvbk9iamVjdChmb3JtRGF0YSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEpzb25Vc2luZ0lucHV0SWRzID0gKGlucHV0SWRzOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaW5wdXRJZHNBcnJheSA9IGlucHV0SWRzLnNwbGl0KCcsJyk7XHJcbiAgICBjb25zdCBvYmplY3Q6IGFueSA9IHt9O1xyXG4gICAgaW5wdXRJZHNBcnJheS5mb3JFYWNoKGlkID0+IHtcclxuICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgIGlmIChpbnB1dCkge1xyXG4gICAgICAgIG9iamVjdFtpZF0gPSAoaW5wdXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG9iamVjdDtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbXNmdENhbGxiYWNrRnVuY3Rpb24gPSAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZXZlbnQudGFyZ2V0KTtcclxuICBjb25zdCBvYmplY3Q6IGFueSA9IGZvcm1EYXRhVG9Kc29uT2JqZWN0KGZvcm1EYXRhKTtcclxuICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignUXVlc3Rpb25zRm9ybVN1Ym1pdFdpdGhvdXRNZXRhRGF0YScsIHtcclxuICAgIGRhdGE6IG9iamVjdCxcclxuICB9KTtcclxufTtcclxuIiwiZXhwb3J0IGVudW0gQ29uc2VudE1vZGVsVHlwZSB7XHJcbiAgRXhwbGljaXQgPSAnRXhwbGljaXQnLFxyXG4gIEltcGxpY2l0ID0gJ0ltcGxpY2l0JyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUHVibGljRXZlbnRzIHtcclxuICBDb25zZW50Q2hhbmdlZCA9ICdDb25zZW50Q2hhbmdlZCcsXHJcbiAgU2hvd0NvbnNlbnROb3RpY2UgPSAnU2hvd0NvbnNlbnROb3RpY2UnLFxyXG4gIFNob3dGaXJzdFBhZ2UgPSAnU2hvd0ZpcnN0UGFnZScsXHJcbiAgQ2xvc2VDb25zZW50Tm90aWNlID0gJ0Nsb3NlQ29uc2VudE5vdGljZScsXHJcbiAgQWNjZXB0QWxsID0gJ0FjY2VwdEFsbCcsXHJcbiAgUmVqZWN0QWxsID0gJ1JlamVjdEFsbCcsXHJcbiAgU2hvd0xheW91dCA9ICdTaG93TGF5b3V0JyxcclxuICBDbG9zZUxheW91dCA9ICdDbG9zZUxheW91dCcsXHJcbiAgVXBkYXRlQ29uc2VudCA9ICdVcGRhdGVDb25zZW50JyxcclxuICBBbmNob3JUYWdDbGlja2VkID0gJ0FuY2hvclRhZ0NsaWNrZWQnLFxyXG4gIEZldGNoQ29uZmlnID0gJ0ZldGNoQ29uZmlnJyxcclxuICBRdWVzdGlvbnNGb3JtU3VibWl0V2l0aG91dE1ldGFEYXRhID0gJ1F1ZXN0aW9uc0Zvcm1TdWJtaXRXaXRob3V0TWV0YURhdGEnLFxyXG4gIFF1ZXN0aW9uc0Zvcm1TdWJtaXQgPSAnUXVlc3Rpb25zRm9ybVN1Ym1pdCcsXHJcbiAgU2hvd1ByZWZlcmVuY2VzID0gJ1Nob3dQcmVmZXJlbmNlcycsXHJcbiAgQ29uc2VudFByZWZlcmVuY2UgPSAnTVNGVENvbnNlbnRQcmVmZXJlbmNlJyxcclxuICBEYXRhUHJvcHNVcGRhdGVkID0gJ0RhdGFQcm9wc1VwZGF0ZWQnLFxyXG4gIERvbmUgPSAnRG9uZScsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEV2ZW50cyB7XHJcbiAgSW5pdCA9ICdJbml0JyxcclxuICBDb3JlQ29uc2VudE1vZGVsU2VsZWN0ZWQgPSAnQ29yZUNvbnNlbnRNb2RlbFNlbGVjdGVkJyxcclxuICBDb25maWdSZWFkeSA9ICdDb25maWdSZWFkeScsXHJcbiAgQ29uc2VudEludmFsaWQgPSAnQ29uc2VudEludmFsaWQnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBBdHRyaWJ1dGVzIHtcclxuICAvLyBXZWIgY29uc2VudCBldmVudHNcclxuICBDb25zZW50Tm90aWNlID0gJ21zZnQtY29uc2VudC1ub3RpY2UnLFxyXG4gIEFjY2VwdEFsbCA9ICdtc2Z0LWNvbnNlbnQtYWNjZXB0LWFsbCcsXHJcbiAgT3BlblByZWZlcmVuY2UgPSAnbXNmdC1jb25zZW50LW9wZW4tcHJlZmVyZW5jZXMnLFxyXG4gIENsb3NlUHJlZmVyZW5jZSA9ICdtc2Z0LWNvbnNlbnQtY2xvc2UtcHJlZmVyZW5jZXMnLFxyXG4gIERlY2xpbmVBbGwgPSAnbXNmdC1jb25zZW50LWRlY2xpbmUtYWxsJyxcclxuICBTYXZlUHJlZmVyZW5jZXMgPSAnbXNmdC1jb25zZW50LXNhdmUtcHJlZmVyZW5jZXMnLFxyXG4gIFB1cnBvc2UgPSAnbXNmdC1jb25zZW50LXRyYWNrZXItY2F0ZWdvcnknLFxyXG5cclxuICAvLyBEU1IgZXZlbnRzXHJcbiAgUXVlc3Rpb25uYWlyZUZvcm0gPSAnbXNmdC1xdWVzdGlvbm5haXJlLWZvcm0nLFxyXG4gIFF1ZXN0aW9ubmFpcmVGb3JtU3VibWl0ID0gJ21zZnQtcXVlc3Rpb25uYWlyZS1mb3JtLXN1Ym1pdCcsXHJcblxyXG4gIC8vIEdlbmVyaWMgZXZlbnRzXHJcbiAgUmVkaXJlY3QgPSAnbXNmdC1yZWRpcmVjdCcsXHJcbiAgT3BlblBhZ2UgPSAnbXNmdC1vcGVuLXBhZ2UnLFxyXG4gIENsb3NlUGFnZSA9ICdtc2Z0LWNsb3NlLXBhZ2UnLFxyXG4gIFRyaWdnZXJFdmVudCA9ICdtc2Z0LXRyaWdnZXInLFxyXG4gIFRvZ2dsZUlkID0gJ21zZnQtdG9nZ2xlLWlkJyxcclxuICBUb2dnbGVPbiA9ICdtc2Z0LXRvZ2dsZS1vbicsXHJcbiAgVG9nZ2xlT2ZmID0gJ21zZnQtdG9nZ2xlLW9mZicsXHJcbiAgRm9ybVBheWxvYWREYXRhID0gJ21zZnQtcGF5bG9hZC1kYXRhJyxcclxuICBGb3JtSWQgPSAnbXNmdC1wYXlsb2FkLWZvcm0taWQnLFxyXG4gIEZvcm1JbnB1dElEcyA9ICdtc2Z0LXBheWxvYWQtaW5wdXQtaWRzJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gU0RLTW9kZSB7XHJcbiAgRGVmYXVsdCA9ICdEZWZhdWx0JyxcclxuICBIZWFkTGVzcyA9ICdIZWFkTGVzcycsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFN0eWxlVHlwZSB7XHJcbiAgVXJsID0gJ1VybCcsXHJcbiAgVGV4dCA9ICdUZXh0JyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUHJlZmVyZW5jZSB7XHJcbiAgT0ZGID0gJzAnLFxyXG4gIE9OID0gJzEnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBDb29raWUge1xyXG4gIENvbnNlbnQgPSAnbXNmdC1jb25zZW50JyxcclxuICBDb25zZW50TWV0YWRhdGEgPSAnbXNmdC1jb25zZW50LW1ldGFkYXRhJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUmVnaXN0ZXJlZERpdlR5cGUge1xyXG4gIFNjcmlwdCA9ICdzY3JpcHQnLFxyXG4gIElGcmFtZSA9ICdpZnJhbWUnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBOb3RpY2VUeXBlIHtcclxuICBDb250cm9sID0gJ0NvbnRyb2wnLFxyXG4gIFF1ZXN0aW9ucyA9ICdRdWVzdGlvbnMnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBFcnJvclN0cmluZ3Mge1xyXG4gIExheW91dEVycm9yID0gJzxiPlRoZXJlIGlzIHNvbWV0aGluZyB3cm9uZyB3aXRoIGxheW91dC4gUGxlYXNlIGNoZWNrIGxvZ3MuPC9iPicsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEludGVydmFsVW5pdHMge1xyXG4gIGRheSA9ICdkYXknLFxyXG4gIHdlZWsgPSAnd2VlaycsXHJcbiAgbW9udGggPSAnbW9udGgnLFxyXG4gIHllYXIgPSAneWVhcicsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFF1ZXN0aW9uVHlwZSB7XHJcbiAgVGV4dCA9ICdUZXh0JyxcclxuICBFbWFpbCA9ICdFbWFpbCcsXHJcbiAgUmFkaW8gPSAnUmFkaW8nLFxyXG4gIE11bHRpU2VsZWN0ID0gJ011bHRpU2VsZWN0JyxcclxuICBTZWxlY3QgPSAnU2VsZWN0JyxcclxuICBEYXRlID0gJ0RhdGUnLFxyXG4gIFBob25lTnVtYmVyID0gJ1Bob25lTnVtYmVyJyxcclxuICBDcmVkaXRDYXJkID0gJ0NyZWRpdENhcmQnLFxyXG4gIE51bWJlciA9ICdOdW1iZXInLFxyXG4gIE11bHRpTGluZVRleHQgPSAnbXVsdGlMaW5lVGV4dCcsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFF1ZXN0aW9uVmFsaWRhdGlvbiB7XHJcbiAgUmVxdWlyZWQgPSAnUmVxdWlyZWQnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBRdWVzdGlvbkZpZWxkIHtcclxuICBRdWVzdGlvbiA9ICdxdWVzdGlvbicsXHJcbiAgUGxhY2Vob2xkZXIgPSAncGxhY2Vob2xkZXInLFxyXG4gIE9wdGlvbnMgPSAnb3B0aW9ucycsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIE1vZGVsS2luZCB7XHJcbiAgV2ViQ29uc2VudCA9ICdNSUNST1NPRlQuV2ViQ29uc2VudCcsXHJcbiAgRFNSU3VibWlzc2lvbiA9ICdNSUNST1NPRlQuRFNSU3VibWlzc2lvbicsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFBhY2thZ2VLaW5kIHtcclxuICBXZWJDb25zZW50UGFja2FnZSA9ICdXZWJDb25zZW50UGFja2FnZScsXHJcbiAgRklERVNQYWNrYWdlID0gJ0ZJREVTUGFja2FnZScsXHJcbiAgRFNSU3VibWlzc2lvblBhY2thZ2UgPSAnRFNSU3VibWlzc2lvblBhY2thZ2UnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBMYXlvdXQge1xyXG4gIFByZWZlcmVuY2VzID0gJ1ByZWZlcmVuY2VzJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gQXBwQ29uZmlndXJhdGlvblR5cGUge1xyXG4gIFB1cnBvc2VDb25maWd1cmF0aW9uID0gJ3B1cnBvc2VDb25maWd1cmF0aW9uJyxcclxufVxyXG4iLCJpbXBvcnQgeyBraW5kIH0gZnJvbSAnY29tbW9uL3Nkayc7XHJcbmltcG9ydCB7XHJcbiAgZ2V0SnNvblVzaW5nRm9ybUlkLFxyXG4gIGdldEpzb25Vc2luZ0lucHV0SWRzLFxyXG4gIGdldFN0YXRpY0RhdGEsXHJcbiAgbXNmdENhbGxiYWNrRnVuY3Rpb24sXHJcbn0gZnJvbSAnLi9oZWxwZXJzJztcclxuaW1wb3J0IHsgQXR0cmlidXRlcyB9IGZyb20gJ2NvcmUvY29uc3RhbnRzL2VudW1zJztcclxuXHJcbmNvbnN0IGhhbmRsZXJzID0gW1xyXG4gIHtcclxuICAgIC8vaGFuZGxlciBmb3IgYWNjZXB0IGFsbCBidXR0b25cclxuICAgIHNlbGVjdG9yOiBgWyR7QXR0cmlidXRlcy5BY2NlcHRBbGx9XWAsXHJcbiAgICBoYW5kbGVyOiAoZWxtOiBFbGVtZW50KSA9PiB7XHJcbiAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignQWNjZXB0QWxsJyk7XHJcbiAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ0Nsb3NlQ29uc2VudE5vdGljZScpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICAvL2hhbmRsZXIgZm9yIG9wZW4gcHJlZmVyZW5jZXMgYnV0dG9uXHJcbiAge1xyXG4gICAgc2VsZWN0b3I6IGBbJHtBdHRyaWJ1dGVzLk9wZW5QcmVmZXJlbmNlfV1gLFxyXG4gICAgaGFuZGxlcjogKGVsbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ1Nob3dMYXlvdXQnLCB7XHJcbiAgICAgICAgICBsYXlvdXRJZDogJ1ByZWZlcmVuY2VzJyxcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignQ2xvc2VDb25zZW50Tm90aWNlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIC8vaGFuZGxlciBmb3IgZGVjbGluZSBhbGwgYnV0dG9uXHJcbiAge1xyXG4gICAgc2VsZWN0b3I6IGBbJHtBdHRyaWJ1dGVzLkRlY2xpbmVBbGx9XWAsXHJcbiAgICBoYW5kbGVyOiAoZWxtOiBFbGVtZW50KSA9PiB7XHJcbiAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignUmVqZWN0QWxsJyk7XHJcbiAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ0Nsb3NlQ29uc2VudE5vdGljZScpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICAvL2hhbmRsZXIgZm9yIHNhdmUgcHJlZmVyZW5jZXMgYnV0dG9uXHJcbiAge1xyXG4gICAgc2VsZWN0b3I6IGBbJHtBdHRyaWJ1dGVzLlNhdmVQcmVmZXJlbmNlc31dYCxcclxuICAgIGhhbmRsZXI6IChlbG06IEVsZW1lbnQpID0+IHtcclxuICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHB1cnBvc2VzU2VsZWN0b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAgIGBbJHtBdHRyaWJ1dGVzLlB1cnBvc2V9XWAsXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50UHJlZmVyZW5jZXM6IGFueSA9IHsgcHJlZmVyZW5jZXM6IHt9IH07XHJcbiAgICAgICAgcHVycG9zZXNTZWxlY3RvcnMuZm9yRWFjaChmdW5jdGlvbiAocHVycG9zZSkge1xyXG4gICAgICAgICAgY3VycmVudFByZWZlcmVuY2VzLnByZWZlcmVuY2VzW1xyXG4gICAgICAgICAgICBwdXJwb3NlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpWzBdLmlkXHJcbiAgICAgICAgICBdID0gcHVycG9zZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXS5jaGVja2VkID8gJzEnIDogJzAnO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXS50cmlnZ2VyKCdVcGRhdGVDb25zZW50Jywge1xyXG4gICAgICAgICAgY29uc2VudDogY3VycmVudFByZWZlcmVuY2VzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXS50cmlnZ2VyKCdDbG9zZUxheW91dCcsIHtcclxuICAgICAgICAgIGxheW91dElkOiAnUHJlZmVyZW5jZXMnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXS50cmlnZ2VyKCdDbG9zZUNvbnNlbnROb3RpY2UnKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgLy9oYW5kbGVyIGZvciBjbG9zZSBwcmVmZXJlbmNlcyBidXR0b25cclxuICB7XHJcbiAgICBzZWxlY3RvcjogYFske0F0dHJpYnV0ZXMuQ2xvc2VQcmVmZXJlbmNlfV1gLFxyXG4gICAgaGFuZGxlcjogKGVsbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ0Nsb3NlTGF5b3V0Jywge1xyXG4gICAgICAgICAgbGF5b3V0SWQ6ICdQcmVmZXJlbmNlcycsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoJ1Nob3dDb25zZW50Tm90aWNlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIC8vaGFuZGxlciBmb3IgZm9ybSBzdWJtaXRcclxuICB7XHJcbiAgICBzZWxlY3RvcjogYFske0F0dHJpYnV0ZXMuUXVlc3Rpb25uYWlyZUZvcm19XWAsXHJcbiAgICBoYW5kbGVyOiAoZWxtOiBFbGVtZW50KSA9PiB7XHJcbiAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBtc2Z0Q2FsbGJhY2tGdW5jdGlvbik7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgLy9oYW5kbGVyIGZvciBvcGVuIHBhZ2VcclxuICB7XHJcbiAgICBzZWxlY3RvcjogYFske0F0dHJpYnV0ZXMuT3BlblBhZ2V9XWAsXHJcbiAgICBoYW5kbGVyOiAoZWxtOiBFbGVtZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IGxheW91dElkID0gZWxtLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGVzLk9wZW5QYWdlKTtcclxuICAgICAgaWYgKGxheW91dElkID09PSBudWxsKSByZXR1cm47XHJcbiAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignU2hvd0xheW91dCcsIHtcclxuICAgICAgICAgIGxheW91dElkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICAvL2hhbmRsZXIgZm9yIGNsb3NlIHBhZ2VcclxuICB7XHJcbiAgICBzZWxlY3RvcjogYFske0F0dHJpYnV0ZXMuQ2xvc2VQYWdlfV1gLFxyXG4gICAgaGFuZGxlcjogKGVsbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICBjb25zdCBsYXlvdXRJZHMgPSBlbG0uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMuQ2xvc2VQYWdlKTtcclxuICAgICAgaWYgKGxheW91dElkcyA9PT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgbGF5b3V0SWRzLnNwbGl0KCcsJykuZm9yRWFjaChsYXlvdXRJZCA9PiB7XHJcbiAgICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcignQ2xvc2VMYXlvdXQnLCB7XHJcbiAgICAgICAgICAgIGxheW91dElkLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIC8vaGFuZGxlciBmb3IgdHJpZ2dlciBldmVudFxyXG4gIHtcclxuICAgIHNlbGVjdG9yOiBgWyR7QXR0cmlidXRlcy5UcmlnZ2VyRXZlbnR9XWAsXHJcbiAgICBoYW5kbGVyOiAoZWxtOiBFbGVtZW50KSA9PiB7XHJcbiAgICAgIGxldCBldmVudE5hbWUgPSBlbG0uZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMuVHJpZ2dlckV2ZW50KTtcclxuICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gJ3RvZ2dsZS1kcml2ZW4nKSB7XHJcbiAgICAgICAgICBjb25zdCB0b2dnbGVJZCA9IGVsbS5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5Ub2dnbGVJZCk7XHJcbiAgICAgICAgICBpZiAodG9nZ2xlSWQgPT09IG51bGwpIHJldHVybjtcclxuICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodG9nZ2xlSWQpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgICBpZiAoaW5wdXQ/LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgZXZlbnROYW1lID0gaW5wdXQuZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMuVG9nZ2xlT24pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnROYW1lID0gaW5wdXQuZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMuVG9nZ2xlT2ZmKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc3RhdGljRGF0YSA9IGVsbS5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5Gb3JtUGF5bG9hZERhdGEpO1xyXG4gICAgICAgIGNvbnN0IGZvcm1JZCA9IGVsbS5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5Gb3JtSWQpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0SWRzID0gZWxtLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGVzLkZvcm1JbnB1dElEcyk7XHJcbiAgICAgICAgbGV0IHBheWxvYWQ6IGFueSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHN0YXRpY0RhdGEgIT09IG51bGwpIHtcclxuICAgICAgICAgIHBheWxvYWQgPSBnZXRTdGF0aWNEYXRhKHN0YXRpY0RhdGEpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybUlkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBwYXlsb2FkID0gZ2V0SnNvblVzaW5nRm9ybUlkKGZvcm1JZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dElkcyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgcGF5bG9hZCA9IGdldEpzb25Vc2luZ0lucHV0SWRzKGlucHV0SWRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXZlbnROYW1lICE9PSBudWxsICYmXHJcbiAgICAgICAgICB3aW5kb3cuTVNGVFByaXZhY3lba2luZF0udHJpZ2dlcihldmVudE5hbWUsIHBheWxvYWQpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgc2VsZWN0b3I6IGBbJHtBdHRyaWJ1dGVzLlJlZGlyZWN0fV1gLFxyXG4gICAgaGFuZGxlcjogKGVsbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICBjb25zdCByZWRpcmVjdFVybCA9IGVsbS5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5SZWRpcmVjdCk7XHJcbiAgICAgIGlmIChyZWRpcmVjdFVybCkge1xyXG4gICAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgJ2NsaWNrJyxcclxuICAgICAgICAgICgpID0+ICh3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlZGlyZWN0VXJsKSxcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0sXHJcbl07XHJcblxyXG4od2luZG93IGFzIGFueSlbJ2Rpc2FibGVRdWVzdGlvbkZvcm1TdWJtaXQnXSA9ICgpID0+IHtcclxuICBkb2N1bWVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoYFske0F0dHJpYnV0ZXMuUXVlc3Rpb25uYWlyZUZvcm1TdWJtaXR9XWApXHJcbiAgICAuZm9yRWFjaChlbG0gPT4ge1xyXG4gICAgICBlbG0uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcnKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuKHdpbmRvdyBhcyBhbnkpWydlbmFibGVRdWVzdGlvbkZvcm1TdWJtaXQnXSA9ICgpID0+IHtcclxuICBkb2N1bWVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoYFske0F0dHJpYnV0ZXMuUXVlc3Rpb25uYWlyZUZvcm1TdWJtaXR9XWApXHJcbiAgICAuZm9yRWFjaChlbG0gPT4ge1xyXG4gICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5jb25zdCByZWdpc3RlckhhbmRsZXJzID0gKCkgPT4ge1xyXG4gIGNvbnN0IGV4ZWN1dGlvbkNvbnRleHRzID0gKHdpbmRvdyBhcyBhbnkpLm1zZnREYXRhPy5leGVjdXRpb25Db250ZXh0cz8ubGVuZ3RoXHJcbiAgICA/ICgod2luZG93IGFzIGFueSkubXNmdERhdGEuZXhlY3V0aW9uQ29udGV4dHMgYXMgc3RyaW5nW10pXHJcbiAgICA6IFtdO1xyXG4gIC8vIHJlZ2lzdGVyIGFsbCBoYW5kbGVyc1xyXG4gIGhhbmRsZXJzLmZvckVhY2goKHsgc2VsZWN0b3IsIGhhbmRsZXIgfSkgPT4ge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaChlbG0gPT4ge1xyXG4gICAgICBpZiAoZXhlY3V0aW9uQ29udGV4dHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBlbG0uZ2V0QXR0cmlidXRlTmFtZXMoKTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBleGVjdXRpb25Db250ZXh0cy5zb21lKGN0eCA9PiBhdHRyaWJ1dGVzLmluY2x1ZGVzKGAke2N0eH0tZGlzYWJsZWRgKSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaGFuZGxlcihlbG0pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vcmVtb3ZlIGFsbCBoaWRkZW4gZWxlbWVudHNcclxuICBleGVjdXRpb25Db250ZXh0cy5mb3JFYWNoKGN0eCA9PiB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHtjdHh9LWhpZGRlbl1gKS5mb3JFYWNoKGVsbSA9PiB7XHJcbiAgICAgIGVsbS5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBpc0dQQ0VuYWJsZWQgPSAod2luZG93IGFzIGFueSkubXNmdERhdGE/LmlzR1BDRW5hYmxlZCB8fCBmYWxzZTtcclxuICBpZiAoaXNHUENFbmFibGVkKSB7XHJcbiAgICBjb25zdCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpO1xyXG4gICAgaW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJyk7XHJcbiAgICBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcclxuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XHJcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtc2Z0LWRpc2FibGVkJyk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske0F0dHJpYnV0ZXMuQ2xvc2VQYWdlfV1gKTtcclxuICAgIGNsb3NlQnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XHJcbiAgICAgIGJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtc2Z0LWRpc2FibGVkJyk7XHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5pZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2xvYWRpbmcnKSB7XHJcbiAgcmVnaXN0ZXJIYW5kbGVycygpO1xyXG59IGVsc2Uge1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICByZWdpc3RlckhhbmRsZXJzKCk7XHJcbiAgfSk7XHJcbn1cclxuIiwiaW1wb3J0ICcuL2F0dHJpYnV0ZUhhbmRsZXJzJztcclxuaW1wb3J0IHsga2luZCB9IGZyb20gJ2NvbW1vbi9zZGsnO1xyXG5cclxuY29uc3QgYWRkUHJveHlNZXRob2RzID0gKCkgPT4ge1xyXG4gIGltcG9ydCgnLi9hbmNob3JDbGlja0hhbmRsZXInKTtcclxuXHJcbiAgaW1wb3J0KCcuL3Byb3h5JykudGhlbigoeyBjYWxsTWV0aG9kLCBzZW5kTWVzc2FnZSB9KSA9PiB7XHJcbiAgICB3aW5kb3cuTVNGVFByaXZhY3kgPSB7IFtraW5kXToge30gfSBhcyBhbnk7XHJcblxyXG4gICAgY29uc3QgbWV0aG9kc1dpdGhSZXR1cm5UeXBlID0gWydnZXRDb25zZW50JywgJ2dldFB1cnBvc2VzJ107XHJcbiAgICBjb25zdCBtZXRob2RzV2l0aG91dFJldHVyblR5cGUgPSBbJ3RyaWdnZXInLCAnc2hvd0NoYW5nZVNldHRpbmdzTW9kYWwnXTtcclxuXHJcbiAgICBtZXRob2RzV2l0aG91dFJldHVyblR5cGUuZm9yRWFjaChtZXRob2ROYW1lID0+IHtcclxuICAgICAgKHdpbmRvdy5NU0ZUUHJpdmFjeVtraW5kXSBhcyBhbnkpW21ldGhvZE5hbWVdID0gKFxyXG4gICAgICAgIC4uLmFyZ3M6IGFueVtdXHJcbiAgICAgICk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHNlbmRNZXNzYWdlKG1ldGhvZE5hbWUsIGFyZ3MpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgbWV0aG9kc1dpdGhSZXR1cm5UeXBlLmZvckVhY2gobWV0aG9kTmFtZSA9PiB7XHJcbiAgICAgICh3aW5kb3cuTVNGVFByaXZhY3lba2luZF0gYXMgYW55KVttZXRob2ROYW1lXSA9IChcclxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxyXG4gICAgICApOiBQcm9taXNlPGFueT4gPT4ge1xyXG4gICAgICAgIHJldHVybiBjYWxsTWV0aG9kKG1ldGhvZE5hbWUsIGFyZ3MpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5pZiAoISh3aW5kb3cgYXMgYW55KS5tc2Z0RGF0YT8ucmVuZGVyTGF5b3V0V2l0aG91dElmcmFtZSkge1xyXG4gIGFkZFByb3h5TWV0aG9kcygpO1xyXG59XHJcbiIsImltcG9ydCB7IFB1YmxpY0V2ZW50cyB9IGZyb20gJ2NvcmUvY29uc3RhbnRzL2VudW1zJztcclxuaW1wb3J0IHsga2luZCB9IGZyb20gJ2NvbW1vbi9zZGsnO1xyXG5cclxuY29uc3Qgb25jbGlja0hhbmRsZXIgPSAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gIGlmIChcclxuICAgIGUudGFyZ2V0ICYmXHJcbiAgICAoZS50YXJnZXQgYXMgSFRNTEFuY2hvckVsZW1lbnQpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhJ1xyXG4gICkge1xyXG4gICAgY29uc3QgYXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xyXG4gICAgY29uc3QgYXR0cmlidXRlTmFtZXMgPSAoZS50YXJnZXQgYXMgSFRNTEFuY2hvckVsZW1lbnQpLmdldEF0dHJpYnV0ZU5hbWVzKCk7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBhdHRyTmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2ldO1xyXG4gICAgICBhdHRyaWJ1dGVzW2F0dHJOYW1lXSA9XHJcbiAgICAgICAgKGUudGFyZ2V0IGFzIEhUTUxBbmNob3JFbGVtZW50KS5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpIHx8ICcnO1xyXG4gICAgfVxyXG4gICAgd2luZG93Lk1TRlRQcml2YWN5W2tpbmRdLnRyaWdnZXIoUHVibGljRXZlbnRzLkFuY2hvclRhZ0NsaWNrZWQsIHtcclxuICAgICAgYXR0cmlidXRlcyxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIE9wdGlvbnMgZm9yIHRoZSBvYnNlcnZlciAod2hpY2ggbXV0YXRpb25zIHRvIG9ic2VydmUpXHJcbmNvbnN0IGNvbmZpZyA9IHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH07XHJcblxyXG4vLyBDYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gbXV0YXRpb25zIGFyZSBvYnNlcnZlZFxyXG5jb25zdCBjYWxsYmFjazogTXV0YXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uIChtdXRhdGlvbkxpc3QpIHtcclxuICBtdXRhdGlvbkxpc3QuZm9yRWFjaChtdXRhdGlvblJlY29yZCA9PiB7XHJcbiAgICBtdXRhdGlvblJlY29yZC5hZGRlZE5vZGVzLmZvckVhY2goYWRkZWROb2RlID0+IHtcclxuICAgICAgaWYgKGFkZGVkTm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYScpIHtcclxuICAgICAgICBhZGRlZE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB7IGhhbmRsZUV2ZW50OiBvbmNsaWNrSGFuZGxlciB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyBDcmVhdGUgYW4gb2JzZXJ2ZXIgaW5zdGFuY2UgbGlua2VkIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvblxyXG5jb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcclxuXHJcbi8vIFN0YXJ0IG9ic2VydmluZyB0aGUgdGFyZ2V0IG5vZGUgZm9yIGNvbmZpZ3VyZWQgbXV0YXRpb25zXHJcbm9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBjb25maWcpO1xyXG4iLCJleHBvcnQgaW50ZXJmYWNlIElEZWZlcnJlZDxUPiB7XHJcbiAgcHJvbWlzZTogUHJvbWlzZTxUPjtcclxuICByZXNvbHZlOiAodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4gdm9pZDtcclxuICByZWplY3Q6IChyZWFzb24/OiBhbnkpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFzeW5jVXRpbHMge1xyXG4gIHB1YmxpYyBzdGF0aWMgZGVmZXJyZWQ8VD4oKTogSURlZmVycmVkPFQ+IHtcclxuICAgIGNvbnN0IGRlZmVyID0ge30gYXMgSURlZmVycmVkPFQ+O1xyXG4gICAgZGVmZXIucHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChyZXMsIHJlaikgPT4ge1xyXG4gICAgICBkZWZlci5yZXNvbHZlID0gcmVzO1xyXG4gICAgICBkZWZlci5yZWplY3QgPSByZWo7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZGVmZXI7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFB1YmxpY0V2ZW50cyB9IGZyb20gJ2NvcmUvY29uc3RhbnRzL2VudW1zJztcclxuaW1wb3J0IEFzeW5jVXRpbHMsIHsgSURlZmVycmVkIH0gZnJvbSAnY29yZS91dGlscy9Bc3luY1V0aWxzJztcclxuXHJcbmNvbnN0IHByb21pc2VNYXA6IHsgW2tleTogc3RyaW5nXTogSURlZmVycmVkPGFueT4gfSA9IHt9O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNlbmRNZXNzYWdlID0gKFxyXG4gIG1ldGhvZDogc3RyaW5nLFxyXG4gIGFyZ3M6IGFueVtdLFxyXG4gIHJlc3BvbnNlSWQ/OiBzdHJpbmcsXHJcbikgPT4ge1xyXG4gIGlmIChwYXJlbnQpIHtcclxuICAgIGlmIChcclxuICAgICAgYXJncy5sZW5ndGggPiAwICYmXHJcbiAgICAgIChhcmdzWzBdID09PSBQdWJsaWNFdmVudHMuU2hvd0xheW91dCB8fFxyXG4gICAgICAgIGFyZ3NbMF0gPT09IFB1YmxpY0V2ZW50cy5DbG9zZUxheW91dCB8fFxyXG4gICAgICAgIGFyZ3NbMF0gPT09IFB1YmxpY0V2ZW50cy5DbG9zZUNvbnNlbnROb3RpY2UgfHxcclxuICAgICAgICAhKHdpbmRvdyBhcyBhbnkpLm1zZnREYXRhPy5pc0dQQ0VuYWJsZWQpXHJcbiAgICApXHJcbiAgICAgIHBhcmVudC5wb3N0TWVzc2FnZShcclxuICAgICAgICB7IG1ldGhvZDogbWV0aG9kLCBwYXJhbXM6IE9iamVjdC52YWx1ZXMoYXJncyksIHJlc3BvbnNlSWQgfSxcclxuICAgICAgICBtc2Z0RGF0YS5vcmlnaW4sXHJcbiAgICAgICk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhbGxNZXRob2QgPSAobWV0aG9kOiBzdHJpbmcsIGFyZ3M6IGFueVtdKTogUHJvbWlzZTxhbnk+ID0+IHtcclxuICBjb25zdCByZXNwb25zZUlkID0gYCR7bWV0aG9kfS0ke25ldyBEYXRlKCkuZ2V0VGltZSgpfWA7XHJcbiAgY29uc3QgZGVmZXJyZWQgPSBBc3luY1V0aWxzLmRlZmVycmVkPGFueT4oKTtcclxuICBwcm9taXNlTWFwW3Jlc3BvbnNlSWRdID0gZGVmZXJyZWQ7XHJcbiAgc2VuZE1lc3NhZ2UobWV0aG9kLCBhcmdzLCByZXNwb25zZUlkKTtcclxuICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxufTtcclxuXHJcbndpbmRvdy5vbm1lc3NhZ2UgPSBlID0+IHtcclxuICBpZiAoZS5vcmlnaW4gPT09IG1zZnREYXRhLm9yaWdpbiAmJiBlPy5kYXRhPy5yZXNwb25zZUlkKSB7XHJcbiAgICBlLmRhdGEuZXJyb3JcclxuICAgICAgPyBwcm9taXNlTWFwW2UuZGF0YS5yZXNwb25zZUlkXS5yZWplY3QoZS5kYXRhLmVycm9yKVxyXG4gICAgICA6IHByb21pc2VNYXBbZS5kYXRhLnJlc3BvbnNlSWRdLnJlc29sdmUoZS5kYXRhLnJlc3BvbnNlKTtcclxuICB9XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJBc3luY1V0aWxzIl0sIm1hcHBpbmdzIjoiOzs7SUFBTyxJQUFNLElBQUks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
